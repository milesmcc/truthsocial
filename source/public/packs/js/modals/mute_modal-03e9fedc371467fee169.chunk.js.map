{"version":3,"sources":["webpack:///./app/javascript/mastodon/features/ui/components/mute_modal.js"],"names":["messages","defineMessages","minutes","hours","days","indefinite","MuteModal","connect","state","account","getIn","notifications","muteDuration","dispatch","onConfirm","muteAccount","get","onClose","closeModal","onToggleNotifications","toggleHideNotifications","onChangeMuteDuration","e","changeMuteDuration","target","value","injectIntl","handleClick","props","handleCancel","setRef","c","button","toggleNotifications","componentDidMount","this","focus","render","intl","className","id","defaultMessage","values","name","checked","onChange","htmlFor","formatMessage","number","onClick","ref","React","PureComponent"],"mappings":"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","file":"js/modals/mute_modal-03e9fedc371467fee169.chunk.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl, FormattedMessage } from 'react-intl';\nimport Toggle from 'react-toggle';\nimport Button from '../../../components/button';\nimport { closeModal } from '../../../actions/modal';\nimport { muteAccount } from '../../../actions/accounts';\nimport { toggleHideNotifications, changeMuteDuration } from '../../../actions/mutes';\n\nconst messages = defineMessages({\n  minutes: { id: 'intervals.full.minutes', defaultMessage: '{number, plural, one {# minute} other {# minutes}}' },\n  hours: { id: 'intervals.full.hours', defaultMessage: '{number, plural, one {# hour} other {# hours}}' },\n  days: { id: 'intervals.full.days', defaultMessage: '{number, plural, one {# day} other {# days}}' },\n  indefinite: { id: 'mute_modal.indefinite', defaultMessage: 'Indefinite' },\n});\n\nconst mapStateToProps = state => {\n  return {\n    account: state.getIn(['mutes', 'new', 'account']),\n    notifications: state.getIn(['mutes', 'new', 'notifications']),\n    muteDuration: state.getIn(['mutes', 'new', 'duration']),\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onConfirm(account, notifications, muteDuration) {\n      dispatch(muteAccount(account.get('id'), notifications, muteDuration));\n    },\n\n    onClose() {\n      dispatch(closeModal());\n    },\n\n    onToggleNotifications() {\n      dispatch(toggleHideNotifications());\n    },\n\n    onChangeMuteDuration(e) {\n      dispatch(changeMuteDuration(e.target.value));\n    },\n  };\n};\n\nexport default @connect(mapStateToProps, mapDispatchToProps)\n@injectIntl\nclass MuteModal extends React.PureComponent {\n\n  static propTypes = {\n    account: PropTypes.object.isRequired,\n    notifications: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onConfirm: PropTypes.func.isRequired,\n    onToggleNotifications: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n    muteDuration: PropTypes.number.isRequired,\n    onChangeMuteDuration: PropTypes.func.isRequired,\n  };\n\n  componentDidMount() {\n    this.button.focus();\n  }\n\n  handleClick = () => {\n    this.props.onClose();\n    this.props.onConfirm(this.props.account, this.props.notifications, this.props.muteDuration);\n  }\n\n  handleCancel = () => {\n    this.props.onClose();\n  }\n\n  setRef = (c) => {\n    this.button = c;\n  }\n\n  toggleNotifications = () => {\n    this.props.onToggleNotifications();\n  }\n\n  changeMuteDuration = (e) => {\n    this.props.onChangeMuteDuration(e);\n  }\n\n  render () {\n    const { account, notifications, muteDuration, intl } = this.props;\n\n    return (\n      <div className='modal-root__modal mute-modal'>\n        <div className='mute-modal__container'>\n          <p>\n            <FormattedMessage\n              id='confirmations.mute.message'\n              defaultMessage='Are you sure you want to mute {name}?'\n              values={{ name: <strong>@{account.get('acct')}</strong> }}\n            />\n          </p>\n          <p className='mute-modal__explanation'>\n            <FormattedMessage\n              id='confirmations.mute.explanation'\n              defaultMessage='This will hide posts from them and posts mentioning them, but it will still allow them to see your posts and follow you.'\n            />\n          </p>\n          <div className='setting-toggle'>\n            <Toggle id='mute-modal__hide-notifications-checkbox' checked={notifications} onChange={this.toggleNotifications} />\n            <label className='setting-toggle__label' htmlFor='mute-modal__hide-notifications-checkbox'>\n              <FormattedMessage id='mute_modal.hide_notifications' defaultMessage='Hide notifications from this user?' />\n            </label>\n          </div>\n          <div>\n            <span><FormattedMessage id='mute_modal.duration' defaultMessage='Duration' />: </span>\n\n            {/* eslint-disable-next-line jsx-a11y/no-onchange */}\n            <select value={muteDuration} onChange={this.changeMuteDuration}>\n              <option value={0}>{intl.formatMessage(messages.indefinite)}</option>\n              <option value={300}>{intl.formatMessage(messages.minutes, { number: 5 })}</option>\n              <option value={1800}>{intl.formatMessage(messages.minutes, { number: 30 })}</option>\n              <option value={3600}>{intl.formatMessage(messages.hours, { number: 1 })}</option>\n              <option value={21600}>{intl.formatMessage(messages.hours, { number: 6 })}</option>\n              <option value={86400}>{intl.formatMessage(messages.days, { number: 1 })}</option>\n              <option value={259200}>{intl.formatMessage(messages.days, { number: 3 })}</option>\n              <option value={604800}>{intl.formatMessage(messages.days, { number: 7 })}</option>\n            </select>\n          </div>\n        </div>\n\n        <div className='mute-modal__action-bar'>\n          <Button onClick={this.handleCancel} className='mute-modal__cancel-button'>\n            <FormattedMessage id='confirmation_modal.cancel' defaultMessage='Cancel' />\n          </Button>\n          <Button onClick={this.handleClick} ref={this.setRef}>\n            <FormattedMessage id='confirmations.mute.confirm' defaultMessage='Mute' />\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n}\n"],"sourceRoot":""}