{"version":3,"sources":["webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/util.js","webpack:///./node_modules/stackframe/stackframe.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-generator.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/base64-vlq.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/array-set.js","webpack:///./node_modules/stacktrace-js/stacktrace.js","webpack:///./node_modules/react-router/node_modules/history/node_modules/warning/browser.js","webpack:///./app/javascript/packs/application.js","webpack:///./node_modules/error-stack-parser/error-stack-parser.js","webpack:///./node_modules/stack-generator/stack-generator.js","webpack:///./node_modules/stacktrace-gps/stacktrace-gps.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/source-map.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/base64.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/mapping-list.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/source-map-consumer.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/binary-search.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/quick-sort.js","webpack:///./node_modules/stacktrace-gps/node_modules/source-map/lib/source-node.js","webpack:///./app/javascript/mastodon/performance.js","webpack:///./node_modules/offline-plugin/runtime.js","webpack:///./node_modules/react-router/es/Router.js","webpack:///./node_modules/react-router-dom/es/Router.js","webpack:///./node_modules/react-router-dom/es/BrowserRouter.js","webpack:///./node_modules/react-router/node_modules/resolve-pathname/index.js","webpack:///./node_modules/react-router/node_modules/value-equal/index.js","webpack:///./node_modules/react-router/node_modules/history/es/LocationUtils.js","webpack:///./node_modules/react-router/node_modules/history/es/PathUtils.js","webpack:///./node_modules/react-router/node_modules/history/es/DOMUtils.js","webpack:///./node_modules/react-router/node_modules/history/es/createBrowserHistory.js","webpack:///./node_modules/react-router/node_modules/history/es/createHashHistory.js","webpack:///./node_modules/react-router/node_modules/history/es/createMemoryHistory.js","webpack:///./node_modules/react-router/es/generatePath.js","webpack:///./node_modules/react-router/es/Redirect.js","webpack:///./node_modules/react-router-dom/es/Redirect.js","webpack:///./node_modules/react-router/es/Switch.js","webpack:///./node_modules/react-router-dom/es/Switch.js","webpack:///./app/javascript/mastodon/features/ui/components/column_loading.js","webpack:///./app/javascript/mastodon/features/ui/components/bundle_column_error.js","webpack:///./app/javascript/mastodon/features/ui/util/react_router_helpers.js","webpack:///./app/javascript/mastodon/features/ui/components/upload_area.js","webpack:///./app/javascript/mastodon/features/ui/components/notifications_counter_icon.js","webpack:///./app/javascript/mastodon/features/ui/components/tabs_bar.js","webpack:///./app/javascript/mastodon/components/logo_full.js","webpack:///./app/javascript/mastodon/features/ui/components/header.js","webpack:///./app/javascript/mastodon/features/ui/components/drawer_loading.js","webpack:///./app/javascript/mastodon/features/ui/components/compose_panel.js","webpack:///./app/javascript/mastodon/features/ui/components/follow_requests_nav_link.js","webpack:///./app/javascript/mastodon/features/ui/components/list_panel.js","webpack:///./app/javascript/mastodon/features/ui/components/navigation_panel.js","webpack:///./app/javascript/mastodon/features/ui/components/columns_area.js","webpack:///./app/javascript/mastodon/features/ui/containers/columns_area_container.js","webpack:///./app/javascript/mastodon/features/ui/components/document_title.js","webpack:///./app/javascript/mastodon/features/picture_in_picture/components/header.js","webpack:///./app/javascript/mastodon/features/picture_in_picture/index.js","webpack:///./app/javascript/mastodon/actions/onboarding.js","webpack:///./app/javascript/mastodon/features/ui/index.js","webpack:///./app/javascript/mastodon/components/error_boundary.js","webpack:///./app/javascript/mastodon/containers/mastodon.js","webpack:///./app/javascript/mastodon/main.js"],"names":["exports","getArg","aArgs","aName","aDefaultValue","arguments","length","Error","urlRegexp","dataUrlRegexp","urlParse","aUrl","match","scheme","auth","host","port","path","urlGenerate","aParsedUrl","url","normalize","aPath","part","isAbsolute","parts","split","up","i","splice","join","aRoot","aPathUrl","aRootUrl","joined","charAt","replace","relative","level","indexOf","index","lastIndexOf","slice","Array","substr","supportsNullProto","Object","create","identity","s","isProtoString","charCodeAt","strcmp","aStr1","aStr2","toSetString","aStr","fromSetString","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","cmp","source","originalLine","originalColumn","generatedColumn","generatedLine","name","compareByGeneratedPositionsDeflated","onlyCompareGenerated","compareByGeneratedPositionsInflated","_isNumber","n","isNaN","parseFloat","isFinite","_capitalize","str","toUpperCase","substring","_getter","p","this","booleanProps","numericProps","stringProps","arrayProps","objectProps","props","concat","StackFrame","obj","undefined","prototype","getArgs","args","setArgs","v","toString","call","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","fileName","getFileName","lineNumber","getLineNumber","columnNumber","getColumnNumber","functionName","getFunctionName","getIsEval","fromString","argsStartIndex","argsEndIndex","locationString","exec","Boolean","j","Number","k","String","base64VLQ","util","ArraySet","MappingList","SourceMapGenerator","_file","_sourceRoot","_skipValidation","_sources","_names","_mappings","_sourcesContents","_version","fromSourceMap","aSourceMapConsumer","sourceRoot","generator","file","eachMapping","mapping","newMapping","generated","line","column","original","addMapping","sources","forEach","sourceFile","content","sourceContentFor","setSourceContent","_validateMapping","has","add","aSourceFile","aSourceContent","keys","applySourceMap","aSourceMapPath","newSources","newNames","unsortedForEach","originalPositionFor","aGenerated","aOriginal","aSource","JSON","stringify","_serializeMappings","next","nameIdx","sourceIdx","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","result","mappings","toArray","len","encode","_generateSourcesContent","aSources","aSourceRoot","map","key","hasOwnProperty","toJSON","version","names","sourcesContent","base64","aValue","digit","encoded","vlq","toVLQSigned","VLQ_BASE","decode","aIndex","aOutParam","continuation","shifted","strLen","shift","value","rest","_array","_set","fromArray","aArray","aAllowDuplicates","set","size","getOwnPropertyNames","sStr","isDuplicate","idx","push","at","aIdx","ErrorStackParser","StackGenerator","StackTraceGPS","_options","filter","stackframe","sourceCache","_generateError","err","_merge","first","second","target","prop","_isShapedLikeParsableError","stack","_filtered","stackframes","get","opts","fromError","generateArtificially","getSync","parse","backtrace","error","gps","Promise","resolve","all","sf","resolveOriginal","pinpoint","then","bind","stackFrames","instrument","fn","callback","errback","thisArg","__stacktraceOriginalFn","instrumented","apply","e","deinstrument","report","errorMsg","requestOptions","reject","req","XMLHttpRequest","onerror","onreadystatechange","readyState","status","responseText","open","setRequestHeader","headers","header","reportPayload","message","send","module","start","loadPolyfills","require","default","catch","console","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","stacktrace","parseOpera","parseV8OrIE","parseFFOrSafari","extractLocation","urlLike","sanitizedLine","location","tokens","locationParts","pop","functionNameRegex","matches","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","argsRaw","functionCall","maxStackSize","curr","callee","test","RegExp","$1","caller","SourceMap","_xdr","_atob","b64str","window","atob","_parseJson","string","_findFunctionName","syntaxes","code","maxLines","Math","min","commentPos","m","_ensureSupportedEnvironment","defineProperty","_ensureStackFrameIsLegit","_findSourceMappingURL","lastSourceMappingUrl","matchSourceMappingUrl","sourceMappingUrlRegExp","_extractLocationInfoFromSourceMapSource","sourceMapConsumer","loc","mappedSource","sourceMapConsumerCache","ajax","_get","isDataUrl","offline","supportedEncodingRegexp","sourceMapStart","encodedSource","xhrPromise","method","_getSourceMapConsumer","sourceMappingURL","defaultSourceRoot","sourceMapConsumerPromise","sourceMapSource","SourceMapConsumer","getMappedLocation","mappedStackFrame","resolveMappedStackFrame","findFunctionName","guessedFunctionName","SourceNode","intToCharMap","number","charCode","_sorted","_last","aCallback","aThisArg","aMapping","lineA","lineB","columnA","columnB","sort","binarySearch","quickSort","aSourceMap","sourceMap","sections","IndexedSourceMapConsumer","BasicSourceMapConsumer","Mapping","lastOffset","_sections","offset","offsetLine","offsetColumn","generatedOffset","consumer","__generatedMappings","_parseMappings","__originalMappings","_charIsMappingSeparator","c","GENERATED_ORDER","ORIGINAL_ORDER","GREATEST_LOWER_BOUND","LEAST_UPPER_BOUND","aContext","aOrder","context","_generatedMappings","_originalMappings","allGeneratedPositionsFor","needle","_findMapping","lastColumn","smc","generatedMappings","destGeneratedMappings","destOriginalMappings","srcMapping","destMapping","segment","end","cachedSegments","temp","originalMappings","aNeedle","aMappings","aLineName","aColumnName","aComparator","aBias","search","computeColumnSpans","nextMapping","lastGeneratedColumn","Infinity","hasContentsOfAllSources","some","sc","nullOnMissing","fileUriAbsPath","generatedPositionFor","constructor","sectionIndex","section","bias","every","generatedPosition","sectionMappings","adjustedMapping","recursiveSearch","aLow","aHigh","aHaystack","aCompare","mid","floor","swap","ary","x","y","doQuickSort","comparator","r","low","high","round","random","pivot","q","REGEX_NEWLINE","isSourceNode","aLine","aColumn","aChunks","children","sourceContents","fromStringWithSourceMap","aGeneratedCode","aRelativePath","node","remainingLines","shiftNextLine","lastGeneratedLine","lastMapping","nextLine","addMappingWithCode","aChunk","isArray","chunk","prepend","unshift","walk","aFn","aSep","newChildren","replaceRight","aPattern","aReplacement","lastChild","walkSourceContents","toStringWithSourceMap","sourceMappingActive","lastOriginalSource","lastOriginalLine","lastOriginalColumn","lastOriginalName","sourceContent","process","stop","hasSW","navigator","protocol","hostname","install","options","serviceWorker","register","applyUpdate","update","getRegistration","registration","_extends","assign","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","ReferenceError","_React$Component","Router","_temp","_this","_len","_key","state","computeMatch","history","pathname","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","getChildContext","router","route","params","isExact","componentWillMount","_this2","_props","Children","count","unlisten","listen","setState","componentWillReceiveProps","nextProps","componentWillUnmount","render","only","Component","propTypes","object","isRequired","contextTypes","childContextTypes","BrowserRouter","createElement","spliceOne","list","to","from","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","hasTrailingSlash","last","_typeof","Symbol","iterator","valueEqual","a","b","item","aType","valueOf","bValue","aKeys","bKeys","currentLocation","hash","hashIndex","searchIndex","parsePath","decodeURI","URIError","document","patternCache","cacheCount","pattern","cacheKey","cache","compiledGenerator","compile","pretty","Redirect","isStatic","staticContext","perform","componentDidMount","componentDidUpdate","prevProps","prevTo","nextTo","computeTo","_ref","computedMatch","bool","oneOfType","defaultProps","shape","func","Switch","child","element","isValidElement","_element$props","pathProp","exact","strict","sensitive","matchPath","cloneElement","ColumnLoading","title","icon","multiColumn","focusable","placeholder","className","ImmutablePureComponent","PropTypes","messages","defineMessages","body","retry","BundleColumnError","handleRetry","onRetry","formatMessage","intl","type","onClick","React","PureComponent","injectIntl","WrappedSwitch","WrappedRoute","renderComponent","component","componentParams","fetchComponent","loading","renderLoading","renderError","Route","UploadArea","handleKeyUp","keyCode","active","preventDefault","stopPropagation","onClose","addEventListener","removeEventListener","defaultStyle","backgroundOpacity","backgroundScale","style","spring","stiffness","damping","visibility","opacity","transform","id","defaultMessage","connect","getIn","IconWithBadge","links","NavLink","data-preview-title-id","data-preview-icon","getIndex","findIndex","link","getLink","TabsBar","me","account","withRouter","setRef","ref","handleClick","isUserTouching","persist","requestAnimationFrame","tabs","querySelectorAll","currentTab","find","tab","classList","contains","nextTab","nextTabIndex","childNodes","remove","listener","ImmutableList","currentPathname","svg","LogoFull","viewBox","xlinkHref","Header","DrawerLoading","ComposePanel","onFocus","dispatch","changeComposing","onBlur","openInRoute","singleColumn","withHotkeys","FollowRequestsNavLink","fetchFollowRequests","getOrderedLists","createSelector","lists","toList","localeCompare","take","fetchLists","isEmpty","fixedWidth","ImmutablePropTypes","href","showTrends","componentMap","Compose","HomeTimeline","Notifications","PublicTimeline","CommunityTimeline","HashtagTimeline","DirectTimeline","FavouritedStatuses","BookmarkedStatuses","ListTimeline","Directory","publish","ColumnsArea","withRef","mediaQuery","matchMedia","shouldAnimate","renderComposePanel","handleLayoutChange","handleSwipe","pendingIndex","nextLinkSelector","querySelector","handleAnimationEnd","handleWheel","_interruptScrollAnimation","renderView","columnIndex","view","columnId","lastIndex","supportsPassiveEvents","passive","addListener","isRtlLayout","getElementsByTagName","componentWillUpdate","newIndex","removeListener","handleLayouteChange","handleChildrenContentChange","modifier","scrollRight","scrollWidth","innerWidth","columns","isModalOpen","floatingActionButton","Link","aria-label","src","PostIcon","hysteresis","threshold","onChangeIndex","onTransitionEnd","animateTransitions","springConfig","duration","delay","easeFunction","height","disabled","disableSwiping","toJS","other","SpecificComponent","modalType","forwardRef","DocumentTitle","unread","_sideEffects","close","accountId","statusId","PictureInPicture","handleClose","removePictureInPicture","player","currentTime","volume","muted","autoPlay","inline","alwaysVisible","poster","backgroundColor","foregroundColor","accentColor","INTRODUCTION_VERSION","beforeUnload","keyMap","help","new","forceNew","toggleComposeSpoilers","focusColumn","reply","favourite","boost","mention","openProfile","moveDown","moveUp","back","goToHome","goToNotifications","goToLocal","goToFederated","goToDirect","goToStart","goToFavourites","goToPinned","goToProfile","goToBlocked","goToMuted","goToRequests","toggleHidden","toggleSensitive","openMedia","SwitchingColumnsArea","getWrappedInstance","mobile","toggle","includes","shouldUpdateScroll","_","previewMediaState","previewVideoState","redirect","GettingStarted","KeyboardShortcuts","PinnedStatuses","FollowRecommendations","Search","Status","Reblogs","Favourites","AccountTimeline","withReplies","Followers","Following","AccountGallery","FollowRequests","Blocks","DomainBlocks","Mutes","Lists","GenericNotFound","UI","layout","isComposing","hasComposingText","trim","hasMediaAttachments","canUploadMore","dropdownMenuIsOpen","firstLaunch","draggingOver","handleBeforeUnload","synchronouslySubmitMarkers","returnValue","handleWindowFocus","focusApp","submitMarkers","immediate","handleWindowBlur","unfocusApp","handleDragEnter","dragTargets","dataTransfer","types","handleDragOver","dataTransferIsText","dropEffect","handleDrop","files","uploadCompose","handleDragLeave","el","closeUploadModal","handleServiceWorkerPostMessage","data","warn","clearHeight","trailing","handleResize","layoutFromWindow","cancel","changeLayout","handleHotkeyNew","focus","handleHotkeySearch","handleHotkeyForceNew","resetCompose","handleHotkeyToggleComposeSpoilers","changeComposeSpoilerness","handleHotkeyFocusColumn","container","scrollTop","offsetTop","scrollIntoView","handleHotkeyBack","goBack","setHotkeysRef","hotkeys","handleHotkeyToggleHelp","handleHotkeyGoToHome","handleHotkeyGoToNotifications","handleHotkeyGoToLocal","handleHotkeyGoToFederated","handleHotkeyGoToDirect","handleHotkeyGoToStart","handleHotkeyGoToFavourites","handleHotkeyGoToPinned","handleHotkeyGoToProfile","handleHotkeyGoToBlocked","handleHotkeyGoToMuted","handleHotkeyGoToRequests","handleDragEnd","changeSetting","saveSettings","fetchMarkers","expandHomeTimeline","expandNotifications","setTimeout","fetchFilters","__mousetrap__","stopCallback","tagName","handlers","attach","focused","classNames","pointerEvents","ErrorBoundary","hasError","errorMessage","stackTrace","mappedStackTrace","componentStack","handleCopyStackTrace","textarea","contents","textContent","position","appendChild","select","execCommand","removeChild","copied","componentDidCatch","info","StackTrace","likelyBrowserAddonIssue","source_url","rel","getLocale","localeData","addLocaleData","store","configureStore","hydrateAction","hydrateStore","initialState","fetchCustomEmojis","Mastodon","disconnect","connectUserStream","locale","basename","perf","main","replaceState","ready","mountNode","getElementById","getAttribute","ReactDOM","setupBrowserNotifications","registerPushNotifications"],"mappings":"2EA4BAA,EAAQC,OAVR,SAAgBC,EAAOC,EAAOC,GAC5B,GAAID,KAASD,EACX,OAAOA,EAAMC,GACR,GAAyB,IAArBE,UAAUC,OACnB,OAAOF,EAEP,MAAM,IAAIG,MAAM,IAAMJ,EAAQ,8BAKlC,IAAIK,EAAY,iEACZC,EAAgB,gBAEpB,SAASC,EAASC,GAChB,IAAIC,EAAQD,EAAKC,MAAMJ,GAEvB,OAAKI,EAIE,CACLC,OAAQD,EAAM,GACdE,KAAMF,EAAM,GACZG,KAAMH,EAAM,GACZI,KAAMJ,EAAM,GACZK,KAAML,EAAM,IARL,KAcX,SAASM,EAAYC,GACnB,IAAIC,EAAM,GAwBV,OAtBID,EAAWN,SACbO,GAAOD,EAAWN,OAAS,KAG7BO,GAAO,KAEHD,EAAWL,OACbM,GAAOD,EAAWL,KAAO,KAGvBK,EAAWJ,OACbK,GAAOD,EAAWJ,MAGhBI,EAAWH,OACbI,GAAO,IAAMD,EAAWH,MAGtBG,EAAWF,OACbG,GAAOD,EAAWF,MAGbG,EAgBT,SAASC,EAAUC,GACjB,IAAIL,EAAOK,EACPF,EAAMV,EAASY,GAEnB,GAAIF,EAAK,CACP,IAAKA,EAAIH,KACP,OAAOK,EAGTL,EAAOG,EAAIH,KAMb,IAHA,IAGSM,EAHLC,EAAaxB,EAAQwB,WAAWP,GAChCQ,EAAQR,EAAKS,MAAM,OAERC,EAAK,EAAGC,EAAIH,EAAMnB,OAAS,EAAGsB,GAAK,EAAGA,IAGtC,OAFbL,EAAOE,EAAMG,IAGXH,EAAMI,OAAOD,EAAG,GACE,OAATL,EACTI,IACSA,EAAK,IACD,KAATJ,GAIFE,EAAMI,OAAOD,EAAI,EAAGD,GACpBA,EAAK,IAELF,EAAMI,OAAOD,EAAG,GAChBD,MAWN,MAJa,MAFbV,EAAOQ,EAAMK,KAAK,QAGhBb,EAAOO,EAAa,IAAM,KAGxBJ,GACFA,EAAIH,KAAOA,EACJC,EAAYE,IAGdH,EA1FTjB,EAAQU,SAAWA,EA8BnBV,EAAQkB,YAAcA,EA+DtBlB,EAAQqB,UAAYA,EA+DpBrB,EAAQ8B,KA7CR,SAAcC,EAAOT,GACL,KAAVS,IACFA,EAAQ,KAGI,KAAVT,IACFA,EAAQ,KAGV,IAAIU,EAAWtB,EAASY,GACpBW,EAAWvB,EAASqB,GAOxB,GALIE,IACFF,EAAQE,EAAShB,MAAQ,KAIvBe,IAAaA,EAASnB,OAKxB,OAJIoB,IACFD,EAASnB,OAASoB,EAASpB,QAGtBK,EAAYc,GAGrB,GAAIA,GAAYV,EAAMV,MAAMH,GAC1B,OAAOa,EAIT,GAAIW,IAAaA,EAASlB,OAASkB,EAAShB,KAE1C,OADAgB,EAASlB,KAAOO,EACTJ,EAAYe,GAGrB,IAAIC,EAA6B,MAApBZ,EAAMa,OAAO,GAAab,EAAQD,EAAUU,EAAMK,QAAQ,OAAQ,IAAM,IAAMd,GAE3F,OAAIW,GACFA,EAAShB,KAAOiB,EACThB,EAAYe,IAGdC,GAKTlC,EAAQwB,WAAa,SAAUF,GAC7B,MAA2B,MAApBA,EAAMa,OAAO,MAAgBb,EAAMV,MAAMJ,IA6ClDR,EAAQqC,SAnCR,SAAkBN,EAAOT,GACT,KAAVS,IACFA,EAAQ,KAGVA,EAAQA,EAAMK,QAAQ,MAAO,IAO7B,IAFA,IAAIE,EAAQ,EAE0B,IAA/BhB,EAAMiB,QAAQR,EAAQ,MAAY,CACvC,IAAIS,EAAQT,EAAMU,YAAY,KAE9B,GAAID,EAAQ,EACV,OAAOlB,EAQT,IAFAS,EAAQA,EAAMW,MAAM,EAAGF,IAEb5B,MAAM,qBACd,OAAOU,IAGPgB,EAIJ,OAAOK,MAAML,EAAQ,GAAGR,KAAK,OAASR,EAAMsB,OAAOb,EAAMzB,OAAS,IAKpE,IAAIuC,IAEO,cADCC,OAAOC,OAAO,OAI1B,SAASC,EAASC,GAChB,OAAOA,EAiCT,SAASC,EAAcD,GACrB,IAAKA,EACH,OAAO,EAGT,IAAI3C,EAAS2C,EAAE3C,OAEf,GAAIA,EAAS,EAGX,OAAO,EAGT,GAAiC,KAA7B2C,EAAEE,WAAW7C,EAAS,IAEM,KAA7B2C,EAAEE,WAAW7C,EAAS,IAEO,MAA7B2C,EAAEE,WAAW7C,EAAS,IAEO,MAA7B2C,EAAEE,WAAW7C,EAAS,IAEO,MAA7B2C,EAAEE,WAAW7C,EAAS,IAEO,MAA7B2C,EAAEE,WAAW7C,EAAS,IAEO,MAA7B2C,EAAEE,WAAW7C,EAAS,IAEO,KAA7B2C,EAAEE,WAAW7C,EAAS,IAEO,KAA7B2C,EAAEE,WAAW7C,EAAS,GAGvB,OAAO,EAGT,IAAK,IAAIsB,EAAItB,EAAS,GAAIsB,GAAK,EAAGA,IAChC,GAAwB,KAApBqB,EAAEE,WAAWvB,GAGf,OAAO,EAIX,OAAO,EA6FT,SAASwB,EAAOC,EAAOC,GACrB,OAAID,IAAUC,EACL,EAGLD,EAAQC,EACH,GAGD,EA7JVtD,EAAQuD,YAAcV,EAAoBG,EAR1C,SAAqBQ,GACnB,OAAIN,EAAcM,GACT,IAAMA,EAGRA,GAaTxD,EAAQyD,cAAgBZ,EAAoBG,EAR5C,SAAuBQ,GACrB,OAAIN,EAAcM,GACTA,EAAKd,MAAM,GAGbc,GA8FTxD,EAAQ0D,2BAlCR,SAAoCC,EAAUC,EAAUC,GACtD,IAAIC,EAAMH,EAASI,OAASH,EAASG,OAErC,OAAY,IAARD,GAMQ,KAFZA,EAAMH,EAASK,aAAeJ,EAASI,eAQ3B,KAFZF,EAAMH,EAASM,eAAiBL,EAASK,iBAExBJ,GAML,KAFZC,EAAMH,EAASO,gBAAkBN,EAASM,kBAQ9B,KAFZJ,EAAMH,EAASQ,cAAgBP,EAASO,eArB/BL,EA2BFH,EAASS,KAAOR,EAASQ,MAgDlCpE,EAAQqE,oCAlCR,SAA6CV,EAAUC,EAAUU,GAC/D,IAAIR,EAAMH,EAASQ,cAAgBP,EAASO,cAE5C,OAAY,IAARL,GAMQ,KAFZA,EAAMH,EAASO,gBAAkBN,EAASM,kBAEzBI,GAML,KAFZR,EAAMH,EAASI,OAASH,EAASG,SAQrB,KAFZD,EAAMH,EAASK,aAAeJ,EAASI,eAQ3B,KAFZF,EAAMH,EAASM,eAAiBL,EAASK,gBArBhCH,EA2BFH,EAASS,KAAOR,EAASQ,MAwDlCpE,EAAQuE,oCAlCR,SAA6CZ,EAAUC,GACrD,IAAIE,EAAMH,EAASQ,cAAgBP,EAASO,cAE5C,OAAY,IAARL,GAMQ,KAFZA,EAAMH,EAASO,gBAAkBN,EAASM,kBAQ9B,KAFZJ,EAAMV,EAAOO,EAASI,OAAQH,EAASG,UAQ3B,KAFZD,EAAMH,EAASK,aAAeJ,EAASI,eAQ3B,KAFZF,EAAMH,EAASM,eAAiBL,EAASK,gBArBhCH,EA2BFV,EAAOO,EAASS,KAAMR,EAASQ,Q,oBC7dxC,yBACE,aAKE,EAAqB,QAAW,0BAAP,EAMpB,WAGP,SAASI,EAAUC,GACjB,OAAQC,MAAMC,WAAWF,KAAOG,SAASH,GAG3C,SAASI,EAAYC,GACnB,OAAOA,EAAI3C,OAAO,GAAG4C,cAAgBD,EAAIE,UAAU,GAGrD,SAASC,EAAQC,GACf,OAAO,WACL,OAAOC,KAAKD,IAIhB,IAAIE,EAAe,CAAC,gBAAiB,SAAU,WAAY,cACvDC,EAAe,CAAC,eAAgB,cAChCC,EAAc,CAAC,WAAY,eAAgB,UAC3CC,EAAa,CAAC,QACdC,EAAc,CAAC,cACfC,EAAQL,EAAaM,OAAOL,EAAcC,EAAaC,EAAYC,GAEvE,SAASG,EAAWC,GAClB,GAAKA,EAEL,IAAK,IAAIhE,EAAI,EAAGA,EAAI6D,EAAMnF,OAAQsB,SACViE,IAAlBD,EAAIH,EAAM7D,KACZuD,KAAK,MAAQN,EAAYY,EAAM7D,KAAKgE,EAAIH,EAAM7D,KAKpD+D,EAAWG,UAAY,CACrBC,QAAS,WACP,OAAOZ,KAAKa,MAEdC,QAAS,SAAiBC,GACxB,GAA0C,mBAAtCpD,OAAOgD,UAAUK,SAASC,KAAKF,GACjC,MAAM,IAAIG,UAAU,yBAGtBlB,KAAKa,KAAOE,GAEdI,cAAe,WACb,OAAOnB,KAAKoB,YAEdC,cAAe,SAAuBN,GACpC,GAAIA,aAAaP,EACfR,KAAKoB,WAAaL,MACb,MAAIA,aAAapD,QAGtB,MAAM,IAAIuD,UAAU,+CAFpBlB,KAAKoB,WAAa,IAAIZ,EAAWO,KAKrCC,SAAU,WACR,IAAIM,EAAWtB,KAAKuB,eAAiB,GACjCC,EAAaxB,KAAKyB,iBAAmB,GACrCC,EAAe1B,KAAK2B,mBAAqB,GACzCC,EAAe5B,KAAK6B,mBAAqB,GAE7C,OAAI7B,KAAK8B,YACHR,EACK,WAAaA,EAAW,IAAME,EAAa,IAAME,EAAe,IAGlE,UAAYF,EAAa,IAAME,EAGpCE,EACKA,EAAe,KAAON,EAAW,IAAME,EAAa,IAAME,EAAe,IAG3EJ,EAAW,IAAME,EAAa,IAAME,IAI/ClB,EAAWuB,WAAa,SAAgCpC,GACtD,IAAIqC,EAAiBrC,EAAIvC,QAAQ,KAC7B6E,EAAetC,EAAIrC,YAAY,KAC/BsE,EAAejC,EAAIE,UAAU,EAAGmC,GAChCnB,EAAOlB,EAAIE,UAAUmC,EAAiB,EAAGC,GAAc1F,MAAM,KAC7D2F,EAAiBvC,EAAIE,UAAUoC,EAAe,GAElD,GAAoC,IAAhCC,EAAe9E,QAAQ,KACzB,IAAId,EAAQ,gCAAgC6F,KAAKD,EAAgB,IAC7DZ,EAAWhF,EAAM,GACjBkF,EAAalF,EAAM,GACnBoF,EAAepF,EAAM,GAG3B,OAAO,IAAIkE,EAAW,CACpBoB,aAAcA,EACdf,KAAMA,QAAQH,EACdY,SAAUA,EACVE,WAAYA,QAAcd,EAC1BgB,aAAcA,QAAgBhB,KAIlC,IAAK,IAAIjE,EAAI,EAAGA,EAAIwD,EAAa9E,OAAQsB,IACvC+D,EAAWG,UAAU,MAAQjB,EAAYO,EAAaxD,KAAOqD,EAAQG,EAAaxD,IAElF+D,EAAWG,UAAU,MAAQjB,EAAYO,EAAaxD,KAAO,SAAUsD,GACrE,OAAO,SAAUgB,GACff,KAAKD,GAAKqC,QAAQrB,IAFuC,CAI3Dd,EAAaxD,IAGjB,IAAK,IAAI4F,EAAI,EAAGA,EAAInC,EAAa/E,OAAQkH,IACvC7B,EAAWG,UAAU,MAAQjB,EAAYQ,EAAamC,KAAOvC,EAAQI,EAAamC,IAElF7B,EAAWG,UAAU,MAAQjB,EAAYQ,EAAamC,KAAO,SAAUtC,GACrE,OAAO,SAAUgB,GACf,IAAK1B,EAAU0B,GACb,MAAM,IAAIG,UAAUnB,EAAI,qBAG1BC,KAAKD,GAAKuC,OAAOvB,IANwC,CAQ3Db,EAAamC,IAGjB,IAAK,IAAIE,EAAI,EAAGA,EAAIpC,EAAYhF,OAAQoH,IACtC/B,EAAWG,UAAU,MAAQjB,EAAYS,EAAYoC,KAAOzC,EAAQK,EAAYoC,IAEhF/B,EAAWG,UAAU,MAAQjB,EAAYS,EAAYoC,KAAO,SAAUxC,GACpE,OAAO,SAAUgB,GACff,KAAKD,GAAKyC,OAAOzB,IAFuC,CAI1DZ,EAAYoC,IAGhB,OAAO/B,IA9I2B,+BANpC,I,oBCOA,IAAIiC,EAAY,EAAQ,KAEpBC,EAAO,EAAQ,KAEfC,EAAW,EAAQ,KAAeA,SAElCC,EAAc,EAAQ,KAAkBA,YAW5C,SAASC,EAAmB9H,GACrBA,IACHA,EAAQ,IAGViF,KAAK8C,MAAQJ,EAAK5H,OAAOC,EAAO,OAAQ,MACxCiF,KAAK+C,YAAcL,EAAK5H,OAAOC,EAAO,aAAc,MACpDiF,KAAKgD,gBAAkBN,EAAK5H,OAAOC,EAAO,kBAAkB,GAC5DiF,KAAKiD,SAAW,IAAIN,EACpB3C,KAAKkD,OAAS,IAAIP,EAClB3C,KAAKmD,UAAY,IAAIP,EACrB5C,KAAKoD,iBAAmB,KAG1BP,EAAmBlC,UAAU0C,SAAW,EAOxCR,EAAmBS,cAAgB,SAA0CC,GAC3E,IAAIC,EAAaD,EAAmBC,WAChCC,EAAY,IAAIZ,EAAmB,CACrCa,KAAMH,EAAmBG,KACzBF,WAAYA,IAoCd,OAlCAD,EAAmBI,aAAY,SAAUC,GACvC,IAAIC,EAAa,CACfC,UAAW,CACTC,KAAMH,EAAQ5E,cACdgF,OAAQJ,EAAQ7E,kBAIE,MAAlB6E,EAAQhF,SACViF,EAAWjF,OAASgF,EAAQhF,OAEV,MAAd4E,IACFK,EAAWjF,OAAS8D,EAAKxF,SAASsG,EAAYK,EAAWjF,SAG3DiF,EAAWI,SAAW,CACpBF,KAAMH,EAAQ/E,aACdmF,OAAQJ,EAAQ9E,gBAGE,MAAhB8E,EAAQ3E,OACV4E,EAAW5E,KAAO2E,EAAQ3E,OAI9BwE,EAAUS,WAAWL,MAEvBN,EAAmBY,QAAQC,SAAQ,SAAUC,GAC3C,IAAIC,EAAUf,EAAmBgB,iBAAiBF,GAEnC,MAAXC,GACFb,EAAUe,iBAAiBH,EAAYC,MAGpCb,GAcTZ,EAAmBlC,UAAUuD,WAAa,SAAuCnJ,GAC/E,IAAI+I,EAAYpB,EAAK5H,OAAOC,EAAO,aAC/BkJ,EAAWvB,EAAK5H,OAAOC,EAAO,WAAY,MAC1C6D,EAAS8D,EAAK5H,OAAOC,EAAO,SAAU,MACtCkE,EAAOyD,EAAK5H,OAAOC,EAAO,OAAQ,MAEjCiF,KAAKgD,iBACRhD,KAAKyE,iBAAiBX,EAAWG,EAAUrF,EAAQK,GAGvC,MAAVL,IACFA,EAAS4D,OAAO5D,GAEXoB,KAAKiD,SAASyB,IAAI9F,IACrBoB,KAAKiD,SAAS0B,IAAI/F,IAIV,MAARK,IACFA,EAAOuD,OAAOvD,GAETe,KAAKkD,OAAOwB,IAAIzF,IACnBe,KAAKkD,OAAOyB,IAAI1F,IAIpBe,KAAKmD,UAAUwB,IAAI,CACjB3F,cAAe8E,EAAUC,KACzBhF,gBAAiB+E,EAAUE,OAC3BnF,aAA0B,MAAZoF,GAAoBA,EAASF,KAC3CjF,eAA4B,MAAZmF,GAAoBA,EAASD,OAC7CpF,OAAQA,EACRK,KAAMA,KAQV4D,EAAmBlC,UAAU6D,iBAAmB,SAA6CI,EAAaC,GACxG,IAAIjG,EAASgG,EAEW,MAApB5E,KAAK+C,cACPnE,EAAS8D,EAAKxF,SAAS8C,KAAK+C,YAAanE,IAGrB,MAAlBiG,GAGG7E,KAAKoD,mBACRpD,KAAKoD,iBAAmBzF,OAAOC,OAAO,OAGxCoC,KAAKoD,iBAAiBV,EAAKtE,YAAYQ,IAAWiG,GACzC7E,KAAKoD,0BAGPpD,KAAKoD,iBAAiBV,EAAKtE,YAAYQ,IAEI,IAA9CjB,OAAOmH,KAAK9E,KAAKoD,kBAAkBjI,SACrC6E,KAAKoD,iBAAmB,QAsB9BP,EAAmBlC,UAAUoE,eAAiB,SAA2CxB,EAAoBqB,EAAaI,GACxH,IAAIX,EAAaO,EAEjB,GAAmB,MAAfA,EAAqB,CACvB,GAA+B,MAA3BrB,EAAmBG,KACrB,MAAM,IAAItI,MAAM,iJAGlBiJ,EAAad,EAAmBG,KAGlC,IAAIF,EAAaxD,KAAK+C,YAEJ,MAAdS,IACFa,EAAa3B,EAAKxF,SAASsG,EAAYa,IAKzC,IAAIY,EAAa,IAAItC,EACjBuC,EAAW,IAAIvC,EAEnB3C,KAAKmD,UAAUgC,iBAAgB,SAAUvB,GACvC,GAAIA,EAAQhF,SAAWyF,GAAsC,MAAxBT,EAAQ/E,aAAsB,CAEjE,IAAIoF,EAAWV,EAAmB6B,oBAAoB,CACpDrB,KAAMH,EAAQ/E,aACdmF,OAAQJ,EAAQ9E,iBAGK,MAAnBmF,EAASrF,SAEXgF,EAAQhF,OAASqF,EAASrF,OAEJ,MAAlBoG,IACFpB,EAAQhF,OAAS8D,EAAK/F,KAAKqI,EAAgBpB,EAAQhF,SAGnC,MAAd4E,IACFI,EAAQhF,OAAS8D,EAAKxF,SAASsG,EAAYI,EAAQhF,SAGrDgF,EAAQ/E,aAAeoF,EAASF,KAChCH,EAAQ9E,eAAiBmF,EAASD,OAEb,MAAjBC,EAAShF,OACX2E,EAAQ3E,KAAOgF,EAAShF,OAK9B,IAAIL,EAASgF,EAAQhF,OAEP,MAAVA,GAAmBqG,EAAWP,IAAI9F,IACpCqG,EAAWN,IAAI/F,GAGjB,IAAIK,EAAO2E,EAAQ3E,KAEP,MAARA,GAAiBiG,EAASR,IAAIzF,IAChCiG,EAASP,IAAI1F,KAEde,MAEHA,KAAKiD,SAAWgC,EAChBjF,KAAKkD,OAASgC,EAEd3B,EAAmBY,QAAQC,SAAQ,SAAUC,GAC3C,IAAIC,EAAUf,EAAmBgB,iBAAiBF,GAEnC,MAAXC,IACoB,MAAlBU,IACFX,EAAa3B,EAAK/F,KAAKqI,EAAgBX,IAGvB,MAAdb,IACFa,EAAa3B,EAAKxF,SAASsG,EAAYa,IAGzCrE,KAAKwE,iBAAiBH,EAAYC,MAEnCtE,OAeL6C,EAAmBlC,UAAU8D,iBAAmB,SAA4CY,EAAYC,EAAWC,EAASvK,GAC1H,MAAIqK,GAAc,SAAUA,GAAc,WAAYA,GAAcA,EAAWtB,KAAO,GAAKsB,EAAWrB,QAAU,IAAMsB,GAAcC,GAAYvK,MAGrIqK,GAAc,SAAUA,GAAc,WAAYA,GAAcC,GAAa,SAAUA,GAAa,WAAYA,GAAaD,EAAWtB,KAAO,GAAKsB,EAAWrB,QAAU,GAAKsB,EAAUvB,KAAO,GAAKuB,EAAUtB,QAAU,GAAKuB,GAItO,MAAM,IAAInK,MAAM,oBAAsBoK,KAAKC,UAAU,CACnD3B,UAAWuB,EACXzG,OAAQ2G,EACRtB,SAAUqB,EACVrG,KAAMjE,MAUZ6H,EAAmBlC,UAAU+E,mBAAqB,WAehD,IAdA,IAOIC,EACA/B,EACAgC,EACAC,EAVAC,EAA0B,EAC1BC,EAAwB,EACxBC,EAAyB,EACzBC,EAAuB,EACvBC,EAAe,EACfC,EAAiB,EACjBC,EAAS,GAMTC,EAAWrG,KAAKmD,UAAUmD,UAErB7J,EAAI,EAAG8J,EAAMF,EAASlL,OAAQsB,EAAI8J,EAAK9J,IAAK,CAInD,GAFAkJ,EAAO,IADP/B,EAAUyC,EAAS5J,IAGPuC,gBAAkB+G,EAG5B,IAFAD,EAA0B,EAEnBlC,EAAQ5E,gBAAkB+G,GAC/BJ,GAAQ,IACRI,SAGF,GAAItJ,EAAI,EAAG,CACT,IAAKiG,EAAKtD,oCAAoCwE,EAASyC,EAAS5J,EAAI,IAClE,SAGFkJ,GAAQ,IAIZA,GAAQlD,EAAU+D,OAAO5C,EAAQ7E,gBAAkB+G,GACnDA,EAA0BlC,EAAQ7E,gBAEZ,MAAlB6E,EAAQhF,SACViH,EAAY7F,KAAKiD,SAAS7F,QAAQwG,EAAQhF,QAC1C+G,GAAQlD,EAAU+D,OAAOX,EAAYM,GACrCA,EAAiBN,EAEjBF,GAAQlD,EAAU+D,OAAO5C,EAAQ/E,aAAe,EAAIoH,GACpDA,EAAuBrC,EAAQ/E,aAAe,EAC9C8G,GAAQlD,EAAU+D,OAAO5C,EAAQ9E,eAAiBkH,GAClDA,EAAyBpC,EAAQ9E,eAEb,MAAhB8E,EAAQ3E,OACV2G,EAAU5F,KAAKkD,OAAO9F,QAAQwG,EAAQ3E,MACtC0G,GAAQlD,EAAU+D,OAAOZ,EAAUM,GACnCA,EAAeN,IAInBQ,GAAUT,EAGZ,OAAOS,GAGTvD,EAAmBlC,UAAU8F,wBAA0B,SAAmDC,EAAUC,GAClH,OAAOD,EAASE,KAAI,SAAUhI,GAC5B,IAAKoB,KAAKoD,iBACR,OAAO,KAGU,MAAfuD,IACF/H,EAAS8D,EAAKxF,SAASyJ,EAAa/H,IAGtC,IAAIiI,EAAMnE,EAAKtE,YAAYQ,GAC3B,OAAOjB,OAAOgD,UAAUmG,eAAe7F,KAAKjB,KAAKoD,iBAAkByD,GAAO7G,KAAKoD,iBAAiByD,GAAO,OACtG7G,OAOL6C,EAAmBlC,UAAUoG,OAAS,WACpC,IAAIH,EAAM,CACRI,QAAShH,KAAKqD,SACdc,QAASnE,KAAKiD,SAASqD,UACvBW,MAAOjH,KAAKkD,OAAOoD,UACnBD,SAAUrG,KAAK0F,sBAejB,OAZkB,MAAd1F,KAAK8C,QACP8D,EAAIlD,KAAO1D,KAAK8C,OAGM,MAApB9C,KAAK+C,cACP6D,EAAIpD,WAAaxD,KAAK+C,aAGpB/C,KAAKoD,mBACPwD,EAAIM,eAAiBlH,KAAKyG,wBAAwBG,EAAIzC,QAASyC,EAAIpD,aAG9DoD,GAOT/D,EAAmBlC,UAAUK,SAAW,WACtC,OAAOwE,KAAKC,UAAUzF,KAAK+G,WAG7BlM,EAAQgI,mBAAqBA,G,oBCvX7B,IAAIsE,EAAS,EAAQ,KAgDrBtM,EAAQ2L,OAAS,SAA0BY,GACzC,IACIC,EADAC,EAAU,GAEVC,EAxBN,SAAqBH,GACnB,OAAOA,EAAS,EAAqB,IAAfA,GAAU,GAAyB,GAAfA,GAAU,GAuB1CI,CAAYJ,GAEtB,GACEC,EArCgBI,GAqCRF,GACRA,KA1CiB,GA4CP,IAGRF,GA7CS,IAgDXC,GAAWH,EAAOX,OAAOa,SAClBE,EAAM,GAEf,OAAOD,GAQTzM,EAAQ6M,OAAS,SAA0BrJ,EAAMsJ,EAAQC,GACvD,IAGIC,EAAcR,EAxCGD,EAEjBU,EAmCAC,EAAS1J,EAAKlD,OACdiL,EAAS,EACT4B,EAAQ,EAGZ,EAAG,CACD,GAAIL,GAAUI,EACZ,MAAM,IAAI3M,MAAM,8CAKlB,IAAe,KAFfiM,EAAQF,EAAOO,OAAOrJ,EAAKL,WAAW2J,OAGpC,MAAM,IAAIvM,MAAM,yBAA2BiD,EAAKrB,OAAO2K,EAAS,IAGlEE,KA5EW,GA4EOR,GAElBjB,IADAiB,GA3EgBI,KA4EYO,EAC5BA,GAjFiB,QAkFVH,GAETD,EAAUK,OAzDNH,GAFiBV,EA2DWhB,IAzDR,EADU,IAAP,EAATgB,IAEGU,EAAUA,GAyD/BF,EAAUM,KAAOP,I,oBChInB,IAAIjF,EAAO,EAAQ,KAEfgC,EAAM/G,OAAOgD,UAAUmG,eAQ3B,SAASnE,IACP3C,KAAKmI,OAAS,GACdnI,KAAKoI,KAAOzK,OAAOC,OAAO,MAO5B+E,EAAS0F,UAAY,SAA4BC,EAAQC,GAGvD,IAFA,IAAIC,EAAM,IAAI7F,EAELlG,EAAI,EAAG8J,EAAM+B,EAAOnN,OAAQsB,EAAI8J,EAAK9J,IAC5C+L,EAAI7D,IAAI2D,EAAO7L,GAAI8L,GAGrB,OAAOC,GAUT7F,EAAShC,UAAU8H,KAAO,WACxB,OAAO9K,OAAO+K,oBAAoB1I,KAAKoI,MAAMjN,QAS/CwH,EAAShC,UAAUgE,IAAM,SAAsBtG,EAAMkK,GACnD,IAAII,EAAOjG,EAAKtE,YAAYC,GACxBuK,EAAclE,EAAIzD,KAAKjB,KAAKoI,KAAMO,GAClCE,EAAM7I,KAAKmI,OAAOhN,OAEjByN,IAAeL,GAClBvI,KAAKmI,OAAOW,KAAKzK,GAGduK,IACH5I,KAAKoI,KAAKO,GAAQE,IAUtBlG,EAAShC,UAAU+D,IAAM,SAAsBrG,GAC7C,IAAIsK,EAAOjG,EAAKtE,YAAYC,GAC5B,OAAOqG,EAAIzD,KAAKjB,KAAKoI,KAAMO,IAS7BhG,EAAShC,UAAUvD,QAAU,SAA0BiB,GACrD,IAAIsK,EAAOjG,EAAKtE,YAAYC,GAE5B,GAAIqG,EAAIzD,KAAKjB,KAAKoI,KAAMO,GACtB,OAAO3I,KAAKoI,KAAKO,GAGnB,MAAM,IAAIvN,MAAM,IAAMiD,EAAO,yBAS/BsE,EAAShC,UAAUoI,GAAK,SAAqBC,GAC3C,GAAIA,GAAQ,GAAKA,EAAOhJ,KAAKmI,OAAOhN,OAClC,OAAO6E,KAAKmI,OAAOa,GAGrB,MAAM,IAAI5N,MAAM,yBAA2B4N,IAS7CrG,EAAShC,UAAU2F,QAAU,WAC3B,OAAOtG,KAAKmI,OAAO5K,SAGrB1C,EAAQ8H,SAAWA,G,oBCtHnB,yBACE,aAKE,EAAqB,CAAC,OAAsB,OAAmB,aAA0B,0BAAP,EAM7E,SAAoBsG,EAAkBC,EAAgBC,GAC7D,IAAIC,EAAW,CACbC,OAAQ,SAAgBC,GAEtB,OAAoE,KAA5DA,EAAW1H,cAAgB,IAAIxE,QAAQ,kBAA6F,KAAlEkM,EAAW1H,cAAgB,IAAIxE,QAAQ,wBAAgG,KAA/DkM,EAAW1H,cAAgB,IAAIxE,QAAQ,qBAA8F,KAAhEkM,EAAW1H,cAAgB,IAAIxE,QAAQ,qBAEhQmM,YAAa,IAGXC,EAAiB,WACnB,IAEE,MAAM,IAAIpO,MACV,MAAOqO,GACP,OAAOA,IAcX,SAASC,EAAOC,EAAOC,GACrB,IAAIC,EAAS,GAUb,MATA,CAACF,EAAOC,GAAQxF,SAAQ,SAAU3D,GAChC,IAAK,IAAIqJ,KAAQrJ,EACX9C,OAAOgD,UAAUmG,eAAe7F,KAAKR,EAAKqJ,KAC5CD,EAAOC,GAAQrJ,EAAIqJ,IAIvB,OAAOD,KAEFA,EAGT,SAASE,EAA2BN,GAClC,OAAOA,EAAIO,OAASP,EAAI,mBAG1B,SAASQ,EAAUC,EAAab,GAC9B,MAAsB,mBAAXA,EACFa,EAAYb,OAAOA,GAGrBa,EAGT,MAAO,CAOLC,IAAK,SAAyBC,GAC5B,IAAIX,EAAMD,IAEV,OAAOO,EAA2BN,GAAOzJ,KAAKqK,UAAUZ,EAAKW,GAAQpK,KAAKsK,qBAAqBF,IAUjGG,QAAS,SAA6BH,GACpCA,EAAOV,EAAON,EAAUgB,GAExB,IAAIX,EAAMD,IAGV,OAAOS,EADKF,EAA2BN,GAAOR,EAAiBuB,MAAMf,GAAOP,EAAeuB,UAAUL,GAC7EA,EAAKf,SAU/BgB,UAAW,SAA+BK,EAAON,GAC/CA,EAAOV,EAAON,EAAUgB,GACxB,IAAIO,EAAM,IAAIxB,EAAciB,GAC5B,OAAO,IAAIQ,QAAQ,SAAUC,GAC3B,IAAIX,EAAcD,EAAUhB,EAAiBuB,MAAME,GAAQN,EAAKf,QAEhEwB,EAAQD,QAAQE,IAAIZ,EAAYtD,KAAI,SAAUmE,GAC5C,OAAO,IAAIH,SAAQ,SAAUC,GAC3B,SAASG,IACPH,EAAQE,GAGVJ,EAAIM,SAASF,GAAIG,KAAKL,EAASG,GAAwB,MAAEA,YAG7DG,KAAKnL,QASTsK,qBAAsB,SAA0CF,GAC9DA,EAAOV,EAAON,EAAUgB,GACxB,IAAIgB,EAAclC,EAAeuB,UAAUL,GAM3C,MAJ2B,mBAAhBA,EAAKf,SACd+B,EAAcA,EAAY/B,OAAOe,EAAKf,SAGjCuB,QAAQC,QAAQO,IAYzBC,WAAY,SAAgCC,EAAIC,EAAUC,EAASC,GACjE,GAAkB,mBAAPH,EACT,MAAM,IAAIlQ,MAAM,yCACX,GAAyC,mBAA9BkQ,EAAGI,uBAEnB,OAAOJ,EAGT,IAAIK,EAAe,WACjB,IAEE,OADA3L,KAAKmK,MAAMe,KAAKK,EAAUC,GAAgB,MAAEA,GACrCF,EAAGM,MAAMH,GAAWzL,KAAM9E,WACjC,MAAO2Q,GAKP,MAJI9B,EAA2B8B,IAC7B7L,KAAKqK,UAAUwB,GAAGX,KAAKK,EAAUC,GAAgB,MAAEA,GAG/CK,IAERV,KAAKnL,MAGP,OADA2L,EAAaD,uBAAyBJ,EAC/BK,GASTG,aAAc,SAAkCR,GAC9C,GAAkB,mBAAPA,EACT,MAAM,IAAIlQ,MAAM,4CACX,MAAyC,mBAA9BkQ,EAAGI,uBACZJ,EAAGI,uBAGHJ,GAYXS,OAAQ,SAA4B7B,EAAajO,EAAK+P,EAAUC,GAC9D,OAAO,IAAIrB,SAAQ,SAAUC,EAASqB,GACpC,IAAIC,EAAM,IAAIC,eAiBd,GAhBAD,EAAIE,QAAUH,EAEdC,EAAIG,mBAAqB,WACA,IAAnBH,EAAII,aACFJ,EAAIK,QAAU,KAAOL,EAAIK,OAAS,IACpC3B,EAAQsB,EAAIM,cAEZP,EAAO,IAAI9Q,MAAM,WAAaa,EAAM,wBAA0BkQ,EAAIK,WAKxEL,EAAIO,KAAK,OAAQzQ,GAEjBkQ,EAAIQ,iBAAiB,eAAgB,oBAEjCV,GAAoD,iBAA3BA,EAAeW,QAAsB,CAChE,IAAIA,EAAUX,EAAeW,QAE7B,IAAK,IAAIC,KAAUD,EACbjP,OAAOgD,UAAUmG,eAAe7F,KAAK2L,EAASC,IAChDV,EAAIQ,iBAAiBE,EAAQD,EAAQC,IAK3C,IAAIC,EAAgB,CAClB9C,MAAOE,GAGL8B,UACFc,EAAcC,QAAUf,GAG1BG,EAAIa,KAAKxH,KAAKC,UAAUqH,WAnO6D,+BAN7F,I,gCCsDAG,EAAOpS,QAtCO,c,iCChBd,kCAIAqS,cAEAC,cAAgBjC,MAAK,WACnBkC,EAAQ,KAAoBC,aAC3BC,OAAM,SAAAzB,GACP0B,QAAQ7C,MAAMmB,O,oBCThB,yBACE,aAKE,EAA6B,CAAC,aAAsB,0BAAP,EAMxC,SAA0BrL,GAGjC,IAAIgN,EAA8B,eAC9BC,EAAyB,iCACzBC,EAA4B,8BAChC,MAAO,CAOLlD,MAAO,SAAiCE,GACtC,QAAgC,IAArBA,EAAMiD,iBAAkE,IAA7BjD,EAAM,mBAC1D,OAAO1K,KAAK4N,WAAWlD,GAClB,GAAIA,EAAMV,OAASU,EAAMV,MAAMvO,MAAMgS,GAC1C,OAAOzN,KAAK6N,YAAYnD,GACnB,GAAIA,EAAMV,MACf,OAAOhK,KAAK8N,gBAAgBpD,GAE5B,MAAM,IAAItP,MAAM,oCAIpB2S,gBAAiB,SAA2CC,GAE1D,IAA8B,IAA1BA,EAAQ5Q,QAAQ,KAClB,MAAO,CAAC4Q,GAGV,IACI1R,EADS,+BACM6F,KAAK6L,EAAQ/Q,QAAQ,QAAS,KACjD,MAAO,CAACX,EAAM,GAAIA,EAAM,SAAMoE,EAAWpE,EAAM,SAAMoE,IAEvDmN,YAAa,SAAuCnD,GAIlD,OAHeA,EAAMV,MAAMzN,MAAM,MAAM8M,QAAO,SAAUtF,GACtD,QAASA,EAAKtI,MAAMgS,KACnBzN,MACa4G,KAAI,SAAU7C,GACxBA,EAAK3G,QAAQ,WAAa,IAE5B2G,EAAOA,EAAK9G,QAAQ,aAAc,QAAQA,QAAQ,+BAAgC,KAGpF,IAAIgR,EAAgBlK,EAAK9G,QAAQ,OAAQ,IAAIA,QAAQ,eAAgB,KAGjEiR,EAAWD,EAAcxS,MAAM,4BAG/B0S,GADJF,EAAgBC,EAAWD,EAAchR,QAAQiR,EAAS,GAAI,IAAMD,GACzC1R,MAAM,OAAOgB,MAAM,GAE1C6Q,EAAgBpO,KAAK+N,gBAAgBG,EAAWA,EAAS,GAAKC,EAAOE,OACrEzM,EAAeuM,EAAOxR,KAAK,WAAQ+D,EACnCY,EAAW,CAAC,OAAQ,eAAelE,QAAQgR,EAAc,KAAO,OAAI1N,EAAY0N,EAAc,GAClG,OAAO,IAAI5N,EAAW,CACpBoB,aAAcA,EACdN,SAAUA,EACVE,WAAY4M,EAAc,GAC1B1M,aAAc0M,EAAc,GAC5BxP,OAAQmF,MAET/D,OAEL8N,gBAAiB,SAA2CpD,GAI1D,OAHeA,EAAMV,MAAMzN,MAAM,MAAM8M,QAAO,SAAUtF,GACtD,OAAQA,EAAKtI,MAAMiS,KAClB1N,MACa4G,KAAI,SAAU7C,GAM5B,GAJIA,EAAK3G,QAAQ,YAAc,IAC7B2G,EAAOA,EAAK9G,QAAQ,mDAAoD,SAG/C,IAAvB8G,EAAK3G,QAAQ,OAAsC,IAAvB2G,EAAK3G,QAAQ,KAE3C,OAAO,IAAIoD,EAAW,CACpBoB,aAAcmC,IAGhB,IAAIuK,EAAoB,6BACpBC,EAAUxK,EAAKtI,MAAM6S,GACrB1M,EAAe2M,GAAWA,EAAQ,GAAKA,EAAQ,QAAK7N,EACpD0N,EAAgBpO,KAAK+N,gBAAgBhK,EAAK9G,QAAQqR,EAAmB,KACzE,OAAO,IAAI9N,EAAW,CACpBoB,aAAcA,EACdN,SAAU8M,EAAc,GACxB5M,WAAY4M,EAAc,GAC1B1M,aAAc0M,EAAc,GAC5BxP,OAAQmF,MAGX/D,OAEL4N,WAAY,SAAsC/B,GAChD,OAAKA,EAAE8B,YAAc9B,EAAEkB,QAAQ3P,QAAQ,OAAS,GAAKyO,EAAEkB,QAAQxQ,MAAM,MAAMpB,OAAS0Q,EAAE8B,WAAWpR,MAAM,MAAMpB,OACpG6E,KAAKwO,YAAY3C,GACdA,EAAE7B,MAGLhK,KAAKyO,aAAa5C,GAFlB7L,KAAK0O,aAAa7C,IAK7B2C,YAAa,SAAuC3C,GAKlD,IAJA,IAAI8C,EAAS,oCACTC,EAAQ/C,EAAEkB,QAAQxQ,MAAM,MACxB6J,EAAS,GAEJ3J,EAAI,EAAG8J,EAAMqI,EAAMzT,OAAQsB,EAAI8J,EAAK9J,GAAK,EAAG,CACnD,IAAIhB,EAAQkT,EAAOxM,KAAKyM,EAAMnS,IAE1BhB,GACF2K,EAAO0C,KAAK,IAAItI,EAAW,CACzBc,SAAU7F,EAAM,GAChB+F,WAAY/F,EAAM,GAClBmD,OAAQgQ,EAAMnS,MAKpB,OAAO2J,GAETsI,aAAc,SAAwC7C,GAKpD,IAJA,IAAI8C,EAAS,6DACTC,EAAQ/C,EAAE8B,WAAWpR,MAAM,MAC3B6J,EAAS,GAEJ3J,EAAI,EAAG8J,EAAMqI,EAAMzT,OAAQsB,EAAI8J,EAAK9J,GAAK,EAAG,CACnD,IAAIhB,EAAQkT,EAAOxM,KAAKyM,EAAMnS,IAE1BhB,GACF2K,EAAO0C,KAAK,IAAItI,EAAW,CACzBoB,aAAcnG,EAAM,SAAMiF,EAC1BY,SAAU7F,EAAM,GAChB+F,WAAY/F,EAAM,GAClBmD,OAAQgQ,EAAMnS,MAKpB,OAAO2J,GAGTqI,aAAc,SAAwC/D,GAIpD,OAHeA,EAAMV,MAAMzN,MAAM,MAAM8M,QAAO,SAAUtF,GACtD,QAASA,EAAKtI,MAAM+R,KAAiCzJ,EAAKtI,MAAM,uBAC/DuE,MACa4G,KAAI,SAAU7C,GAC5B,IAII8K,EAJAV,EAASpK,EAAKxH,MAAM,KACpB6R,EAAgBpO,KAAK+N,gBAAgBI,EAAOE,OAC5CS,EAAeX,EAAOnG,SAAW,GACjCpG,EAAekN,EAAa7R,QAAQ,iCAAkC,MAAMA,QAAQ,aAAc,UAAOyD,EAGzGoO,EAAarT,MAAM,iBACrBoT,EAAUC,EAAa7R,QAAQ,qBAAsB,OAGvD,IAAI4D,OAAmBH,IAAZmO,GAAqC,8BAAZA,OAA0CnO,EAAYmO,EAAQtS,MAAM,KACxG,OAAO,IAAIiE,EAAW,CACpBoB,aAAcA,EACdf,KAAMA,EACNS,SAAU8M,EAAc,GACxB5M,WAAY4M,EAAc,GAC1B1M,aAAc0M,EAAc,GAC5BxP,OAAQmF,MAET/D,UA9K+C,+BANxD,I,oBCAA,yBACE,aAKE,EAA0B,CAAC,aAAsB,0BAAP,EAMrC,SAAUQ,GACjB,MAAO,CACLiK,UAAW,SAAmCL,GAC5C,IAAIJ,EAAQ,GACR+E,EAAe,GAEC,iBAAT3E,GAAkD,iBAAtBA,EAAK2E,eAC1CA,EAAe3E,EAAK2E,cAKtB,IAFA,IAAIC,EAAO9T,UAAU+T,OAEdD,GAAQhF,EAAM7O,OAAS4T,GAAgBC,EAAgB,WAAG,CAI/D,IAFA,IAAInO,EAAO,IAAIrD,MAAMwR,EAAgB,UAAE7T,QAE9BsB,EAAI,EAAGA,EAAIoE,EAAK1F,SAAUsB,EACjCoE,EAAKpE,GAAKuS,EAAgB,UAAEvS,GAG1B,gCAAgCyS,KAAKF,EAAKhO,YAC5CgJ,EAAMlB,KAAK,IAAItI,EAAW,CACxBoB,aAAcuN,OAAOC,SAAM1O,EAC3BG,KAAMA,KAGRmJ,EAAMlB,KAAK,IAAItI,EAAW,CACxBK,KAAMA,KAIV,IACEmO,EAAOA,EAAKK,OACZ,MAAOxD,GACP,OAIJ,OAAO7B,MA5CwC,+BANrD,I,oBCAA,yBACE,aAKE,EAAyB,CAAC,OAAc,aAAsB,0BAAP,EAMlD,SAAUsF,EAAW9O,GAS5B,SAAS+O,EAAKtT,GACZ,OAAO,IAAI2O,SAAQ,SAAUC,EAASqB,GACpC,IAAIC,EAAM,IAAIC,eACdD,EAAIO,KAAK,MAAOzQ,GAChBkQ,EAAIE,QAAUH,EAEdC,EAAIG,mBAAqB,WACA,IAAnBH,EAAII,aACFJ,EAAIK,QAAU,KAAOL,EAAIK,OAAS,KAA4B,YAArBvQ,EAAIwB,OAAO,EAAG,IAAoB0O,EAAIM,aACjF5B,EAAQsB,EAAIM,cAEZP,EAAO,IAAI9Q,MAAM,gBAAkB+Q,EAAIK,OAAS,eAAiBvQ,MAKvEkQ,EAAIa,UAYR,SAASwC,EAAMC,GACb,GAAsB,oBAAXC,QAA0BA,OAAOC,KAC1C,OAAOD,OAAOC,KAAKF,GAEnB,MAAM,IAAIrU,MAAM,kEAIpB,SAASwU,EAAWC,GAClB,GAAoB,oBAATrK,MAAwBA,KAAKgF,MACtC,OAAOhF,KAAKgF,MAAMqF,GAElB,MAAM,IAAIzU,MAAM,iEAIpB,SAAS0U,EAAkBlR,EAAQ4C,GAcjC,IAXA,IAAIuO,EAAW,CACf,2DACA,uCACA,wEACA,mFACA,8DACInB,EAAQhQ,EAAOrC,MAAM,MAErByT,EAAO,GACPC,EAAWC,KAAKC,IAAI3O,EAAY,IAE3B/E,EAAI,EAAGA,EAAIwT,IAAYxT,EAAG,CAEjC,IAAIsH,EAAO6K,EAAMpN,EAAa/E,EAAI,GAC9B2T,EAAarM,EAAK3G,QAAQ,MAM9B,GAJIgT,GAAc,IAChBrM,EAAOA,EAAKtG,OAAO,EAAG2S,IAGpBrM,EAAM,CACRiM,EAAOjM,EAAOiM,EAGd,IAFA,IAAIzJ,EAAMwJ,EAAS5U,OAEVkC,EAAQ,EAAGA,EAAQkJ,EAAKlJ,IAAS,CACxC,IAAIgT,EAAIN,EAAS1S,GAAO8E,KAAK6N,GAE7B,GAAIK,GAAKA,EAAE,GACT,OAAOA,EAAE,MASnB,SAASC,IACP,GAAqC,mBAA1B3S,OAAO4S,gBAA0D,mBAAlB5S,OAAOC,OAC/D,MAAM,IAAIxC,MAAM,mDAIpB,SAASoV,EAAyBlH,GAChC,GAA0B,iBAAfA,EACT,MAAM,IAAIpI,UAAU,qCACf,GAAmC,iBAAxBoI,EAAWhI,SAC3B,MAAM,IAAIJ,UAAU,mCACf,GAAqC,iBAA1BoI,EAAW9H,YAA2B8H,EAAW9H,WAAa,GAAM,GAAK8H,EAAW9H,WAAa,EACjH,MAAM,IAAIN,UAAU,gDACf,GAAuC,iBAA5BoI,EAAW5H,cAA6B4H,EAAW5H,aAAe,GAAM,GAAK4H,EAAW5H,aAAe,EACvH,MAAM,IAAIR,UAAU,sDAGtB,OAAO,EAGT,SAASuP,EAAsB7R,GAK7B,IAJA,IACI8R,EACAC,EAFAC,EAAyB,8CAItBD,EAAwBC,EAAuBzO,KAAKvD,IACzD8R,EAAuBC,EAAsB,GAG/C,GAAID,EACF,OAAOA,EAEP,MAAM,IAAItV,MAAM,8BAIpB,SAASyV,EAAwCvH,EAAYwH,EAAmBvH,GAC9E,OAAO,IAAIqB,SAAQ,SAAUC,EAASqB,GACpC,IAAI6E,EAAMD,EAAkB1L,oBAAoB,CAC9CrB,KAAMuF,EAAW9H,WACjBwC,OAAQsF,EAAW5H,eAGrB,GAAIqP,EAAInS,OAAQ,CAEd,IAAIoS,EAAeF,EAAkBvM,iBAAiBwM,EAAInS,QAEtDoS,IACFzH,EAAYwH,EAAInS,QAAUoS,GAG5BnG,EACA,IAAIrK,EAAW,CACboB,aAAcmP,EAAI9R,MAAQqK,EAAW1H,aACrCf,KAAMyI,EAAWzI,KACjBS,SAAUyP,EAAInS,OACd4C,WAAYuP,EAAIhN,KAChBrC,aAAcqP,EAAI/M,eAGpBkI,EAAO,IAAI9Q,MAAM,yEAevB,OAAO,SAAS+N,EAAciB,GAC5B,KAAMpK,gBAAgBmJ,GACpB,OAAO,IAAIA,EAAciB,GAG3BA,EAAOA,GAAQ,GACfpK,KAAKuJ,YAAca,EAAKb,aAAe,GACvCvJ,KAAKiR,uBAAyB7G,EAAK6G,wBAA0B,GAC7DjR,KAAKkR,KAAO9G,EAAK8G,MAAQ3B,EACzBvP,KAAKwP,MAAQpF,EAAKuF,MAAQH,EAE1BxP,KAAKmR,KAAO,SAAcjD,GACxB,OAAO,IAAItD,QAAQ,SAAUC,EAASqB,GACpC,IAAIkF,EAAsC,UAA1BlD,EAASzQ,OAAO,EAAG,GAEnC,GAAIuC,KAAKuJ,YAAY2E,GACnBrD,EAAQ7K,KAAKuJ,YAAY2E,SACpB,GAAI9D,EAAKiH,UAAYD,EAC1BlF,EAAO,IAAI9Q,MAAM,sDAEjB,GAAIgW,EAAW,CAGb,IAAIE,EAA0B,+CAC1B7V,EAAQyS,EAASzS,MAAM6V,GAE3B,GAAI7V,EAAO,CACT,IAAI8V,EAAiB9V,EAAM,GAAGN,OAC1BqW,EAAgBtD,EAASzQ,OAAO8T,GAEhC3S,EAASoB,KAAKwP,MAAMgC,GAExBxR,KAAKuJ,YAAY2E,GAAYtP,EAC7BiM,EAAQjM,QAERsN,EAAO,IAAI9Q,MAAM,8DAEd,CACL,IAAIqW,EAAazR,KAAKkR,KAAKhD,EAAU,CACnCwD,OAAQ,QAGV1R,KAAKuJ,YAAY2E,GAAYuD,EAC7BA,EAAWvG,KAAKL,EAASqB,KAG7Bf,KAAKnL,QAYTA,KAAK2R,sBAAwB,SAA+BC,EAAkBC,GAC5E,OAAO,IAAIjH,QAAQ,SAAUC,GAC3B,GAAI7K,KAAKiR,uBAAuBW,GAC9B/G,EAAQ7K,KAAKiR,uBAAuBW,QAC/B,CACL,IAAIE,EAA2B,IAAIlH,QAAQ,SAAUC,EAASqB,GAC5D,OAAOlM,KAAKmR,KAAKS,GAAkB1G,MAAK,SAAU6G,GACjB,iBAApBA,IACTA,EAAkBnC,EAAWmC,EAAgB9U,QAAQ,WAAY,WAGzB,IAA/B8U,EAAgBvO,aACzBuO,EAAgBvO,WAAaqO,GAG/BhH,EAAQ,IAAIyE,EAAU0C,kBAAkBD,MACvC7F,IACHf,KAAKnL,OACPA,KAAKiR,uBAAuBW,GAAoBE,EAChDjH,EAAQiH,KAEV3G,KAAKnL,QAWTA,KAAKiL,SAAW,SAAiC3B,GAC/C,OAAO,IAAIsB,QAAQ,SAAUC,EAASqB,GACpClM,KAAKiS,kBAAkB3I,GAAY4B,KAAK,SAAUgH,GAChD,SAASC,IACPtH,EAAQqH,GAGVlS,KAAKoS,iBAAiBF,GAAkBhH,KAAKL,EAASsH,GAC9C,MAAEA,IACVhH,KAAKnL,MAAOkM,IACdf,KAAKnL,QAUTA,KAAKoS,iBAAmB,SAAyC9I,GAC/D,OAAO,IAAIsB,QAAQ,SAAUC,EAASqB,GACpCsE,EAAyBlH,GAEzBtJ,KAAKmR,KAAK7H,EAAWhI,UAAU4J,MAAK,SAA2BtM,GAC7D,IAAI4C,EAAa8H,EAAW9H,WACxBE,EAAe4H,EAAW5H,aAE1B2Q,EAAsBvC,EAAkBlR,EAAQ4C,EAAYE,GAI9DmJ,EADEwH,EACM,IAAI7R,EAAW,CACrBoB,aAAcyQ,EACdxR,KAAMyI,EAAWzI,KACjBS,SAAUgI,EAAWhI,SACrBE,WAAYA,EACZE,aAAcA,IAGR4H,KAET4C,GAAe,MAAEA,IACpBf,KAAKnL,QAUTA,KAAKiS,kBAAoB,SAA0C3I,GACjE,OAAO,IAAIsB,QAAQ,SAAUC,EAASqB,GACpCoE,IAEAE,EAAyBlH,GAEzB,IAAIC,EAAcvJ,KAAKuJ,YACnBjI,EAAWgI,EAAWhI,SAE1BtB,KAAKmR,KAAK7P,GAAU4J,KAAK,SAAUtM,GACjC,IAAIgT,EAAmBnB,EAAsB7R,GAEzCwS,EAA8C,UAAlCQ,EAAiBnU,OAAO,EAAG,GACvCoU,EAAoBvQ,EAASzB,UAAU,EAAGyB,EAAShE,YAAY,KAAO,GAM1E,MAJ4B,MAAxBsU,EAAiB,IAAeR,GAAc,sBAAsBlC,KAAK0C,KAC3EA,EAAmBC,EAAoBD,GAGlC5R,KAAK2R,sBAAsBC,EAAkBC,GAAmB3G,MAAK,SAAU4F,GACpF,OAAOD,EAAwCvH,EAAYwH,EAAmBvH,GAAa2B,KAAKL,GAAgB,OAAE,WAChHA,EAAQvB,UAGZ6B,KAAKnL,MAAOkM,GAAe,MAAEA,IAC/Bf,KAAKnL,WAtVqD,+BANlE,I,oBCKAnF,EAAQgI,mBAAqB,EAAQ,KAA8BA,mBACnEhI,EAAQmX,kBAAoB,EAAQ,KAA6BA,kBACjEnX,EAAQyX,WAAa,EAAQ,KAAqBA,Y,kBCAlD,IAAIC,EAAe,mEAAmEhW,MAAM,IAK5F1B,EAAQ2L,OAAS,SAAUgM,GACzB,GAAI,GAAKA,GAAUA,EAASD,EAAapX,OACvC,OAAOoX,EAAaC,GAGtB,MAAM,IAAItR,UAAU,6BAA+BsR,IAQrD3X,EAAQ6M,OAAS,SAAU+K,GAoBzB,OAnBW,IAmBCA,GAAYA,GAjBb,GAkBFA,EApBE,GAIG,IAoBCA,GAAYA,GAlBb,IAmBLA,EArBK,GAYK,GARR,IAqBCA,GAAYA,GAnBb,GAoBFA,EAtBE,GASQ,GALR,IAsBPA,EACK,GArBG,IAyBRA,EACK,IAID,I,oBC/DV,IAAI/P,EAAO,EAAQ,KAsBnB,SAASE,IACP5C,KAAKmI,OAAS,GACdnI,KAAK0S,SAAU,EAEf1S,KAAK2S,MAAQ,CACX3T,eAAgB,EAChBD,gBAAiB,GAWrB6D,EAAYjC,UAAUwE,gBAAkB,SAA6ByN,EAAWC,GAC9E7S,KAAKmI,OAAO/D,QAAQwO,EAAWC,IASjCjQ,EAAYjC,UAAUgE,IAAM,SAAyBmO,GA1CrD,IAAgCtU,EAAUC,EAEpCsU,EACAC,EACAC,EACAC,EAL0B1U,EA2CHwB,KAAK2S,MA3CQlU,EA2CDqU,EAzCnCC,EAAQvU,EAASQ,cACjBgU,EAAQvU,EAASO,cACjBiU,EAAUzU,EAASO,gBACnBmU,EAAUzU,EAASM,gBAChBiU,EAAQD,GAASC,GAASD,GAASG,GAAWD,GAAWvQ,EAAKtD,oCAAoCZ,EAAUC,IAAa,GAsC9HuB,KAAK2S,MAAQG,EAEb9S,KAAKmI,OAAOW,KAAKgK,KAEjB9S,KAAK0S,SAAU,EAEf1S,KAAKmI,OAAOW,KAAKgK,KAcrBlQ,EAAYjC,UAAU2F,QAAU,WAO9B,OANKtG,KAAK0S,UACR1S,KAAKmI,OAAOgL,KAAKzQ,EAAKtD,qCAEtBY,KAAK0S,SAAU,GAGV1S,KAAKmI,QAGdtN,EAAQ+H,YAAcA,G,oBCjFtB,IAAIF,EAAO,EAAQ,KAEf0Q,EAAe,EAAQ,KAEvBzQ,EAAW,EAAQ,KAAeA,SAElCF,EAAY,EAAQ,KAEpB4Q,EAAY,EAAQ,KAAgBA,UAExC,SAASrB,EAAkBsB,GACzB,IAAIC,EAAYD,EAMhB,MAJ0B,iBAAfA,IACTC,EAAY/N,KAAKgF,MAAM8I,EAAWrW,QAAQ,WAAY,MAG3B,MAAtBsW,EAAUC,SAAmB,IAAIC,EAAyBF,GAAa,IAAIG,EAAuBH,GAyP3G,SAASG,EAAuBJ,GAC9B,IAAIC,EAAYD,EAEU,iBAAfA,IACTC,EAAY/N,KAAKgF,MAAM8I,EAAWrW,QAAQ,WAAY,MAGxD,IAAI+J,EAAUtE,EAAK5H,OAAOyY,EAAW,WACjCpP,EAAUzB,EAAK5H,OAAOyY,EAAW,WAGjCtM,EAAQvE,EAAK5H,OAAOyY,EAAW,QAAS,IACxC/P,EAAad,EAAK5H,OAAOyY,EAAW,aAAc,MAClDrM,EAAiBxE,EAAK5H,OAAOyY,EAAW,iBAAkB,MAC1DlN,EAAW3D,EAAK5H,OAAOyY,EAAW,YAClC7P,EAAOhB,EAAK5H,OAAOyY,EAAW,OAAQ,MAG1C,GAAIvM,GAAWhH,KAAKqD,SAClB,MAAM,IAAIjI,MAAM,wBAA0B4L,GAG5C7C,EAAUA,EAAQyC,IAAIpE,QAGrBoE,IAAIlE,EAAKxG,WAIT0K,KAAI,SAAUhI,GACb,OAAO4E,GAAcd,EAAKrG,WAAWmH,IAAed,EAAKrG,WAAWuC,GAAU8D,EAAKxF,SAASsG,EAAY5E,GAAUA,KAMpHoB,KAAKkD,OAASP,EAAS0F,UAAUpB,EAAML,IAAIpE,SAAS,GACpDxC,KAAKiD,SAAWN,EAAS0F,UAAUlE,GAAS,GAC5CnE,KAAKwD,WAAaA,EAClBxD,KAAKkH,eAAiBA,EACtBlH,KAAKmD,UAAYkD,EACjBrG,KAAK0D,KAAOA,EA0Ed,SAASiQ,IACP3T,KAAKhB,cAAgB,EACrBgB,KAAKjB,gBAAkB,EACvBiB,KAAKpB,OAAS,KACdoB,KAAKnB,aAAe,KACpBmB,KAAKlB,eAAiB,KACtBkB,KAAKf,KAAO,KA2Yd,SAASwU,EAAyBH,GAChC,IAAIC,EAAYD,EAEU,iBAAfA,IACTC,EAAY/N,KAAKgF,MAAM8I,EAAWrW,QAAQ,WAAY,MAGxD,IAAI+J,EAAUtE,EAAK5H,OAAOyY,EAAW,WACjCC,EAAW9Q,EAAK5H,OAAOyY,EAAW,YAEtC,GAAIvM,GAAWhH,KAAKqD,SAClB,MAAM,IAAIjI,MAAM,wBAA0B4L,GAG5ChH,KAAKiD,SAAW,IAAIN,EACpB3C,KAAKkD,OAAS,IAAIP,EAClB,IAAIiR,EAAa,CACf7P,MAAO,EACPC,OAAQ,GAEVhE,KAAK6T,UAAYL,EAAS5M,KAAI,SAAU9I,GACtC,GAAIA,EAAE7B,IAGJ,MAAM,IAAIb,MAAM,sDAGlB,IAAI0Y,EAASpR,EAAK5H,OAAOgD,EAAG,UACxBiW,EAAarR,EAAK5H,OAAOgZ,EAAQ,QACjCE,EAAetR,EAAK5H,OAAOgZ,EAAQ,UAEvC,GAAIC,EAAaH,EAAW7P,MAAQgQ,IAAeH,EAAW7P,MAAQiQ,EAAeJ,EAAW5P,OAC9F,MAAM,IAAI5I,MAAM,wDAIlB,OADAwY,EAAaE,EACN,CACLG,gBAAiB,CAGfjV,cAAe+U,EAAa,EAC5BhV,gBAAiBiV,EAAe,GAElCE,SAAU,IAAIlC,EAAkBtP,EAAK5H,OAAOgD,EAAG,YAryBrDkU,EAAkB1O,cAAgB,SAAUgQ,GAC1C,OAAOI,EAAuBpQ,cAAcgQ,IAO9CtB,EAAkBrR,UAAU0C,SAAW,EA8BvC2O,EAAkBrR,UAAUwT,oBAAsB,KAClDxW,OAAO4S,eAAeyB,EAAkBrR,UAAW,qBAAsB,CACvEwJ,IAAK,WAKH,OAJKnK,KAAKmU,qBACRnU,KAAKoU,eAAepU,KAAKmD,UAAWnD,KAAKwD,YAGpCxD,KAAKmU,uBAGhBnC,EAAkBrR,UAAU0T,mBAAqB,KACjD1W,OAAO4S,eAAeyB,EAAkBrR,UAAW,oBAAqB,CACtEwJ,IAAK,WAKH,OAJKnK,KAAKqU,oBACRrU,KAAKoU,eAAepU,KAAKmD,UAAWnD,KAAKwD,YAGpCxD,KAAKqU,sBAIhBrC,EAAkBrR,UAAU2T,wBAA0B,SAAkDjW,EAAMhB,GAC5G,IAAIkX,EAAIlW,EAAKrB,OAAOK,GACpB,MAAa,MAANkX,GAAmB,MAANA,GAStBvC,EAAkBrR,UAAUyT,eAAiB,SAAyC/V,EAAMsI,GAC1F,MAAM,IAAIvL,MAAM,6CAGlB4W,EAAkBwC,gBAAkB,EACpCxC,EAAkByC,eAAiB,EACnCzC,EAAkB0C,qBAAuB,EACzC1C,EAAkB2C,kBAAoB,EAkBtC3C,EAAkBrR,UAAUgD,YAAc,SAAuCiP,EAAWgC,EAAUC,GACpG,IAEIxO,EAFAyO,EAAUF,GAAY,KAI1B,OAHYC,GAAU7C,EAAkBwC,iBAItC,KAAKxC,EAAkBwC,gBACrBnO,EAAWrG,KAAK+U,mBAChB,MAEF,KAAK/C,EAAkByC,eACrBpO,EAAWrG,KAAKgV,kBAChB,MAEF,QACE,MAAM,IAAI5Z,MAAM,+BAGpB,IAAIoI,EAAaxD,KAAKwD,WACtB6C,EAASO,KAAI,SAAUhD,GACrB,IAAIhF,EAA4B,OAAnBgF,EAAQhF,OAAkB,KAAOoB,KAAKiD,SAAS8F,GAAGnF,EAAQhF,QAMvE,OAJc,MAAVA,GAAgC,MAAd4E,IACpB5E,EAAS8D,EAAK/F,KAAK6G,EAAY5E,IAG1B,CACLA,OAAQA,EACRI,cAAe4E,EAAQ5E,cACvBD,gBAAiB6E,EAAQ7E,gBACzBF,aAAc+E,EAAQ/E,aACtBC,eAAgB8E,EAAQ9E,eACxBG,KAAuB,OAAjB2E,EAAQ3E,KAAgB,KAAOe,KAAKkD,OAAO6F,GAAGnF,EAAQ3E,SAE7De,MAAMoE,QAAQwO,EAAWkC,IAuB9B9C,EAAkBrR,UAAUsU,yBAA2B,SAAoDla,GACzG,IAAIgJ,EAAOrB,EAAK5H,OAAOC,EAAO,QAK1Bma,EAAS,CACXtW,OAAQ8D,EAAK5H,OAAOC,EAAO,UAC3B8D,aAAckF,EACdjF,eAAgB4D,EAAK5H,OAAOC,EAAO,SAAU,IAO/C,GAJuB,MAAnBiF,KAAKwD,aACP0R,EAAOtW,OAAS8D,EAAKxF,SAAS8C,KAAKwD,WAAY0R,EAAOtW,UAGnDoB,KAAKiD,SAASyB,IAAIwQ,EAAOtW,QAC5B,MAAO,GAGTsW,EAAOtW,OAASoB,KAAKiD,SAAS7F,QAAQ8X,EAAOtW,QAC7C,IAAIyH,EAAW,GAEXhJ,EAAQ2C,KAAKmV,aAAaD,EAAQlV,KAAKgV,kBAAmB,eAAgB,iBAAkBtS,EAAKnE,2BAA4B6U,EAAauB,mBAE9I,GAAItX,GAAS,EAAG,CACd,IAAIuG,EAAU5D,KAAKgV,kBAAkB3X,GAErC,QAAqBqD,IAAjB3F,EAAMiJ,OAMR,IALA,IAAInF,EAAe+E,EAAQ/E,aAKpB+E,GAAWA,EAAQ/E,eAAiBA,GACzCwH,EAASyC,KAAK,CACZ/E,KAAMrB,EAAK5H,OAAO8I,EAAS,gBAAiB,MAC5CI,OAAQtB,EAAK5H,OAAO8I,EAAS,kBAAmB,MAChDwR,WAAY1S,EAAK5H,OAAO8I,EAAS,sBAAuB,QAE1DA,EAAU5D,KAAKgV,oBAAoB3X,QAQrC,IALA,IAAIyB,EAAiB8E,EAAQ9E,eAKtB8E,GAAWA,EAAQ/E,eAAiBkF,GAAQH,EAAQ9E,gBAAkBA,GAC3EuH,EAASyC,KAAK,CACZ/E,KAAMrB,EAAK5H,OAAO8I,EAAS,gBAAiB,MAC5CI,OAAQtB,EAAK5H,OAAO8I,EAAS,kBAAmB,MAChDwR,WAAY1S,EAAK5H,OAAO8I,EAAS,sBAAuB,QAE1DA,EAAU5D,KAAKgV,oBAAoB3X,GAKzC,OAAOgJ,GAGTxL,EAAQmX,kBAAoBA,EA4E5B0B,EAAuB/S,UAAYhD,OAAOC,OAAOoU,EAAkBrR,WACnE+S,EAAuB/S,UAAUuT,SAAWlC,EAS5C0B,EAAuBpQ,cAAgB,SAAyCgQ,GAC9E,IAAI+B,EAAM1X,OAAOC,OAAO8V,EAAuB/S,WAC3CsG,EAAQoO,EAAInS,OAASP,EAAS0F,UAAUiL,EAAWpQ,OAAOoD,WAAW,GACrEnC,EAAUkR,EAAIpS,SAAWN,EAAS0F,UAAUiL,EAAWrQ,SAASqD,WAAW,GAC/E+O,EAAI7R,WAAa8P,EAAWvQ,YAC5BsS,EAAInO,eAAiBoM,EAAW7M,wBAAwB4O,EAAIpS,SAASqD,UAAW+O,EAAI7R,YACpF6R,EAAI3R,KAAO4P,EAAWxQ,MAUtB,IALA,IAAIwS,EAAoBhC,EAAWnQ,UAAUmD,UAAU/I,QAEnDgY,EAAwBF,EAAIlB,oBAAsB,GAClDqB,EAAuBH,EAAIhB,mBAAqB,GAE3C5X,EAAI,EAAGtB,EAASma,EAAkBna,OAAQsB,EAAItB,EAAQsB,IAAK,CAClE,IAAIgZ,EAAaH,EAAkB7Y,GAC/BiZ,EAAc,IAAI/B,EACtB+B,EAAY1W,cAAgByW,EAAWzW,cACvC0W,EAAY3W,gBAAkB0W,EAAW1W,gBAErC0W,EAAW7W,SACb8W,EAAY9W,OAASuF,EAAQ/G,QAAQqY,EAAW7W,QAChD8W,EAAY7W,aAAe4W,EAAW5W,aACtC6W,EAAY5W,eAAiB2W,EAAW3W,eAEpC2W,EAAWxW,OACbyW,EAAYzW,KAAOgI,EAAM7J,QAAQqY,EAAWxW,OAG9CuW,EAAqB1M,KAAK4M,IAG5BH,EAAsBzM,KAAK4M,GAI7B,OADArC,EAAUgC,EAAIhB,mBAAoB3R,EAAKnE,4BAChC8W,GAOT3B,EAAuB/S,UAAU0C,SAAW,EAK5C1F,OAAO4S,eAAemD,EAAuB/S,UAAW,UAAW,CACjEwJ,IAAK,WACH,OAAOnK,KAAKiD,SAASqD,UAAUM,KAAI,SAAU9I,GAC3C,OAA0B,MAAnBkC,KAAKwD,WAAqBd,EAAK/F,KAAKqD,KAAKwD,WAAY1F,GAAKA,IAChEkC,SAsBP0T,EAAuB/S,UAAUyT,eAAiB,SAAyC/V,EAAMsI,GAe/F,IAdA,IAYI/C,EAASjE,EAAKgW,EAASC,EAAK3N,EAZ5BjJ,EAAgB,EAChB8G,EAA0B,EAC1BG,EAAuB,EACvBD,EAAyB,EACzBG,EAAiB,EACjBD,EAAe,EACf/K,EAASkD,EAAKlD,OACdkC,EAAQ,EACRwY,EAAiB,GACjBC,EAAO,GACPC,EAAmB,GACnBT,EAAoB,GAGjBjY,EAAQlC,GACb,GAA2B,MAAvBkD,EAAKrB,OAAOK,GACd2B,IACA3B,IACAyI,EAA0B,OACrB,GAA2B,MAAvBzH,EAAKrB,OAAOK,GACrBA,QACK,CAQL,KAPAuG,EAAU,IAAI+P,GACN3U,cAAgBA,EAMnB4W,EAAMvY,EAAOuY,EAAMza,IAClB6E,KAAKsU,wBAAwBjW,EAAMuX,GADTA,KAShC,GAFAD,EAAUE,EADVlW,EAAMtB,EAAKd,MAAMF,EAAOuY,IAItBvY,GAASsC,EAAIxE,WACR,CAGL,IAFAwa,EAAU,GAEHtY,EAAQuY,GACbnT,EAAUiF,OAAOrJ,EAAMhB,EAAOyY,GAC9B7N,EAAQ6N,EAAK7N,MACb5K,EAAQyY,EAAK5N,KACbyN,EAAQ7M,KAAKb,GAGf,GAAuB,IAAnB0N,EAAQxa,OACV,MAAM,IAAIC,MAAM,0CAGlB,GAAuB,IAAnBua,EAAQxa,OACV,MAAM,IAAIC,MAAM,0CAGlBya,EAAelW,GAAOgW,EAIxB/R,EAAQ7E,gBAAkB+G,EAA0B6P,EAAQ,GAC5D7P,EAA0BlC,EAAQ7E,gBAE9B4W,EAAQxa,OAAS,IAEnByI,EAAQhF,OAASuH,EAAiBwP,EAAQ,GAC1CxP,GAAkBwP,EAAQ,GAE1B/R,EAAQ/E,aAAeoH,EAAuB0P,EAAQ,GACtD1P,EAAuBrC,EAAQ/E,aAE/B+E,EAAQ/E,cAAgB,EAExB+E,EAAQ9E,eAAiBkH,EAAyB2P,EAAQ,GAC1D3P,EAAyBpC,EAAQ9E,eAE7B6W,EAAQxa,OAAS,IAEnByI,EAAQ3E,KAAOiH,EAAeyP,EAAQ,GACtCzP,GAAgByP,EAAQ,KAI5BL,EAAkBxM,KAAKlF,GAEa,iBAAzBA,EAAQ/E,cACjBkX,EAAiBjN,KAAKlF,GAK5ByP,EAAUiC,EAAmB5S,EAAKxD,qCAClCc,KAAKmU,oBAAsBmB,EAC3BjC,EAAU0C,EAAkBrT,EAAKnE,4BACjCyB,KAAKqU,mBAAqB0B,GAQ5BrC,EAAuB/S,UAAUwU,aAAe,SAAuCa,EAASC,EAAWC,EAAWC,EAAaC,EAAaC,GAK9I,GAAIL,EAAQE,IAAc,EACxB,MAAM,IAAIhV,UAAU,gDAAkD8U,EAAQE,IAGhF,GAAIF,EAAQG,GAAe,EACzB,MAAM,IAAIjV,UAAU,kDAAoD8U,EAAQG,IAGlF,OAAO/C,EAAakD,OAAON,EAASC,EAAWG,EAAaC,IAQ9D3C,EAAuB/S,UAAU4V,mBAAqB,WACpD,IAAK,IAAIlZ,EAAQ,EAAGA,EAAQ2C,KAAK+U,mBAAmB5Z,SAAUkC,EAAO,CACnE,IAAIuG,EAAU5D,KAAK+U,mBAAmB1X,GAKtC,GAAIA,EAAQ,EAAI2C,KAAK+U,mBAAmB5Z,OAAQ,CAC9C,IAAIqb,EAAcxW,KAAK+U,mBAAmB1X,EAAQ,GAElD,GAAIuG,EAAQ5E,gBAAkBwX,EAAYxX,cAAe,CACvD4E,EAAQ6S,oBAAsBD,EAAYzX,gBAAkB,EAC5D,UAKJ6E,EAAQ6S,oBAAsBC,MAyBlChD,EAAuB/S,UAAUyE,oBAAsB,SAA+CrK,GACpG,IAAIma,EAAS,CACXlW,cAAe0D,EAAK5H,OAAOC,EAAO,QAClCgE,gBAAiB2D,EAAK5H,OAAOC,EAAO,WAGlCsC,EAAQ2C,KAAKmV,aAAaD,EAAQlV,KAAK+U,mBAAoB,gBAAiB,kBAAmBrS,EAAKxD,oCAAqCwD,EAAK5H,OAAOC,EAAO,OAAQiX,EAAkB0C,uBAE1L,GAAIrX,GAAS,EAAG,CACd,IAAIuG,EAAU5D,KAAK+U,mBAAmB1X,GAEtC,GAAIuG,EAAQ5E,gBAAkBkW,EAAOlW,cAAe,CAClD,IAAIJ,EAAS8D,EAAK5H,OAAO8I,EAAS,SAAU,MAE7B,OAAXhF,IACFA,EAASoB,KAAKiD,SAAS8F,GAAGnK,GAEH,MAAnBoB,KAAKwD,aACP5E,EAAS8D,EAAK/F,KAAKqD,KAAKwD,WAAY5E,KAIxC,IAAIK,EAAOyD,EAAK5H,OAAO8I,EAAS,OAAQ,MAMxC,OAJa,OAAT3E,IACFA,EAAOe,KAAKkD,OAAO6F,GAAG9J,IAGjB,CACLL,OAAQA,EACRmF,KAAMrB,EAAK5H,OAAO8I,EAAS,eAAgB,MAC3CI,OAAQtB,EAAK5H,OAAO8I,EAAS,iBAAkB,MAC/C3E,KAAMA,IAKZ,MAAO,CACLL,OAAQ,KACRmF,KAAM,KACNC,OAAQ,KACR/E,KAAM,OASVyU,EAAuB/S,UAAUgW,wBAA0B,WACzD,QAAK3W,KAAKkH,iBAIHlH,KAAKkH,eAAe/L,QAAU6E,KAAKiD,SAASwF,SAAWzI,KAAKkH,eAAe0P,MAAK,SAAUC,GAC/F,OAAa,MAANA,OAUXnD,EAAuB/S,UAAU4D,iBAAmB,SAA4CgB,EAASuR,GACvG,IAAK9W,KAAKkH,eACR,OAAO,KAOT,GAJuB,MAAnBlH,KAAKwD,aACP+B,EAAU7C,EAAKxF,SAAS8C,KAAKwD,WAAY+B,IAGvCvF,KAAKiD,SAASyB,IAAIa,GACpB,OAAOvF,KAAKkH,eAAelH,KAAKiD,SAAS7F,QAAQmI,IAGnD,IAAItJ,EAEJ,GAAuB,MAAnB+D,KAAKwD,aAAuBvH,EAAMyG,EAAKnH,SAASyE,KAAKwD,aAAc,CAKrE,IAAIuT,EAAiBxR,EAAQtI,QAAQ,aAAc,IAEnD,GAAkB,QAAdhB,EAAIP,QAAoBsE,KAAKiD,SAASyB,IAAIqS,GAC5C,OAAO/W,KAAKkH,eAAelH,KAAKiD,SAAS7F,QAAQ2Z,IAGnD,KAAM9a,EAAIH,MAAoB,KAAZG,EAAIH,OAAgBkE,KAAKiD,SAASyB,IAAI,IAAMa,GAC5D,OAAOvF,KAAKkH,eAAelH,KAAKiD,SAAS7F,QAAQ,IAAMmI,IAQ3D,GAAIuR,EACF,OAAO,KAEP,MAAM,IAAI1b,MAAM,IAAMmK,EAAU,+BAwBpCmO,EAAuB/S,UAAUqW,qBAAuB,SAAgDjc,GACtG,IAAI6D,EAAS8D,EAAK5H,OAAOC,EAAO,UAMhC,GAJuB,MAAnBiF,KAAKwD,aACP5E,EAAS8D,EAAKxF,SAAS8C,KAAKwD,WAAY5E,KAGrCoB,KAAKiD,SAASyB,IAAI9F,GACrB,MAAO,CACLmF,KAAM,KACNC,OAAQ,KACRoR,WAAY,MAKhB,IAAIF,EAAS,CACXtW,OAFFA,EAASoB,KAAKiD,SAAS7F,QAAQwB,GAG7BC,aAAc6D,EAAK5H,OAAOC,EAAO,QACjC+D,eAAgB4D,EAAK5H,OAAOC,EAAO,WAGjCsC,EAAQ2C,KAAKmV,aAAaD,EAAQlV,KAAKgV,kBAAmB,eAAgB,iBAAkBtS,EAAKnE,2BAA4BmE,EAAK5H,OAAOC,EAAO,OAAQiX,EAAkB0C,uBAE9K,GAAIrX,GAAS,EAAG,CACd,IAAIuG,EAAU5D,KAAKgV,kBAAkB3X,GAErC,GAAIuG,EAAQhF,SAAWsW,EAAOtW,OAC5B,MAAO,CACLmF,KAAMrB,EAAK5H,OAAO8I,EAAS,gBAAiB,MAC5CI,OAAQtB,EAAK5H,OAAO8I,EAAS,kBAAmB,MAChDwR,WAAY1S,EAAK5H,OAAO8I,EAAS,sBAAuB,OAK9D,MAAO,CACLG,KAAM,KACNC,OAAQ,KACRoR,WAAY,OAIhBva,EAAQ6Y,uBAAyBA,EA+FjCD,EAAyB9S,UAAYhD,OAAOC,OAAOoU,EAAkBrR,WACrE8S,EAAyB9S,UAAUsW,YAAcjF,EAKjDyB,EAAyB9S,UAAU0C,SAAW,EAK9C1F,OAAO4S,eAAekD,EAAyB9S,UAAW,UAAW,CACnEwJ,IAAK,WAGH,IAFA,IAAIhG,EAAU,GAEL1H,EAAI,EAAGA,EAAIuD,KAAK6T,UAAU1Y,OAAQsB,IACzC,IAAK,IAAI4F,EAAI,EAAGA,EAAIrC,KAAK6T,UAAUpX,GAAGyX,SAAS/P,QAAQhJ,OAAQkH,IAC7D8B,EAAQ2E,KAAK9I,KAAK6T,UAAUpX,GAAGyX,SAAS/P,QAAQ9B,IAIpD,OAAO8B,KAmBXsP,EAAyB9S,UAAUyE,oBAAsB,SAAsDrK,GAC7G,IAAIma,EAAS,CACXlW,cAAe0D,EAAK5H,OAAOC,EAAO,QAClCgE,gBAAiB2D,EAAK5H,OAAOC,EAAO,WAIlCmc,EAAe9D,EAAakD,OAAOpB,EAAQlV,KAAK6T,WAAW,SAAUqB,EAAQiC,GAC/E,IAAIxY,EAAMuW,EAAOlW,cAAgBmY,EAAQlD,gBAAgBjV,cAEzD,OAAIL,GAIGuW,EAAOnW,gBAAkBoY,EAAQlD,gBAAgBlV,mBAEtDoY,EAAUnX,KAAK6T,UAAUqD,GAE7B,OAAKC,EASEA,EAAQjD,SAAS9O,oBAAoB,CAC1CrB,KAAMmR,EAAOlW,eAAiBmY,EAAQlD,gBAAgBjV,cAAgB,GACtEgF,OAAQkR,EAAOnW,iBAAmBoY,EAAQlD,gBAAgBjV,gBAAkBkW,EAAOlW,cAAgBmY,EAAQlD,gBAAgBlV,gBAAkB,EAAI,GACjJqY,KAAMrc,EAAMqc,OAXL,CACLxY,OAAQ,KACRmF,KAAM,KACNC,OAAQ,KACR/E,KAAM,OAgBZwU,EAAyB9S,UAAUgW,wBAA0B,WAC3D,OAAO3W,KAAK6T,UAAUwD,OAAM,SAAUvZ,GACpC,OAAOA,EAAEoW,SAASyC,8BAUtBlD,EAAyB9S,UAAU4D,iBAAmB,SAAmDgB,EAASuR,GAChH,IAAK,IAAIra,EAAI,EAAGA,EAAIuD,KAAK6T,UAAU1Y,OAAQsB,IAAK,CAC9C,IACI6H,EADUtE,KAAK6T,UAAUpX,GACPyX,SAAS3P,iBAAiBgB,GAAS,GAEzD,GAAIjB,EACF,OAAOA,EAIX,GAAIwS,EACF,OAAO,KAEP,MAAM,IAAI1b,MAAM,IAAMmK,EAAU,+BAmBpCkO,EAAyB9S,UAAUqW,qBAAuB,SAAuDjc,GAC/G,IAAK,IAAI0B,EAAI,EAAGA,EAAIuD,KAAK6T,UAAU1Y,OAAQsB,IAAK,CAC9C,IAAI0a,EAAUnX,KAAK6T,UAAUpX,GAG7B,IAAwE,IAApE0a,EAAQjD,SAAS/P,QAAQ/G,QAAQsF,EAAK5H,OAAOC,EAAO,WAAxD,CAIA,IAAIuc,EAAoBH,EAAQjD,SAAS8C,qBAAqBjc,GAE9D,GAAIuc,EAKF,MAJU,CACRvT,KAAMuT,EAAkBvT,MAAQoT,EAAQlD,gBAAgBjV,cAAgB,GACxEgF,OAAQsT,EAAkBtT,QAAUmT,EAAQlD,gBAAgBjV,gBAAkBsY,EAAkBvT,KAAOoT,EAAQlD,gBAAgBlV,gBAAkB,EAAI,KAM3J,MAAO,CACLgF,KAAM,KACNC,OAAQ,OAUZyP,EAAyB9S,UAAUyT,eAAiB,SAAgD/V,EAAMsI,GACxG3G,KAAKmU,oBAAsB,GAC3BnU,KAAKqU,mBAAqB,GAE1B,IAAK,IAAI5X,EAAI,EAAGA,EAAIuD,KAAK6T,UAAU1Y,OAAQsB,IAIzC,IAHA,IAAI0a,EAAUnX,KAAK6T,UAAUpX,GACzB8a,EAAkBJ,EAAQjD,SAASa,mBAE9B1S,EAAI,EAAGA,EAAIkV,EAAgBpc,OAAQkH,IAAK,CAC/C,IAAIuB,EAAU2T,EAAgBlV,GAE1BzD,EAASuY,EAAQjD,SAASjR,SAAS8F,GAAGnF,EAAQhF,QAEd,OAAhCuY,EAAQjD,SAAS1Q,aACnB5E,EAAS8D,EAAK/F,KAAKwa,EAAQjD,SAAS1Q,WAAY5E,IAGlDoB,KAAKiD,SAAS0B,IAAI/F,GAElBA,EAASoB,KAAKiD,SAAS7F,QAAQwB,GAE/B,IAAIK,EAAOkY,EAAQjD,SAAShR,OAAO6F,GAAGnF,EAAQ3E,MAE9Ce,KAAKkD,OAAOyB,IAAI1F,GAEhBA,EAAOe,KAAKkD,OAAO9F,QAAQ6B,GAK3B,IAAIuY,EAAkB,CACpB5Y,OAAQA,EACRI,cAAe4E,EAAQ5E,eAAiBmY,EAAQlD,gBAAgBjV,cAAgB,GAChFD,gBAAiB6E,EAAQ7E,iBAAmBoY,EAAQlD,gBAAgBjV,gBAAkB4E,EAAQ5E,cAAgBmY,EAAQlD,gBAAgBlV,gBAAkB,EAAI,GAC5JF,aAAc+E,EAAQ/E,aACtBC,eAAgB8E,EAAQ9E,eACxBG,KAAMA,GAGRe,KAAKmU,oBAAoBrL,KAAK0O,GAEc,iBAAjCA,EAAgB3Y,cACzBmB,KAAKqU,mBAAmBvL,KAAK0O,GAKnCnE,EAAUrT,KAAKmU,oBAAqBzR,EAAKxD,qCACzCmU,EAAUrT,KAAKqU,mBAAoB3R,EAAKnE,6BAG1C1D,EAAQ4Y,yBAA2BA,G,kBC5/BnC,SAASgE,EAAgBC,EAAMC,EAAO3B,EAAS4B,EAAWC,EAAUxB,GAUlE,IAAIyB,EAAM5H,KAAK6H,OAAOJ,EAAQD,GAAQ,GAAKA,EACvC/Y,EAAMkZ,EAAS7B,EAAS4B,EAAUE,IAAM,GAE5C,OAAY,IAARnZ,EAEKmZ,EACEnZ,EAAM,EAEXgZ,EAAQG,EAAM,EAETL,EAAgBK,EAAKH,EAAO3B,EAAS4B,EAAWC,EAAUxB,GAK/DA,GAASxb,EAAQ8Z,kBACZgD,EAAQC,EAAUzc,OAASwc,GAAS,EAEpCG,EAILA,EAAMJ,EAAO,EAERD,EAAgBC,EAAMI,EAAK9B,EAAS4B,EAAWC,EAAUxB,GAI9DA,GAASxb,EAAQ8Z,kBACZmD,EAEAJ,EAAO,GAAK,EAAIA,EAzD7B7c,EAAQ6Z,qBAAuB,EAC/B7Z,EAAQ8Z,kBAAoB,EAgF5B9Z,EAAQyb,OAAS,SAAgBN,EAAS4B,EAAWC,EAAUxB,GAC7D,GAAyB,IAArBuB,EAAUzc,OACZ,OAAQ,EAGV,IAAIkC,EAAQoa,GAAiB,EAAGG,EAAUzc,OAAQ6a,EAAS4B,EAAWC,EAAUxB,GAASxb,EAAQ6Z,sBAEjG,GAAIrX,EAAQ,EACV,OAAQ,EAMV,KAAOA,EAAQ,GAAK,GAC6C,IAA3Dwa,EAASD,EAAUva,GAAQua,EAAUva,EAAQ,IAAI,MAInDA,EAGJ,OAAOA,I,kBCnFT,SAAS2a,EAAKC,EAAKC,EAAGC,GACpB,IAAIrC,EAAOmC,EAAIC,GACfD,EAAIC,GAAKD,EAAIE,GACbF,EAAIE,GAAKrC,EA6BX,SAASsC,EAAYH,EAAKI,EAAYtY,EAAGuY,GAIvC,GAAIvY,EAAIuY,EAAG,CAWT,IACI7b,EAAIsD,EAAI,EACZiY,EAAKC,GAlCiBM,EAgCYxY,EAhCPyY,EAgCUF,EA/BhCpI,KAAKuI,MAAMF,EAAMrI,KAAKwI,UAAYF,EAAOD,KAiCxBD,GAQtB,IAPA,IAAIK,EAAQV,EAAIK,GAOPjW,EAAItC,EAAGsC,EAAIiW,EAAGjW,IACjBgW,EAAWJ,EAAI5V,GAAIsW,IAAU,GAE/BX,EAAKC,EADLxb,GAAK,EACQ4F,GAIjB2V,EAAKC,EAAKxb,EAAI,EAAG4F,GACjB,IAAIuW,EAAInc,EAAI,EAEZ2b,EAAYH,EAAKI,EAAYtY,EAAG6Y,EAAI,GACpCR,EAAYH,EAAKI,EAAYO,EAAI,EAAGN,GArDxC,IAA0BC,EAAKC,EAkE/B3d,EAAQwY,UAAY,SAAU4E,EAAKI,GACjCD,EAAYH,EAAKI,EAAY,EAAGJ,EAAI9c,OAAS,K,oBCtG/C,IAAI0H,EAAqB,EAAQ,KAA0BA,mBAEvDH,EAAO,EAAQ,KAIfmW,EAAgB,UAMhBC,EAAe,qBAcnB,SAASxG,EAAWyG,EAAOC,EAASzT,EAAS0T,EAASje,GACpDgF,KAAKkZ,SAAW,GAChBlZ,KAAKmZ,eAAiB,GACtBnZ,KAAK+D,KAAgB,MAATgV,EAAgB,KAAOA,EACnC/Y,KAAKgE,OAAoB,MAAXgV,EAAkB,KAAOA,EACvChZ,KAAKpB,OAAoB,MAAX2G,EAAkB,KAAOA,EACvCvF,KAAKf,KAAgB,MAATjE,EAAgB,KAAOA,EACnCgF,KAAK8Y,IAAgB,EACN,MAAXG,GAAiBjZ,KAAK2E,IAAIsU,GAYhC3G,EAAW8G,wBAA0B,SAA4CC,EAAgB9V,EAAoB+V,GAGnH,IAAIC,EAAO,IAAIjH,EAKXkH,EAAiBH,EAAe9c,MAAMsc,GAEtCY,EAAgB,WAIlB,OAHmBD,EAAexR,SAEpBwR,EAAexR,SAAW,KAKtC0R,EAAoB,EACpBjD,EAAsB,EAItBkD,EAAc,KAiElB,OAhEApW,EAAmBI,aAAY,SAAUC,GACvC,GAAoB,OAAhB+V,EAAsB,CAGxB,KAAID,EAAoB9V,EAAQ5E,eAKzB,CAIL,IACIgR,GADA4J,EAAWJ,EAAe,IACV/b,OAAO,EAAGmG,EAAQ7E,gBAAkB0X,GAMxD,OALA+C,EAAe,GAAKI,EAASnc,OAAOmG,EAAQ7E,gBAAkB0X,GAC9DA,EAAsB7S,EAAQ7E,gBAC9B8a,EAAmBF,EAAa3J,QAEhC2J,EAAc/V,GAbdiW,EAAmBF,EAAaF,KAChCC,IACAjD,EAAsB,EAmB1B,KAAOiD,EAAoB9V,EAAQ5E,eACjCua,EAAK5U,IAAI8U,KACTC,IAGF,GAAIjD,EAAsB7S,EAAQ7E,gBAAiB,CACjD,IAAI6a,EAAWJ,EAAe,GAC9BD,EAAK5U,IAAIiV,EAASnc,OAAO,EAAGmG,EAAQ7E,kBACpCya,EAAe,GAAKI,EAASnc,OAAOmG,EAAQ7E,iBAC5C0X,EAAsB7S,EAAQ7E,gBAGhC4a,EAAc/V,IACb5D,MAECwZ,EAAere,OAAS,IACtBwe,GAEFE,EAAmBF,EAAaF,KAIlCF,EAAK5U,IAAI6U,EAAe7c,KAAK,MAI/B4G,EAAmBY,QAAQC,SAAQ,SAAUC,GAC3C,IAAIC,EAAUf,EAAmBgB,iBAAiBF,GAEnC,MAAXC,IACmB,MAAjBgV,IACFjV,EAAa3B,EAAK/F,KAAK2c,EAAejV,IAGxCkV,EAAK/U,iBAAiBH,EAAYC,OAG/BiV,EAEP,SAASM,EAAmBjW,EAASoM,GACnC,GAAgB,OAAZpM,QAAuClD,IAAnBkD,EAAQhF,OAC9B2a,EAAK5U,IAAIqL,OACJ,CACL,IAAIpR,EAAS0a,EAAgB5W,EAAK/F,KAAK2c,EAAe1V,EAAQhF,QAAUgF,EAAQhF,OAChF2a,EAAK5U,IAAI,IAAI2N,EAAW1O,EAAQ/E,aAAc+E,EAAQ9E,eAAgBF,EAAQoR,EAAMpM,EAAQ3E,UAYlGqT,EAAW3R,UAAUgE,IAAM,SAAwBmV,GACjD,GAAItc,MAAMuc,QAAQD,GAChBA,EAAO1V,SAAQ,SAAU4V,GACvBha,KAAK2E,IAAIqV,KACRha,UACE,KAAI8Z,EAAOhB,IAAmC,iBAAXgB,EAKxC,MAAM,IAAI5Y,UAAU,8EAAgF4Y,GAJhGA,GACF9Z,KAAKkZ,SAASpQ,KAAKgR,GAMvB,OAAO9Z,MAUTsS,EAAW3R,UAAUsZ,QAAU,SAA4BH,GACzD,GAAItc,MAAMuc,QAAQD,GAChB,IAAK,IAAIrd,EAAIqd,EAAO3e,OAAS,EAAGsB,GAAK,EAAGA,IACtCuD,KAAKia,QAAQH,EAAOrd,QAEjB,KAAIqd,EAAOhB,IAAmC,iBAAXgB,EAGxC,MAAM,IAAI5Y,UAAU,8EAAgF4Y,GAFpG9Z,KAAKkZ,SAASgB,QAAQJ,GAKxB,OAAO9Z,MAWTsS,EAAW3R,UAAUwZ,KAAO,SAAyBC,GAGnD,IAFA,IAAIJ,EAEKvd,EAAI,EAAG8J,EAAMvG,KAAKkZ,SAAS/d,OAAQsB,EAAI8J,EAAK9J,KACnDud,EAAQha,KAAKkZ,SAASzc,IAEZqc,GACRkB,EAAMG,KAAKC,GAEG,KAAVJ,GACFI,EAAIJ,EAAO,CACTpb,OAAQoB,KAAKpB,OACbmF,KAAM/D,KAAK+D,KACXC,OAAQhE,KAAKgE,OACb/E,KAAMe,KAAKf,QAcrBqT,EAAW3R,UAAUhE,KAAO,SAAyB0d,GACnD,IAAIC,EACA7d,EACA8J,EAAMvG,KAAKkZ,SAAS/d,OAExB,GAAIoL,EAAM,EAAG,CAGX,IAFA+T,EAAc,GAET7d,EAAI,EAAGA,EAAI8J,EAAM,EAAG9J,IACvB6d,EAAYxR,KAAK9I,KAAKkZ,SAASzc,IAC/B6d,EAAYxR,KAAKuR,GAGnBC,EAAYxR,KAAK9I,KAAKkZ,SAASzc,IAC/BuD,KAAKkZ,SAAWoB,EAGlB,OAAOta,MAWTsS,EAAW3R,UAAU4Z,aAAe,SAAiCC,EAAUC,GAC7E,IAAIC,EAAY1a,KAAKkZ,SAASlZ,KAAKkZ,SAAS/d,OAAS,GAUrD,OARIuf,EAAU5B,GACZ4B,EAAUH,aAAaC,EAAUC,GACH,iBAAdC,EAChB1a,KAAKkZ,SAASlZ,KAAKkZ,SAAS/d,OAAS,GAAKuf,EAAUzd,QAAQud,EAAUC,GAEtEza,KAAKkZ,SAASpQ,KAAK,GAAG7L,QAAQud,EAAUC,IAGnCza,MAWTsS,EAAW3R,UAAU6D,iBAAmB,SAAqCI,EAAaC,GACxF7E,KAAKmZ,eAAezW,EAAKtE,YAAYwG,IAAgBC,GAUvDyN,EAAW3R,UAAUga,mBAAqB,SAAuCP,GAC/E,IAAK,IAAI3d,EAAI,EAAG8J,EAAMvG,KAAKkZ,SAAS/d,OAAQsB,EAAI8J,EAAK9J,IAC/CuD,KAAKkZ,SAASzc,GAAGqc,IACnB9Y,KAAKkZ,SAASzc,GAAGke,mBAAmBP,GAIxC,IAAIjW,EAAUxG,OAAOmH,KAAK9E,KAAKmZ,gBAE/B,IAAS1c,EAAI,EAAG8J,EAAMpC,EAAQhJ,OAAQsB,EAAI8J,EAAK9J,IAC7C2d,EAAI1X,EAAKpE,cAAc6F,EAAQ1H,IAAKuD,KAAKmZ,eAAehV,EAAQ1H,MASpE6V,EAAW3R,UAAUK,SAAW,WAC9B,IAAIrB,EAAM,GAIV,OAHAK,KAAKma,MAAK,SAAUH,GAClBra,GAAOqa,KAEFra,GAQT2S,EAAW3R,UAAUia,sBAAwB,SAA0C7f,GACrF,IAAI+I,EAAY,CACdkM,KAAM,GACNjM,KAAM,EACNC,OAAQ,GAEN4C,EAAM,IAAI/D,EAAmB9H,GAC7B8f,GAAsB,EACtBC,EAAqB,KACrBC,EAAmB,KACnBC,EAAqB,KACrBC,EAAmB,KAkEvB,OAjEAjb,KAAKma,MAAK,SAAUH,EAAO/V,GACzBH,EAAUkM,MAAQgK,EAEM,OAApB/V,EAASrF,QAAqC,OAAlBqF,EAASF,MAAqC,OAApBE,EAASD,QAC7D8W,IAAuB7W,EAASrF,QAAUmc,IAAqB9W,EAASF,MAAQiX,IAAuB/W,EAASD,QAAUiX,IAAqBhX,EAAShF,MAC1J2H,EAAI1C,WAAW,CACbtF,OAAQqF,EAASrF,OACjBqF,SAAU,CACRF,KAAME,EAASF,KACfC,OAAQC,EAASD,QAEnBF,UAAW,CACTC,KAAMD,EAAUC,KAChBC,OAAQF,EAAUE,QAEpB/E,KAAMgF,EAAShF,OAInB6b,EAAqB7W,EAASrF,OAC9Bmc,EAAmB9W,EAASF,KAC5BiX,EAAqB/W,EAASD,OAC9BiX,EAAmBhX,EAAShF,KAC5B4b,GAAsB,GACbA,IACTjU,EAAI1C,WAAW,CACbJ,UAAW,CACTC,KAAMD,EAAUC,KAChBC,OAAQF,EAAUE,UAGtB8W,EAAqB,KACrBD,GAAsB,GAGxB,IAAK,IAAIhS,EAAM,EAAG1N,EAAS6e,EAAM7e,OAAQ0N,EAAM1N,EAAQ0N,IAtWxC,KAuWTmR,EAAMhc,WAAW6K,IACnB/E,EAAUC,OACVD,EAAUE,OAAS,EAEf6E,EAAM,IAAM1N,GACd2f,EAAqB,KACrBD,GAAsB,GACbA,GACTjU,EAAI1C,WAAW,CACbtF,OAAQqF,EAASrF,OACjBqF,SAAU,CACRF,KAAME,EAASF,KACfC,OAAQC,EAASD,QAEnBF,UAAW,CACTC,KAAMD,EAAUC,KAChBC,OAAQF,EAAUE,QAEpB/E,KAAMgF,EAAShF,QAInB6E,EAAUE,YAIhBhE,KAAK2a,oBAAmB,SAAUtW,EAAY6W,GAC5CtU,EAAIpC,iBAAiBH,EAAY6W,MAE5B,CACLlL,KAAMlM,EAAUkM,KAChBpJ,IAAKA,IAIT/L,EAAQyX,WAAaA,G,iCCrYd,SAASpF,EAAMjO,GAChBkc,EAKC,SAASC,EAAKnc,GACfkc,EA3BN,mF,kBCEA,SAASE,IACP,MAAO,kBAAmBC,YAA2C,WAA7B5L,OAAOxB,SAASqN,UAAsD,cAA7B7L,OAAOxB,SAASsN,UAAyE,IAA7C9L,OAAOxB,SAASsN,SAASpe,QAAQ,SAuBhKvC,EAAQ4gB,QApBR,SAAiBC,GAGf,GAFAA,IAAYA,EAAU,IAElBL,IACiBC,UAAUK,cAAcC,SAAS,SAAU,WAiBlE/gB,EAAQghB,YAZR,SAAqBtQ,EAAUC,KAa/B3Q,EAAQihB,OAXR,WACMT,KACFC,UAAUK,cAAcI,kBAAkB7Q,MAAK,SAAU8Q,GACvD,GAAKA,EACL,OAAOA,EAAaF,c,qKCrBtBG,EAAWte,OAAOue,QAAU,SAAUrS,GACxC,IAAK,IAAIpN,EAAI,EAAGA,EAAIvB,UAAUC,OAAQsB,IAAK,CACzC,IAAImC,EAAS1D,UAAUuB,GAEvB,IAAK,IAAIoK,KAAOjI,EACVjB,OAAOgD,UAAUmG,eAAe7F,KAAKrC,EAAQiI,KAC/CgD,EAAOhD,GAAOjI,EAAOiI,IAK3B,OAAOgD,GAGT,SAASsS,EAAgBC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAInb,UAAU,qCAIxB,SAASob,EAA2BC,EAAMtb,GACxC,IAAKsb,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOvb,GAAyB,iBAATA,GAAqC,mBAATA,EAA8Bsb,EAAPtb,EA2B5E,IAAI,EAAS,SAAUwb,GAGrB,SAASC,IACP,IAAIC,EAAOC,EAEXT,EAAgBnc,KAAM0c,GAEtB,IAAK,IAAIG,EAAO3hB,UAAUC,OAAQ0F,EAAOrD,MAAMqf,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC3Ejc,EAAKic,GAAQ5hB,UAAU4hB,GAGzB,OAAeH,EAASC,EAAQN,EAA2Btc,KAAMyc,EAAiBxb,KAAK2K,MAAM6Q,EAAkB,CAACzc,MAAMO,OAAOM,KAAiB+b,EAAMG,MAAQ,CAC1JthB,MAAOmhB,EAAMI,aAAaJ,EAAMtc,MAAM2c,QAAQ/O,SAASgP,WAC9CZ,EAA2BM,EAAnCD,GAsDL,OA5FF,SAAmBQ,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIlc,UAAU,kEAAoEkc,GAG1FD,EAASxc,UAAYhD,OAAOC,OAAOwf,GAAcA,EAAWzc,UAAW,CACrEsW,YAAa,CACXhP,MAAOkV,EACPE,YAAY,EACZC,UAAU,EACVC,cAAc,KAGdH,IAAYzf,OAAO6f,eAAiB7f,OAAO6f,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GAY3GM,CAAUhB,EAAQD,GAgBlBC,EAAO/b,UAAUgd,gBAAkB,WACjC,MAAO,CACLC,OAAQ3B,EAAS,GAAIjc,KAAK8U,QAAQ8I,OAAQ,CACxCX,QAASjd,KAAKM,MAAM2c,QACpBY,MAAO,CACL3P,SAAUlO,KAAKM,MAAM2c,QAAQ/O,SAC7BzS,MAAOuE,KAAK+c,MAAMthB,WAM1BihB,EAAO/b,UAAUqc,aAAe,SAAsBE,GACpD,MAAO,CACLphB,KAAM,IACNG,IAAK,IACL6hB,OAAQ,GACRC,QAAsB,MAAbb,IAIbR,EAAO/b,UAAUqd,mBAAqB,WACpC,IAAIC,EAASje,KAETke,EAASle,KAAKM,MACd4Y,EAAWgF,EAAOhF,SAClB+D,EAAUiB,EAAOjB,QACrB,IAAsB,MAAZ/D,GAAuD,IAAnC,IAAMiF,SAASC,MAAMlF,GAAiB,8CAIpElZ,KAAKqe,SAAWpB,EAAQqB,QAAO,WAC7BL,EAAOM,SAAS,CACd9iB,MAAOwiB,EAAOjB,aAAaC,EAAQ/O,SAASgP,gBAKlDR,EAAO/b,UAAU6d,0BAA4B,SAAmCC,GAC9E,IAAQze,KAAKM,MAAM2c,UAAYwB,EAAUxB,QAAS,uCAGpDP,EAAO/b,UAAU+d,qBAAuB,WACtC1e,KAAKqe,YAGP3B,EAAO/b,UAAUge,OAAS,WACxB,IAAIzF,EAAWlZ,KAAKM,MAAM4Y,SAC1B,OAAOA,EAAW,IAAMiF,SAASS,KAAK1F,GAAY,MAG7CwD,EApEI,CAqEX,IAAMmC,WAER,EAAOC,UAAY,CACjB7B,QAAS,IAAU8B,OAAOC,WAC1B9F,SAAU,IAAUK,MAEtB,EAAO0F,aAAe,CACpBrB,OAAQ,IAAUmB,QAEpB,EAAOG,kBAAoB,CACzBtB,OAAQ,IAAUmB,OAAOC,YAEZ,ICnIA,EDmIA,EErIf,SAAS,EAAgB5C,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAInb,UAAU,qCAIxB,SAAS,EAA2Bqb,EAAMtb,GACxC,IAAKsb,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOvb,GAAyB,iBAATA,GAAqC,mBAATA,EAA8Bsb,EAAPtb,EA4B5E,IA6Be,EA7BK,SAAUwb,GAG5B,SAAS0C,IACP,IAAIxC,EAAOC,EAEX,EAAgB5c,KAAMmf,GAEtB,IAAK,IAAItC,EAAO3hB,UAAUC,OAAQ0F,EAAOrD,MAAMqf,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC3Ejc,EAAKic,GAAQ5hB,UAAU4hB,GAGzB,OAAeH,EAASC,EAAQ,EAA2B5c,KAAMyc,EAAiBxb,KAAK2K,MAAM6Q,EAAkB,CAACzc,MAAMO,OAAOM,KAAiB+b,EAAMK,QAAU,YAAcL,EAAMtc,OAAgB,EAA2Bsc,EAAnCD,GAc5L,OAnDF,SAAmBQ,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIlc,UAAU,kEAAoEkc,GAG1FD,EAASxc,UAAYhD,OAAOC,OAAOwf,GAAcA,EAAWzc,UAAW,CACrEsW,YAAa,CACXhP,MAAOkV,EACPE,YAAY,EACZC,UAAU,EACVC,cAAc,KAGdH,IAAYzf,OAAO6f,eAAiB7f,OAAO6f,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GAa3G,CAAU+B,EAAe1C,GAczB0C,EAAcxe,UAAUqd,mBAAqB,WAC3C,KAAShe,KAAKM,MAAM2c,QAAS,gJAG/BkC,EAAcxe,UAAUge,OAAS,WAC/B,OAAoB,IAAMS,cAAc,EAAQ,CAC9CnC,QAASjd,KAAKid,QACd/D,SAAUlZ,KAAKM,MAAM4Y,YAIlBiG,EA1BW,CA2BlB,IAAMN,W,0EClER,SAASxiB,EAAW6gB,GAClB,MAA8B,MAAvBA,EAASlgB,OAAO,GAIzB,SAASqiB,EAAUC,EAAMjiB,GACvB,IAAK,IAAIZ,EAAIY,EAAOkF,EAAI9F,EAAI,EAAG6C,EAAIggB,EAAKnkB,OAAQoH,EAAIjD,EAAG7C,GAAK,EAAG8F,GAAK,EAClE+c,EAAK7iB,GAAK6iB,EAAK/c,GAGjB+c,EAAKjR,MAwDQ,MApDf,SAAyBkR,GACvB,IAAIC,EAAOtkB,UAAUC,OAAS,QAAsBuF,IAAjBxF,UAAU,GAAmBA,UAAU,GAAK,GAC3EukB,EAAUF,GAAMA,EAAGhjB,MAAM,MAAQ,GACjCmjB,EAAYF,GAAQA,EAAKjjB,MAAM,MAAQ,GACvCojB,EAAUJ,GAAMljB,EAAWkjB,GAC3BK,EAAYJ,GAAQnjB,EAAWmjB,GAC/BK,EAAaF,GAAWC,EAW5B,GATIL,GAAMljB,EAAWkjB,GAEnBG,EAAYD,EACHA,EAAQtkB,SAEjBukB,EAAUrR,MACVqR,EAAYA,EAAUnf,OAAOkf,KAG1BC,EAAUvkB,OAAQ,MAAO,IAC9B,IAAI2kB,OAAmB,EAEvB,GAAIJ,EAAUvkB,OAAQ,CACpB,IAAI4kB,EAAOL,EAAUA,EAAUvkB,OAAS,GACxC2kB,EAA4B,MAATC,GAAyB,OAATA,GAA0B,KAATA,OAEpDD,GAAmB,EAKrB,IAFA,IAAItjB,EAAK,EAEAC,EAAIijB,EAAUvkB,OAAQsB,GAAK,EAAGA,IAAK,CAC1C,IAAIL,EAAOsjB,EAAUjjB,GAER,MAATL,EACFijB,EAAUK,EAAWjjB,GACH,OAATL,GACTijB,EAAUK,EAAWjjB,GACrBD,KACSA,IACT6iB,EAAUK,EAAWjjB,GACrBD,KAIJ,IAAKqjB,EAAY,KAAOrjB,IAAMA,EAC5BkjB,EAAUxF,QAAQ,OAEhB2F,GAA+B,KAAjBH,EAAU,IAAeA,EAAU,IAAOrjB,EAAWqjB,EAAU,KAAMA,EAAUxF,QAAQ,IACzG,IAAI9T,EAASsZ,EAAU/iB,KAAK,KAE5B,OADImjB,GAA0C,MAAtB1Z,EAAO3I,QAAQ,KAAY2I,GAAU,KACtDA,GC/DL4Z,EAA4B,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUzf,GAC5F,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAyB,mBAAXwf,QAAyBxf,EAAIwW,cAAgBgJ,QAAUxf,IAAQwf,OAAOtf,UAAY,gBAAkBF,GAgC5G,MA7Bf,SAAS0f,EAAWC,EAAGC,GACrB,GAAID,IAAMC,EAAG,OAAO,EACpB,GAAS,MAALD,GAAkB,MAALC,EAAW,OAAO,EAEnC,GAAI7iB,MAAMuc,QAAQqG,GAChB,OAAO5iB,MAAMuc,QAAQsG,IAAMD,EAAEjlB,SAAWklB,EAAEllB,QAAUilB,EAAE/I,OAAM,SAAUiJ,EAAMjjB,GAC1E,OAAO8iB,EAAWG,EAAMD,EAAEhjB,OAI9B,IAAIkjB,OAAqB,IAANH,EAAoB,YAAcJ,EAAQI,GAE7D,GAAIG,UADqB,IAANF,EAAoB,YAAcL,EAAQK,IACxC,OAAO,EAE5B,GAAc,WAAVE,EAAoB,CACtB,IAAInZ,EAASgZ,EAAEI,UACXC,EAASJ,EAAEG,UACf,GAAIpZ,IAAWgZ,GAAKK,IAAWJ,EAAG,OAAOF,EAAW/Y,EAAQqZ,GAC5D,IAAIC,EAAQ/iB,OAAOmH,KAAKsb,GACpBO,EAAQhjB,OAAOmH,KAAKub,GACxB,OAAIK,EAAMvlB,SAAWwlB,EAAMxlB,QACpBulB,EAAMrJ,OAAM,SAAUxQ,GAC3B,OAAOsZ,EAAWC,EAAEvZ,GAAMwZ,EAAExZ,OAIhC,OAAO,GChCL,EAAWlJ,OAAOue,QAAU,SAAUrS,GACxC,IAAK,IAAIpN,EAAI,EAAGA,EAAIvB,UAAUC,OAAQsB,IAAK,CACzC,IAAImC,EAAS1D,UAAUuB,GAEvB,IAAK,IAAIoK,KAAOjI,EACVjB,OAAOgD,UAAUmG,eAAe7F,KAAKrC,EAAQiI,KAC/CgD,EAAOhD,GAAOjI,EAAOiI,IAK3B,OAAOgD,GAME,EAAiB,SAAwB/N,EAAMihB,EAAOlW,EAAK+Z,GACpE,IAAI1S,OAAW,EAEK,iBAATpS,GAEToS,ECPmB,SAAmBpS,GACxC,IAAIohB,EAAWphB,GAAQ,IACnBwa,EAAS,GACTuK,EAAO,GACPC,EAAY5D,EAAS9f,QAAQ,MAEd,IAAf0jB,IACFD,EAAO3D,EAASzf,OAAOqjB,GACvB5D,EAAWA,EAASzf,OAAO,EAAGqjB,IAGhC,IAAIC,EAAc7D,EAAS9f,QAAQ,KAOnC,OALqB,IAAjB2jB,IACFzK,EAAS4G,EAASzf,OAAOsjB,GACzB7D,EAAWA,EAASzf,OAAO,EAAGsjB,IAGzB,CACL7D,SAAUA,EACV5G,OAAmB,MAAXA,EAAiB,GAAKA,EAC9BuK,KAAe,MAATA,EAAe,GAAKA,GDdfG,CAAUllB,IACZihB,MAAQA,QAISrc,KAD1BwN,EAAW,EAAS,GAAIpS,IACXohB,WAAwBhP,EAASgP,SAAW,IAErDhP,EAASoI,OACuB,MAA9BpI,EAASoI,OAAOtZ,OAAO,KAAYkR,EAASoI,OAAS,IAAMpI,EAASoI,QAExEpI,EAASoI,OAAS,GAGhBpI,EAAS2S,KACqB,MAA5B3S,EAAS2S,KAAK7jB,OAAO,KAAYkR,EAAS2S,KAAO,IAAM3S,EAAS2S,MAEpE3S,EAAS2S,KAAO,QAGJngB,IAAVqc,QAA0Crc,IAAnBwN,EAAS6O,QAAqB7O,EAAS6O,MAAQA,IAG5E,IACE7O,EAASgP,SAAW+D,UAAU/S,EAASgP,UACvC,MAAOrR,GACP,MAAIA,aAAaqV,SACT,IAAIA,SAAS,aAAehT,EAASgP,SAAxB,iFAEbrR,EAoBV,OAhBIhF,IAAKqH,EAASrH,IAAMA,GAEpB+Z,EAEG1S,EAASgP,SAE6B,MAAhChP,EAASgP,SAASlgB,OAAO,KAClCkR,EAASgP,SAAW,EAAgBhP,EAASgP,SAAU0D,EAAgB1D,WAFvEhP,EAASgP,SAAW0D,EAAgB1D,SAMjChP,EAASgP,WACZhP,EAASgP,SAAW,KAIjBhP,GAEE,EAAoB,SAA2BkS,EAAGC,GAC3D,OAAOD,EAAElD,WAAamD,EAAEnD,UAAYkD,EAAE9J,SAAW+J,EAAE/J,QAAU8J,EAAES,OAASR,EAAEQ,MAAQT,EAAEvZ,MAAQwZ,EAAExZ,KAAO,EAAWuZ,EAAErD,MAAOsD,EAAEtD,Q,GEzEjF,oBAAXrN,SAA0BA,OAAOyR,UAAYzR,OAAOyR,SAAS/B,cCA9D,mBAAXa,QAAgCA,OAAOC,SAM7CviB,OAAOue,OCNPve,OAAOue,OCAU,mBAAX+D,QAAgCA,OAAOC,SAM7CviB,OAAOue,O,iBCLlBkF,EAAe,GAEfC,EAAa,EAEb,EAAmB,SAA0BC,GAC/C,IAAIC,EAAWD,EACXE,EAAQJ,EAAaG,KAAcH,EAAaG,GAAY,IAChE,GAAIC,EAAMF,GAAU,OAAOE,EAAMF,GACjC,IAAIG,EAAoB,IAAaC,QAAQJ,GAO7C,OALID,EATW,MAUbG,EAAMF,GAAWG,EACjBJ,KAGKI,GAqBM,EAdI,WACjB,IAAIH,EAAUpmB,UAAUC,OAAS,QAAsBuF,IAAjBxF,UAAU,GAAmBA,UAAU,GAAK,IAC9E4iB,EAAS5iB,UAAUC,OAAS,QAAsBuF,IAAjBxF,UAAU,GAAmBA,UAAU,GAAK,GAEjF,GAAgB,MAAZomB,EACF,OAAOA,EAGT,IAAI7d,EAAY,EAAiB6d,GACjC,OAAO7d,EAAUqa,EAAQ,CACvB6D,QAAQ,KCjCR,EAAWhkB,OAAOue,QAAU,SAAUrS,GACxC,IAAK,IAAIpN,EAAI,EAAGA,EAAIvB,UAAUC,OAAQsB,IAAK,CACzC,IAAImC,EAAS1D,UAAUuB,GAEvB,IAAK,IAAIoK,KAAOjI,EACVjB,OAAOgD,UAAUmG,eAAe7F,KAAKrC,EAAQiI,KAC/CgD,EAAOhD,GAAOjI,EAAOiI,IAK3B,OAAOgD,GAGT,SAAS,EAAgBuS,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAInb,UAAU,qCAIxB,SAAS,EAA2Bqb,EAAMtb,GACxC,IAAKsb,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOvb,GAAyB,iBAATA,GAAqC,mBAATA,EAA8Bsb,EAAPtb,EA8B5E,IAAI,EAAW,SAAUwb,GAGvB,SAASmF,IAGP,OAFA,EAAgB5hB,KAAM4hB,GAEf,EAA2B5hB,KAAMyc,EAAiB7Q,MAAM5L,KAAM9E,YA6DvE,OA9FF,SAAmBiiB,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIlc,UAAU,kEAAoEkc,GAG1FD,EAASxc,UAAYhD,OAAOC,OAAOwf,GAAcA,EAAWzc,UAAW,CACrEsW,YAAa,CACXhP,MAAOkV,EACPE,YAAY,EACZC,UAAU,EACVC,cAAc,KAGdH,IAAYzf,OAAO6f,eAAiB7f,OAAO6f,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GAe3G,CAAUwE,EAAUnF,GAQpBmF,EAASjhB,UAAUkhB,SAAW,WAC5B,OAAO7hB,KAAK8U,QAAQ8I,QAAU5d,KAAK8U,QAAQ8I,OAAOkE,eAGpDF,EAASjhB,UAAUqd,mBAAqB,WACtC,IAAUhe,KAAK8U,QAAQ8I,OAAQ,oDAC3B5d,KAAK6hB,YAAY7hB,KAAK+hB,WAG5BH,EAASjhB,UAAUqhB,kBAAoB,WAChChiB,KAAK6hB,YAAY7hB,KAAK+hB,WAG7BH,EAASjhB,UAAUshB,mBAAqB,SAA4BC,GAClE,IAAIC,EAAS,EAAeD,EAAU3C,IAClC6C,EAAS,EAAepiB,KAAKM,MAAMif,IAEnC,EAAkB4C,EAAQC,GAC5B,KAAQ,EAAO,kEAA0EA,EAAOlF,SAAWkF,EAAO9L,OAAS,KAI7HtW,KAAK+hB,WAGPH,EAASjhB,UAAU0hB,UAAY,SAAmBC,GAChD,IAAIC,EAAgBD,EAAKC,cACrBhD,EAAK+C,EAAK/C,GAEd,OAAIgD,EACgB,iBAAPhD,EACF,EAAaA,EAAIgD,EAAczE,QAE/B,EAAS,GAAIyB,EAAI,CACtBrC,SAAU,EAAaqC,EAAGrC,SAAUqF,EAAczE,UAKjDyB,GAGTqC,EAASjhB,UAAUohB,QAAU,WAC3B,IAAI9E,EAAUjd,KAAK8U,QAAQ8I,OAAOX,QAC9BnU,EAAO9I,KAAKM,MAAMwI,KAClByW,EAAKvf,KAAKqiB,UAAUriB,KAAKM,OAEzBwI,EACFmU,EAAQnU,KAAKyW,GAEbtC,EAAQhgB,QAAQsiB,IAIpBqC,EAASjhB,UAAUge,OAAS,WAC1B,OAAO,MAGFiD,EAnEM,CAoEb,IAAM/C,WAER,EAASC,UAAY,CACnByD,cAAe,IAAUxD,OAEzBjW,KAAM,IAAU0Z,KAChBhD,KAAM,IAAU3P,OAChB0P,GAAI,IAAUkD,UAAU,CAAC,IAAU5S,OAAQ,IAAUkP,SAASC,YAEhE,EAAS0D,aAAe,CACtB5Z,MAAM,GAER,EAASmW,aAAe,CACtBrB,OAAQ,IAAU+E,MAAM,CACtB1F,QAAS,IAAU0F,MAAM,CACvB7Z,KAAM,IAAU8Z,KAAK5D,WACrB/hB,QAAS,IAAU2lB,KAAK5D,aACvBA,WACH8C,cAAe,IAAU/C,SACxBC,YAEU,IC9IA,ED8IA,E,mIEhJf,SAAS,GAAgB5C,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAInb,UAAU,qCAIxB,SAAS,GAA2Bqb,EAAMtb,GACxC,IAAKsb,EACH,MAAM,IAAIC,eAAe,6DAG3B,OAAOvb,GAAyB,iBAATA,GAAqC,mBAATA,EAA8Bsb,EAAPtb,EA4B5E,IAAI,GAAS,SAAUwb,GAGrB,SAASoG,IAGP,OAFA,GAAgB7iB,KAAM6iB,GAEf,GAA2B7iB,KAAMyc,EAAiB7Q,MAAM5L,KAAM9E,YA0CvE,OAzEF,SAAmBiiB,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIlc,UAAU,kEAAoEkc,GAG1FD,EAASxc,UAAYhD,OAAOC,OAAOwf,GAAcA,EAAWzc,UAAW,CACrEsW,YAAa,CACXhP,MAAOkV,EACPE,YAAY,EACZC,UAAU,EACVC,cAAc,KAGdH,IAAYzf,OAAO6f,eAAiB7f,OAAO6f,eAAeL,EAAUC,GAAcD,EAASM,UAAYL,GAa3G,CAAUyF,EAAQpG,GAQlBoG,EAAOliB,UAAUqd,mBAAqB,WACpC,IAAUhe,KAAK8U,QAAQ8I,OAAQ,mDAGjCiF,EAAOliB,UAAU6d,0BAA4B,SAAmCC,GAC9E,MAAUA,EAAUvQ,WAAalO,KAAKM,MAAM4N,UAAW,4KACvD,OAAWuQ,EAAUvQ,UAAYlO,KAAKM,MAAM4N,UAAW,yKAGzD2U,EAAOliB,UAAUge,OAAS,WACxB,IAAId,EAAQ7d,KAAK8U,QAAQ8I,OAAOC,MAC5B3E,EAAWlZ,KAAKM,MAAM4Y,SACtBhL,EAAWlO,KAAKM,MAAM4N,UAAY2P,EAAM3P,SACxCzS,OAAQ,EACRqnB,OAAQ,EAmBZ,OAlBA,IAAM3E,SAAS/Z,QAAQ8U,GAAU,SAAU6J,GACzC,GAAa,MAATtnB,GAA8B,IAAMunB,eAAeD,GAAU,CAC/D,IAAIE,EAAiBF,EAAQziB,MACzB4iB,EAAWD,EAAennB,KAC1BqnB,EAAQF,EAAeE,MACvBC,EAASH,EAAeG,OACxBC,EAAYJ,EAAeI,UAC3B7D,EAAOyD,EAAezD,KACtB1jB,EAAOonB,GAAY1D,EACvBsD,EAAQC,EACRtnB,EAAQ,OAAA6nB,GAAA,GAAUpV,EAASgP,SAAU,CACnCphB,KAAMA,EACNqnB,MAAOA,EACPC,OAAQA,EACRC,UAAWA,GACVxF,EAAMpiB,WAGNA,EAAqB,IAAM8nB,aAAaT,EAAO,CACpD5U,SAAUA,EACVqU,cAAe9mB,IACZ,MAGAonB,EAhDI,CAiDX,IAAMhE,WAER,GAAOI,aAAe,CACpBrB,OAAQ,IAAU+E,MAAM,CACtB9E,MAAO,IAAUkB,OAAOC,aACvBA,YAEU,IC7FA,GD6FA,G,6BExFMwE,G,kGAYnB7E,OAAA,WACE,MAAsB3e,KAAKM,MAArBmjB,EAAN,EAAMA,MAAOC,EAAb,EAAaA,KACb,OACE,YAAC,KAAD,UACE,YAAC,KAAD,CAAcA,KAAMA,EAAMD,MAAOA,EAAOE,aAAa,EAAOC,WAAW,EAAOC,aAAW,IACzF,mBAAKC,UAAU,iB,GAjBoBC,MAAtBP,GAEZ1E,UAAY,CACjB2E,MAAOO,IAAUvB,UAAU,CAACuB,IAAUzK,KAAMyK,IAAUnU,SACtD6T,KAAMM,IAAUnU,QAJC2T,GAOZd,aAAe,CACpBe,MAAO,GACPC,KAAM,I,2CCPJO,GAAWC,YAAe,CAC9BT,MAAM,CAAD,+DACLU,KAAK,CAAD,mGACJC,MAAM,CAAD,6DAGDC,G,oJAOJC,YAAc,WACZ,EAAKhkB,MAAMikB,W,sCAGb5F,OAAA,WACE,IAAgB6F,EAAoBxkB,KAAKM,MAAjCmkB,KAAQD,cAEhB,OACE,YAAC,KAAD,UACE,YAAC,KAAD,CAAcd,KAAK,qBAAqBgB,KAAMF,EAAcP,GAASR,SACrE,YAAC,KAAD,IACA,mBAAKK,UAAU,qBAAf,EACE,YAAC,KAAD,CAAYL,MAAOe,EAAcP,GAASG,OAAQV,KAAK,UAAUiB,QAAS3kB,KAAKskB,YAAa7b,KAAM,KACjG+b,EAAcP,GAASE,S,GApBFS,IAAMC,eA4BvBC,eAAWT,I,qCClCbU,GAAb,kGAEEpG,OAAA,WACE,MAAkC3e,KAAKM,MAA/BqjB,EAAR,EAAQA,YAAazK,EAArB,EAAqBA,SAErB,OACE,YAAC,GAAD,UACG0L,IAAMzG,SAASvX,IAAIsS,GAAU,SAAA4J,GAAK,OAAI8B,IAAMrB,aAAaT,EAAO,CAAEa,qBAP3E,GAAmCiB,IAAMC,eAsB5BG,GAAb,oJAaEC,gBAAkB,YAAgB,IAAbxpB,EAAY,EAAZA,MACnB,EAA6D,EAAK6E,MAA1D4kB,EAAR,EAAQA,UAAW5gB,EAAnB,EAAmBA,QAASqf,EAA5B,EAA4BA,YAAawB,EAAzC,EAAyCA,gBAEzC,OACE,YAAC,KAAD,CAAiBC,eAAgBF,EAAWG,QAAS,EAAKC,cAAe5a,MAAO,EAAK6a,kBAArF,GACG,SAAA1G,GAAS,OAAI,kBAACA,EAAD,cAAWf,OAAQriB,EAAMqiB,OAAQ6F,YAAaA,GAAiBwB,GAAkB7gB,OAlBvG,EAuBEghB,cAAgB,WACd,OAAO,YAAC,GAAD,KAxBX,EA2BEC,YAAc,SAACjlB,GACb,OAAO,kBAAC,GAAsBA,IA5BlC,sCA+BEqe,OAAA,WACE,MAAmD3e,KAAKM,MAAd4H,GAA1C,EAAQgd,UAAR,EAA8B5gB,QAA9B,oBAEA,OAAO,kBAACkhB,EAAA,EAAD,gBAAWtd,EAAX,CAAiByW,OAAQ3e,KAAKilB,oBAlCzC,GAAkCL,IAAM/F,WAA3BmG,GASJtC,aAAe,CACpByC,gBAAiB,I,uCCnCAM,G,oJAOnBC,YAAc,SAAC7Z,GACb,IAAM8Z,EAAU9Z,EAAE8Z,QAClB,GAAI,EAAKrlB,MAAMslB,OACb,OAAOD,GACP,KAAK,GACH9Z,EAAEga,iBACFha,EAAEia,kBACF,EAAKxlB,MAAMylB,Y,8CAMjB/D,kBAAA,WACEtS,OAAOsW,iBAAiB,QAAShmB,KAAK0lB,aAAa,I,EAGrDhH,qBAAA,WACEhP,OAAOuW,oBAAoB,QAASjmB,KAAK0lB,c,EAG3C/G,OAAA,WACE,IAAQiH,EAAW5lB,KAAKM,MAAhBslB,OAER,OACE,YAAC,KAAD,CAAQM,aAAc,CAAEC,kBAAmB,EAAGC,gBAAiB,KAAQC,MAAO,CAAEF,kBAAmBG,KAAOV,EAAS,EAAI,EAAG,CAAEW,UAAW,IAAKC,QAAS,KAAOJ,gBAAiBE,KAAOV,EAAS,EAAI,IAAM,CAAEW,UAAW,IAAKC,QAAS,WAAlO,GACG,gBAAGL,EAAH,EAAGA,kBAAmBC,EAAtB,EAAsBA,gBAAtB,OACC,mBAAKtC,UAAU,cAAcuC,MAAO,CAAEI,WAAYb,EAAS,UAAY,SAAUc,QAASP,SAA1F,EACE,mBAAKrC,UAAU,0BAAf,EACE,mBAAKA,UAAU,0BAA0BuC,MAAO,CAAEM,UAAU,SAAUP,EAAX,OAC3D,mBAAKtC,UAAU,6BAAf,EAAsC,YAAC,IAAD,CAAkB8C,GAAG,oBAAoBC,eAAe,iC,GArCpEjC,IAAMC,e,6DCE/BiC,sBALS,SAAA/J,GAAK,MAAK,CAChCqB,MAAOrB,EAAMgK,MAAM,CAAC,gBAAiB,WACrCH,GAAI,UAGSE,CAAyBE,M,iBCY3BC,GAAQ,CACnB,YAACC,GAAA,EAAD,CAASpD,UAAU,iBAAiBvE,GAAG,kBAAkB4H,wBAAsB,cAAcC,oBAAkB,aAA/G,EAAuH,YAAC,KAAD,CAASR,GAAG,UACnI,YAACM,GAAA,EAAD,CAASpD,UAAU,iBAAiBvE,GAAG,iBAAiB4H,wBAAsB,uBAAuBC,oBAAkB,aAAvH,EAA+H,YAAC,GAAD,CAA0BR,GAAG,kBAC5J,YAACM,GAAA,EAAD,CAASpD,UAAU,0BAA0BvE,GAAG,UAAU4H,wBAAsB,kBAAkBC,oBAAkB,aAApH,EAA4H,YAAC,KAAD,CAASR,GAAG,aAGnI,SAASS,GAAUvrB,GACxB,OAAOmrB,GAAMK,WAAU,SAAAC,GAAI,OAAIA,EAAKjnB,MAAMif,KAAOzjB,KAG5C,SAAS0rB,GAASnqB,GACvB,OAAO4pB,GAAM5pB,GAAOiD,MAAMif,G,6DAItBkI,I,GADkCX,mBAtBhB,SAAA/J,GACtB,IAAM2K,EAAK3K,EAAMgK,MAAM,CAAC,OAAQ,OAEhC,MAAO,CACLY,QAAS5K,EAAMgK,MAAM,CAAC,WAAYW,QAkBtBE,Y,GAAY9C,Y,6JAa1B+C,OAAS,SAAAC,GACP,EAAKvO,KAAOuO,G,EAGdC,YAAc,SAAClc,GAGTmc,iBACFnc,EAAEga,iBACFha,EAAEoc,UAEFC,uBAAsB,WACpB,IAAMC,EAAO3qB,MAAK,WAAL,EAAS,EAAK+b,KAAK6O,iBAAiB,oBAC3CC,EAAaF,EAAKG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAUC,SAAS,aACrDC,EAAUP,EAAKG,MAAK,SAAAC,GAAG,OAAIA,EAAIE,SAAS5c,EAAEhC,WAE1C8e,EADenrB,MAAK,WAAL,EAAS,EAAK+b,KAAKqP,YACNxrB,QAAQsrB,GAEzBnJ,EADQ,EAAK0H,MAAM9c,IAAIwe,GAChCroB,MAASif,GAEjB,GAAI8I,IAAeK,EAAS,CACtBL,GACFA,EAAWG,UAAUK,OAAO,UAG9B,IAAMC,EAAW,KAAS,WACxBJ,EAAQzC,oBAAoB,gBAAiB6C,GAC7C,EAAKxoB,MAAM2c,QAAQnU,KAAKyW,KACvB,IAEHmJ,EAAQ1C,iBAAiB,gBAAiB8C,GAC1CJ,EAAQF,UAAU7jB,IAAI,gB,8CAnC9Bqd,kBAAA,WACIhiB,KAAKinB,MAAQ8B,gBAAc9B,IAAOne,KAAK,YAACoe,GAAA,EAAD,CAASpD,UAAU,iBAAiBvE,GAAE,aAAevf,KAAKM,MAAMqnB,QAAQxd,IAAI,MAASgd,wBAAsB,0BAA0BC,oBAAkB,aAAvJ,EAA+J,YAAC,KAAD,CAASR,GAAG,e,EAyCtNjI,OAAA,WAAW,IAAD,OACQ6F,EAAoBxkB,KAAKM,MAAjCmkB,KAAQD,cACVwE,EAAkBhpB,KAAKM,MAAM4N,SAASgP,SAC5C,OAAKld,KAAKinB,MAER,mBAAKnD,UAAU,0BAAf,EACE,yBAAKA,UAAU,WAAWgE,IAAK9nB,KAAK6nB,QACjC7nB,KAAKinB,MAAMrgB,KAAI,SAAA2gB,GAAI,OAAI3C,IAAMrB,aAC5BgE,EACA,CAAE1gB,IAAK0gB,EAAKjnB,MAAMif,GAAIoF,QAAS,EAAKoD,YAAa,aAAcvD,EAAc,CAAEoC,GAAIW,EAAKjnB,MAAM,4BAC9F,CAACskB,IAAMrB,aAAagE,EAAKjnB,MAAM4Y,SAAU,CAACrS,IAAK0gB,EAAKjnB,MAAMif,GAAI0J,IAAK1B,EAAKjnB,MAAM4Y,SAAS5Y,MAAMsmB,IAAMoC,GAAmBzB,EAAKjnB,MAAMif,GAAK,UAAY,aAPlI,M,GArDNqF,IAAMC,iB,cC3BbqE,GANE,kBACf,mBAAKC,QAAQ,mBAAmBrF,UAAU,aAA1C,EACE,mBAAKsF,UAAU,8BCKbC,GAFUvE,Y,GACf8C,Y,qGAGCjJ,OAAA,WAEE,OACE,mBAAKmF,UAAU,wBAAf,EACE,mBAAKA,UAAU,qBAAf,EACE,YAACoD,GAAA,EAAD,CAASpD,UAAU,YAAYvE,GAAG,kBAAkB4H,wBAAsB,cAAcC,oBAAkB,aAA1G,EAAkH,YAAC,GAAD,MAEpH,mBAAKR,GAAG,uB,GATKhC,IAAMC,iB,0BCCZyE,GARO,kBACpB,mBAAKxF,UAAU,eAAf,EACE,mBAAKA,UAAU,sBAAf,EACE,mBAAKA,UAAU,qB,0DCKfyF,GADUzC,mB,wJAOd0C,QAAU,WACR,EAAKlpB,MAAMmpB,SAASC,cAAgB,K,EAGtCC,OAAS,WACP,EAAKrpB,MAAMmpB,SAASC,cAAgB,K,sCAGtC/K,OAAA,WACE,OACE,mBAAKmF,UAAU,gBAAgB0F,QAASxpB,KAAKwpB,cAA7C,EACE,YAAC,KAAD,CAAiBI,aAAW,IAC5B,YAAC,KAAD,CAAqB7D,QAAS/lB,KAAK2pB,SACnC,YAAC,KAAD,CAAsBE,cAAY,IAClC,YAAC,KAAD,CAAYC,aAAW,M,GApBJlF,IAAMC,iB,YCK3BkF,I,GADLjD,mBALuB,SAAA/J,GAAK,MAAK,CAChCqB,MAAOrB,EAAMgK,MAAM,CAAC,aAAc,kBAAmB,SAAUgC,mBAAiBtgB,SAGlEmf,Y,mHASd5F,kBAAA,YAGEyH,EAFqBzpB,KAAKM,MAAlBmpB,UAECO,iB,EAGXrL,OAAA,WACE,IAAQP,EAAUpe,KAAKM,MAAf8d,MAER,OAAc,IAAVA,EACK,KAGF,YAAC8I,GAAA,EAAD,CAASpD,UAAU,uCAAuCvE,GAAG,yBAA7D,EAAgF,YAAC,KAAD,CAAeuE,UAAU,oBAAoB8C,GAAG,YAAYxI,MAAOA,IAAS,YAAC,IAAD,CAAkBwI,GAAG,iCAAiCC,eAAe,sB,GApBxMjC,IAAM/F,a,2BCLpCoL,GAAkBC,aAAe,CAAC,SAAAnN,GAAK,OAAIA,EAAM5S,IAAI,YAAW,SAAAggB,GACpE,OAAKA,EAIEA,EAAMC,SAAS/gB,QAAO,SAAAiX,GAAI,QAAMA,KAAMnN,MAAK,SAACiN,EAAGC,GAAJ,OAAUD,EAAEjW,IAAI,SAASkgB,cAAchK,EAAElW,IAAI,aAAWmgB,KAAK,GAHtGH,K,OAWVrD,mBALuB,SAAA/J,GAAK,MAAK,CAChCoN,MAAOF,GAAgBlN,OAGT6K,Y,uHASd5F,kBAAA,YAEEyH,EADqBzpB,KAAKM,MAAlBmpB,UACCc,iB,EAGX5L,OAAA,WACE,IAAQwL,EAAUnqB,KAAKM,MAAf6pB,MAER,OAAKA,GAASA,EAAMK,UACX,KAIP,4BACE,qBAECL,EAAMvjB,KAAI,SAAA0Y,GAAI,OACb,YAAC4H,GAAA,EAAD,CAA8BpD,UAAU,uCAAuCV,QAAM,EAAC7D,GAAE,mBAAqBD,EAAKnV,IAAI,OAAxGmV,EAAKnV,IAAI,MAAwG,YAAC,KAAD,CAAM2Z,UAAU,oBAAoB8C,GAAG,UAAU6D,YAAU,IAAInL,EAAKnV,IAAI,e,GAxBzL4Z,M,GAEfjF,UAAY,CACjB2K,SAAUzF,IAAUpB,KAAK5D,WACzBmL,MAAOO,KAAmBpL,M,qBCAfsI,gBAjBS,kBACtB,mBAAK9D,UAAU,yBAAf,EACE,YAACoD,GAAA,EAAD,CAASpD,UAAU,iDAAiDvE,GAAG,kBAAkB4H,wBAAsB,cAAcC,oBAAkB,aAA/I,EAAuJ,YAAC,GAAD,KACvJ,YAACF,GAAA,EAAD,CAASpD,UAAU,uCAAuCvE,GAAG,kBAAkB4H,wBAAsB,cAAcC,oBAAkB,aAArI,EAA6I,YAAC,KAAD,CAAMtD,UAAU,oBAAoB8C,GAAG,OAAO6D,YAAU,IAAG,YAAC,IAAD,CAAkB7D,GAAG,gBAAgBC,eAAe,UAC5P,YAACK,GAAA,EAAD,CAASpD,UAAU,uCAAuCvE,GAAG,iBAAiB4H,wBAAsB,uBAAuBC,oBAAkB,aAA7I,EAAqJ,YAAC,GAAD,CAA0BtD,UAAU,sBAAsB,YAAC,IAAD,CAAkB8C,GAAG,yBAAyBC,eAAe,mBAC5Q,YAAC,GAAD,IACA,YAACK,GAAA,EAAD,CAASpD,UAAU,uCAAuCvE,GAAG,0BAA7D,EAAiF,YAAC,KAAD,CAAMuE,UAAU,oBAAoB8C,GAAG,WAAW6D,YAAU,IAAG,YAAC,IAAD,CAAkB7D,GAAG,wBAAwBC,eAAe,qBAG5M,iBAAG/C,UAAU,uCAAuC6G,KAAK,8BAAzD,EAAiF,YAAC,KAAD,CAAM7G,UAAU,oBAAoB8C,GAAG,MAAM6D,YAAU,IAAG,YAAC,IAAD,CAAkB7D,GAAG,6BAA6BC,eAAe,sBAC5M,iBAAG/C,UAAU,uCAAuC6G,KAAK,uBAAzD,EAA0E,YAAC,KAAD,CAAM7G,UAAU,oBAAoB8C,GAAG,QAAQ6D,YAAU,IAAG,YAAC,IAAD,CAAkB7D,GAAG,uCAAuCC,eAAe,eAEhN+D,MAAc,mBAAK9G,UAAU,gBAC7B8G,MAAc,YAAC,KAAD,Q,6BCiBbC,GAAe,CACnB,QAAWC,KACX,KAAQC,KACR,cAAiBC,KACjB,OAAUC,KACV,OAAUA,KACV,UAAaC,KACb,QAAWC,KACX,OAAUC,KACV,WAAcC,KACd,UAAaC,KACb,KAAQC,KACR,UAAaC,MAGTvH,GAAWC,YAAe,CAC9BuH,QAAQ,CAAD,mDAMHC,GADW,SAAAxG,GAAS,OAAIJ,YAAWI,EAAW,CAAEyG,SAAS,I,4JAgB5DC,WAAa,eAAgBlc,QAAUA,OAAOmc,WAAW,sB,EAE1D9O,MAAQ,CACN+O,eAAe,EACfC,qBAAsB,EAAKH,YAAc,EAAKA,WAAWrd,U,EAqE3Dyd,mBAAqB,SAACngB,GACpB,EAAK0S,SAAS,CAAEwN,oBAAqBlgB,EAAE0C,W,EAGzC0d,YAAc,SAAC5uB,GACb,EAAK6uB,aAAe7uB,EAEpB,IAEM8uB,EAAgB,0CAFQlF,GAAM5pB,GAAOiD,MAAM,yBAE3B,KAItB6gB,SAASiL,cALmB,0BAKgB5D,UAAUK,OAAO,UAC7D1H,SAASiL,cAAcD,GAAkB3D,UAAU7jB,IAAI,UAElD,EAAKoY,MAAM+O,eAA8C,iBAAtB,EAAKI,eAC3C,EAAKpX,QAAQ8I,OAAOX,QAAQnU,KAAK0e,GAAQ,EAAK0E,eAC9C,EAAKA,aAAe,O,EAIxBG,mBAAqB,WACc,iBAAtB,EAAKH,eACd,EAAKpX,QAAQ8I,OAAOX,QAAQnU,KAAK0e,GAAQ,EAAK0E,eAC9C,EAAKA,aAAe,O,EAIxBI,YAAc,WACkC,mBAAnC,EAAKC,2BAIhB,EAAKA,6B,EAGP1E,OAAS,SAACtO,GACR,EAAKA,KAAOA,G,EAGdiT,WAAa,SAACjF,EAAMlqB,GAClB,IAAMovB,EAAcpF,GAAS,EAAKvS,QAAQ8I,OAAOX,QAAQ/O,SAASgP,UAC5DuG,EAAQ,EAAKnjB,MAAMmkB,KAAKD,cAAc,CAAEoC,GAAIW,EAAKjnB,MAAM,2BACvDojB,EAAO6D,EAAKjnB,MAAM,qBAElBosB,EAAQrvB,IAAUovB,EACtB7H,IAAMrB,aAAa,EAAKjjB,MAAM4Y,UAC9B,YAAC,GAAD,CAAeuK,MAAOA,EAAOC,KAAMA,IAErC,OACE,mBAAKI,UAAU,qCAAyCzmB,EACrDqvB,I,EAKPpH,cAAgB,SAAAqH,GAAQ,OAAI,WAC1B,MAAoB,YAAbA,EAAyB,YAAC,GAAD,IAAoB,YAAC,GAAD,M,EAGtDpH,YAAc,SAACjlB,GACb,OAAO,kBAAC,GAAsBA,I,8CAhIhCke,0BAAA,WACmC,iBAAtBxe,KAAKksB,cAA6BlsB,KAAK4sB,YAAcvF,GAASrnB,KAAK8U,QAAQ8I,OAAOX,QAAQ/O,SAASgP,WAC5Gld,KAAKue,SAAS,CAAEuN,eAAe,K,EAInC9J,kBAAA,WACOhiB,KAAKM,MAAMupB,cACd7pB,KAAKuZ,KAAKyM,iBAAiB,QAAShmB,KAAKssB,cAAaO,MAAwB,CAAEC,SAAS,IAGvF9sB,KAAK4rB,aACH5rB,KAAK4rB,WAAW5F,iBAClBhmB,KAAK4rB,WAAW5F,iBAAiB,SAAUhmB,KAAKgsB,oBAEhDhsB,KAAK4rB,WAAWmB,YAAY/sB,KAAKgsB,oBAEnChsB,KAAKue,SAAS,CAAEwN,oBAAqB/rB,KAAK4rB,WAAWrd,WAGvDvO,KAAK4sB,UAAcvF,GAASrnB,KAAK8U,QAAQ8I,OAAOX,QAAQ/O,SAASgP,UACjEld,KAAKgtB,YAAc7L,SAAS8L,qBAAqB,QAAQ,GAAGzE,UAAUC,SAAS,OAE/EzoB,KAAKue,SAAS,CAAEuN,eAAe,K,EAGjCoB,oBAAA,SAAoBzO,GACdze,KAAKM,MAAMupB,eAAiBpL,EAAUoL,cAAgBpL,EAAUoL,cAClE7pB,KAAKuZ,KAAK0M,oBAAoB,QAASjmB,KAAKssB,c,EAIhDrK,mBAAA,SAAmBC,GACbliB,KAAKM,MAAMupB,eAAiB3H,EAAU2H,cAAiB7pB,KAAKM,MAAMupB,cACpE7pB,KAAKuZ,KAAKyM,iBAAiB,QAAShmB,KAAKssB,cAAaO,MAAwB,CAAEC,SAAS,IAG3F,IAAMK,EAAW9F,GAASrnB,KAAK8U,QAAQ8I,OAAOX,QAAQ/O,SAASgP,UAE3Dld,KAAK4sB,YAAcO,IACrBntB,KAAK4sB,UAAYO,EACjBntB,KAAKue,SAAS,CAAEuN,eAAe,M,EAInCpN,qBAAA,WACO1e,KAAKM,MAAMupB,cACd7pB,KAAKuZ,KAAK0M,oBAAoB,QAASjmB,KAAKssB,aAG1CtsB,KAAK4rB,aACH5rB,KAAK4rB,WAAW3F,oBAClBjmB,KAAK4rB,WAAW3F,oBAAoB,SAAUjmB,KAAKgsB,oBAEnDhsB,KAAK4rB,WAAWwB,eAAeptB,KAAKqtB,uB,EAK1CC,4BAAA,WACE,IAAKttB,KAAKM,MAAMupB,aAAc,CAC5B,IAAM0D,EAAWvtB,KAAKgtB,aAAe,EAAI,EACzChtB,KAAKusB,0BAA4BiB,aAAYxtB,KAAKuZ,MAAOvZ,KAAKuZ,KAAKkU,YAAc/d,OAAOge,YAAcH,K,EAqE1G5O,OAAA,WAAW,IAAD,OACR,EAA+D3e,KAAKM,MAA5DqtB,EAAR,EAAQA,QAASzU,EAAjB,EAAiBA,SAAU2Q,EAA3B,EAA2BA,aAAc+D,EAAzC,EAAyCA,YAAanJ,EAAtD,EAAsDA,KACtD,EAA8CzkB,KAAK+c,MAA3C+O,EAAR,EAAQA,cAAeC,EAAvB,EAAuBA,mBAEjBU,EAAcpF,GAASrnB,KAAK8U,QAAQ8I,OAAOX,QAAQ/O,SAASgP,UAElE,GAAI2M,EAAc,CAChB,IAAMgE,EAAqC7tB,KAAK8U,QAAQ8I,OAAOX,QAAQ/O,SAASgP,SAnKnDzhB,MAAM,uDAmKyD,KAAO,YAACqyB,GAAA,EAAD,CAAmCvO,GAAG,gBAAgBuE,UAAU,yBAAyBiK,aAAYtJ,EAAKD,cAAcP,GAASwH,UAAvH,yBAAiI,mBAAKuC,IAAKC,cAElP3pB,GAA2B,IAAjBmoB,EACd,YAAC,KAAD,CAAmCyB,WAAY,GAAKC,UAAW,GAAI9wB,MAAOovB,EAAa2B,cAAepuB,KAAKisB,YAAaoC,gBAAiBruB,KAAKqsB,mBAAoBiC,mBAAoBxC,EAAeyC,aAAc,CAAEC,SAAU,QAASC,MAAO,KAAMC,aAAc,QAAUrI,MAAO,CAAEsI,OAAQ,QAAUC,SAAUC,MAAzR,UACtB5H,GAAMrgB,IAAI5G,KAAKwsB,aAGlB,mBAAmB1I,UAAU,qCAApB,UAAyD5K,GAGpE,OACE,mBAAK4K,UAAU,6BAAf,EACE,mBAAKA,UAAU,6EAAf,EACE,mBAAKA,UAAU,0CAAf,EACGiI,GAAsB,YAAC,GAAD,MAI3B,mBAAKjI,UAAU,mCAAf,EACE,YAAC,GAAD,IACCxf,EACD,YAAC,GAAD,GAAa,SAGf,mBAAKwf,UAAU,8GAAf,EACE,mBAAKA,UAAU,0CAAf,EACE,YAAC,GAAD,MAIH+J,GAKP,OACE,yBAAK/J,UAAS,iBAAmB8J,EAAc,eAAiB,IAAO9F,IAAK9nB,KAAK6nB,QAC9E8F,EAAQ/mB,KAAI,SAAA5C,GACX,IAAM8Z,EAAwC,OAA/B9Z,EAAOmG,IAAI,SAAU,MAAiB,KAAOnG,EAAOmG,IAAI,UAAU2kB,OAC3EC,EAASjR,GAAUA,EAAOiR,MAAQjR,EAAOiR,MAAQ,GAEvD,OACE,YAAC,KAAD,CAA0C3J,eAAgByF,GAAa7mB,EAAOmG,IAAI,OAAQkb,QAAS,EAAKC,cAActhB,EAAOmG,IAAI,OAAQO,MAAO,EAAK6a,aAA/HvhB,EAAOmG,IAAI,SAC9B,SAAA6kB,GAAiB,OAAI,kBAACA,EAAD,cAAmBrC,SAAU3oB,EAAOmG,IAAI,QAAS2T,OAAQA,EAAQ6F,aAAW,GAAKoL,UAK5GnK,IAAMzG,SAASvX,IAAIsS,GAAU,SAAA4J,GAAK,OAAI8B,IAAMrB,aAAaT,EAAO,CAAEa,aAAa,S,GAhN9DI,M,GAEjB9E,aAAe,CACpBrB,OAAQoG,IAAUjF,OAAOC,Y,GAGpBF,UAAY,CACjB2F,KAAMT,IAAUjF,OAAOC,WACvB2O,QAASjD,KAAmBpL,KAAKN,WACjC4O,YAAa5J,IAAUxB,KAAKxD,WAC5B6K,aAAc7F,IAAUxB,KACxBtJ,SAAU8K,IAAUzK,M,YClETuN,sBALS,SAAA/J,GAAK,MAAK,CAChC4Q,QAAS5Q,EAAMgK,MAAM,CAAC,WAAY,YAClC6G,cAAe7Q,EAAM5S,IAAI,SAAS8kB,aAGI,KAAM,KAAM,CAAEC,YAAY,GAAnDpI,CAA2D4E,ICEpEyD,GADUrI,mBAJQ,SAAA/J,GAAK,MAAK,CAChCqS,OAAQrS,EAAMgK,MAAM,CAAC,iBAAkB,c,8GAUvC/E,kBAAA,WACEhiB,KAAKqvB,gB,EAGPpN,mBAAA,WACEjiB,KAAKqvB,gB,EAGPA,aAAA,WACE,IAAQD,EAAWpvB,KAAKM,MAAhB8uB,OAGNjO,SAASsC,MADP2L,EAAS,GACX,OAAwB3L,KACf2L,EAAS,EAClB,IAAqBA,EAArB,KAAgC3L,KAEfA,M,EAIrB9E,OAAA,WACE,OAAO,M,GA3BiBkG,mB,gDCCtBZ,GAAWC,YAAe,CAC9BoL,MAAM,CAAD,8CASDjG,GAFUvC,mBAJQ,SAAC/J,EAAD,OAAUwS,EAAV,EAAUA,UAAV,MAA2B,CACjD5H,QAAS5K,EAAMgK,MAAM,CAAC,WAAYwI,O,IAInCzK,a,wGAWCnG,OAAA,WACE,MAA6C3e,KAAKM,MAA1CqnB,EAAR,EAAQA,QAAS6H,EAAjB,EAAiBA,SAAUzJ,EAA3B,EAA2BA,QAAStB,EAApC,EAAoCA,KAEpC,OACE,mBAAKX,UAAU,mCAAf,EACE,YAACgK,GAAA,EAAD,CAAMvO,GAAE,aAAeiQ,EAAY1L,UAAU,4CAA7C,EACE,YAAC,KAAD,CAAQ6D,QAASA,EAASlf,KAAM,KAChC,YAAC,KAAD,CAAakf,QAASA,KAGxB,YAAC,KAAD,CAAYjE,KAAK,QAAQiB,QAASoB,EAAStC,MAAOgB,EAAKD,cAAcP,GAASqL,W,GApBjEvL,M,GAEZjF,UAAY,CACjByQ,UAAWvL,IAAUnU,OAAOmP,WAC5BwQ,SAAUxL,IAAUnU,OAAOmP,WAC3B2I,QAAS+C,KAAmB9jB,IAAIoY,WAChC+G,QAAS/B,IAAUpB,KAAK5D,WACxByF,KAAMT,IAAUjF,OAAOC,Y,0BCdrByQ,GADU3I,mBAJQ,SAAA/J,GAAK,uBACxBA,EAAM5S,IAAI,yB,wJAqBbulB,YAAc,YAEZjG,EADqB,EAAKnpB,MAAlBmpB,UACCkG,iB,sCAGXhR,OAAA,WACE,IAMIiR,EANJ,EAAwD5vB,KAAKM,MAArDokB,EAAR,EAAQA,KAAMsJ,EAAd,EAAcA,IAAK6B,EAAnB,EAAmBA,YAAaN,EAAhC,EAAgCA,UAAWC,EAA3C,EAA2CA,SAE3C,OAAKK,GAMQ,UAATnL,EACFkL,EACE,YAAC,WAAD,CACE5B,IAAKA,EACL6B,YAAa7vB,KAAKM,MAAMuvB,YACxBC,OAAQ9vB,KAAKM,MAAMwvB,OACnBC,MAAO/vB,KAAKM,MAAMyvB,MAClBC,UAAQ,EACRC,QAAM,EACNC,eAAa,IAGC,UAATxL,IACTkL,EACE,YAAC,WAAD,CACE5B,IAAKA,EACL6B,YAAa7vB,KAAKM,MAAMuvB,YACxBC,OAAQ9vB,KAAKM,MAAMwvB,OACnBC,MAAO/vB,KAAKM,MAAMyvB,MAClBI,OAAQnwB,KAAKM,MAAM6vB,OACnBC,gBAAiBpwB,KAAKM,MAAM8vB,gBAC5BC,gBAAiBrwB,KAAKM,MAAM+vB,gBAC5BC,YAAatwB,KAAKM,MAAMgwB,YACxBN,UAAQ,KAMZ,mBAAKlM,UAAU,2BAAf,EACE,YAAC,GAAD,CAAQyL,UAAWA,EAAWC,SAAUA,EAAUzJ,QAAS/lB,KAAK0vB,cAE/DE,EAED,YAAC,KAAD,CAAQJ,SAAUA,MAvCb,M,GA1BkB5K,IAAM/F,a,+BCZxB0R,GAAuB,eC8D9BtM,I,OAAWC,YAAe,CAC9BsM,aAAa,CAAD,yFAaRC,GAAS,CACbC,KAAM,IACNC,IAAK,IACLra,OAAQ,IACRsa,SAAU,WACVC,sBAAuB,WACvBC,YAAa,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACtDC,MAAO,IACPC,UAAW,IACXC,MAAO,IACPC,QAAS,IACTxkB,KAAM,CAAC,QAAS,KAChBykB,YAAa,IACbC,SAAU,CAAC,OAAQ,KACnBC,OAAQ,CAAC,KAAM,KACfC,KAAM,YACNC,SAAU,MACVC,kBAAmB,MACnBC,UAAW,MACXC,cAAe,MACfC,WAAY,MACZC,UAAW,MACXC,eAAgB,MAChBC,WAAY,MACZC,YAAa,MACbC,YAAa,MACbC,UAAW,MACXC,aAAc,MACdC,aAAc,IACdC,gBAAiB,IACjBC,UAAW,KAGPC,G,oJAiCJzK,OAAS,SAAAtT,GACHA,IACF,EAAKgF,KAAOhF,EAAEge,uB,8CA3BlBvU,mBAAA,WACMhe,KAAKM,MAAMkyB,QACbrR,SAASgD,KAAKqE,UAAUiK,OAAO,wBAAwB,GACvDtR,SAASgD,KAAKqE,UAAUiK,OAAO,2BAA2B,KAE1DtR,SAASgD,KAAKqE,UAAUiK,OAAO,wBAAwB,GACvDtR,SAASgD,KAAKqE,UAAUiK,OAAO,2BAA2B,K,EAI9DxQ,mBAAA,SAAoBC,GACb,CAACliB,KAAKM,MAAM4N,SAASgP,SAAU,KAAKwV,SAASxQ,EAAUhU,SAASgP,WACnEld,KAAKuZ,KAAK+T,8BAGRpL,EAAUsQ,SAAWxyB,KAAKM,MAAMkyB,SAClCrR,SAASgD,KAAKqE,UAAUiK,OAAO,uBAAwBzyB,KAAKM,MAAMkyB,QAClErR,SAASgD,KAAKqE,UAAUiK,OAAO,2BAA4BzyB,KAAKM,MAAMkyB,U,EAI1EG,mBAAA,SAAoBC,EAApB,GAAsC,IAAb1kB,EAAY,EAAZA,SACvB,OAAOA,EAAS6O,QAAU8V,MAAqB3kB,EAAS6O,QAAU+V,M,EASpEnU,OAAA,WACE,MAA6B3e,KAAKM,MAA1B4Y,EAAR,EAAQA,SAAUsZ,EAAlB,EAAkBA,OACZO,EAAWP,EAAS,YAAC,EAAD,CAAUhT,KAAK,IAAID,GAAG,kBAAkB4D,OAAK,IAAM,YAAC,EAAD,CAAU3D,KAAK,IAAID,GAAG,mBAAmB4D,OAAK,IAE3H,OACE,kBAAC,GAAD,CAAsB2E,IAAK9nB,KAAK6nB,OAAQgC,aAAc2I,GACpD,YAAC,GAAD,UACGO,EACD,YAAC,GAAD,CAAcj3B,KAAK,mBAAmBopB,UAAW8N,KAAgB1uB,QAAS4U,IAC1E,YAAC,GAAD,CAAcpd,KAAK,sBAAsBopB,UAAW+N,KAAmB3uB,QAAS4U,IAChF,YAAC,GAAD,CAAcpd,KAAK,kBAAkBopB,UAAW6F,KAAczmB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAC7H,YAAC,GAAD,CAAc72B,KAAK,oBAAoBqnB,OAAK,EAAC+B,UAAW+F,KAAgB3mB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBACvI,YAAC,GAAD,CAAc72B,KAAK,0BAA0BqnB,OAAK,EAAC+B,UAAWgG,KAAmB5mB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAChJ,YAAC,GAAD,CAAc72B,KAAK,oBAAoBopB,UAAWkG,KAAgB9mB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBACjI,YAAC,GAAD,CAAc72B,KAAK,qBAAqBopB,UAAWiG,KAAiB7mB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBACnI,YAAC,GAAD,CAAc72B,KAAK,sBAAsBopB,UAAWqG,KAAcjnB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAEjI,YAAC,GAAD,CAAc72B,KAAK,iBAAiBopB,UAAW8F,KAAe1mB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAC7H,YAAC,GAAD,CAAc72B,KAAK,cAAcopB,UAAWmG,KAAoB/mB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAC/H,YAAC,GAAD,CAAc72B,KAAK,aAAaopB,UAAWoG,KAAoBhnB,QAAS4U,IACxE,YAAC,GAAD,CAAcpd,KAAK,UAAUopB,UAAWgO,KAAgB5uB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAEvH,YAAC,GAAD,CAAc72B,KAAK,SAASopB,UAAWiO,KAAuB7uB,QAAS4U,IACvE,YAAC,GAAD,CAAcpd,KAAK,UAAUopB,UAAWkO,KAAQ9uB,QAAS4U,IACzD,YAAC,GAAD,CAAcpd,KAAK,aAAaopB,UAAWsG,KAAWlnB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAErH,YAAC,GAAD,CAAc72B,KAAK,gBAAgBopB,UAAW4F,KAASxmB,QAAS4U,IAChE,YAAC,GAAD,CAAcpd,KAAK,sBAAsBqnB,OAAK,EAAC+B,UAAWmO,KAAQ/uB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBACjI,YAAC,GAAD,CAAc72B,KAAK,8BAA8BopB,UAAWoO,KAAShvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBACpI,YAAC,GAAD,CAAc72B,KAAK,iCAAiCopB,UAAWqO,KAAYjvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAE1I,YAAC,GAAD,CAAc72B,KAAK,uBAAuBqnB,OAAK,EAAC+B,UAAWsO,KAAiBlvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAC3I,YAAC,GAAD,CAAc72B,KAAK,oCAAoCopB,UAAWsO,KAAiBlvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,mBAAoBc,aAAa,KACnL,YAAC,GAAD,CAAc33B,KAAK,iCAAiCopB,UAAWwO,KAAWpvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBACzI,YAAC,GAAD,CAAc72B,KAAK,iCAAiCopB,UAAWyO,KAAWrvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBACzI,YAAC,GAAD,CAAc72B,KAAK,6BAA6BopB,UAAW0O,KAAgBtvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAE1I,YAAC,GAAD,CAAc72B,KAAK,mBAAmBopB,UAAW2O,KAAgBvvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAChI,YAAC,GAAD,CAAc72B,KAAK,UAAUopB,UAAW4O,KAAQxvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAC/G,YAAC,GAAD,CAAc72B,KAAK,iBAAiBopB,UAAW6O,KAAczvB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAC5H,YAAC,GAAD,CAAc72B,KAAK,SAASopB,UAAW8O,KAAO1vB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAC7G,YAAC,GAAD,CAAc72B,KAAK,SAASopB,UAAW+O,KAAO3vB,QAAS4U,EAAUiM,gBAAiB,CAAEwN,mBAAoB3yB,KAAK2yB,sBAE7G,YAAC,GAAD,CAAczN,UAAWgP,KAAiB5vB,QAAS4U,O,GAlF1B0L,IAAMC,eA6FnCsP,GAHUrN,mBArIQ,SAAA/J,GAAK,MAAK,CAChCqX,OAAQrX,EAAMgK,MAAM,CAAC,OAAQ,WAC7BsN,YAAatX,EAAMgK,MAAM,CAAC,UAAW,iBACrCuN,iBAAqE,IAAnDvX,EAAMgK,MAAM,CAAC,UAAW,SAASwN,OAAOp5B,OAC1Dq5B,oBAAqBzX,EAAMgK,MAAM,CAAC,UAAW,sBAAsBte,KAAO,EAC1EgsB,eAAgB1X,EAAMgK,MAAM,CAAC,UAAW,sBAAsBnQ,MAAK,SAAAsB,GAAC,MAAI,CAAC,QAAS,SAASwa,SAASxa,EAAE/N,IAAI,aAAa4S,EAAMgK,MAAM,CAAC,UAAW,sBAAsBte,KAAO,EAC5KisB,mBAAiE,OAA7C3X,EAAMgK,MAAM,CAAC,gBAAiB,WAClD4N,YAAa5X,EAAMgK,MAAM,CAAC,WAAY,uBAAwB,GAAKwJ,M,IA+HpEzL,Y,GACA8C,a,0JAqBC7K,MAAQ,CACN6X,cAAc,G,EAGhBC,mBAAqB,SAAAhpB,GACnB,MAA+E,EAAKvL,MAA5EmkB,EAAR,EAAQA,KAAMgF,EAAd,EAAcA,SAAU4K,EAAxB,EAAwBA,YAAaC,EAArC,EAAqCA,iBAAkBE,EAAvD,EAAuDA,oBAEvD/K,EAASqL,gBAELT,IAAgBC,GAAoBE,KACtC3oB,EAAEga,iBAIFha,EAAEkpB,YAActQ,EAAKD,cAAcP,GAASuM,gB,EAIhDwE,kBAAoB,WAClB,EAAK10B,MAAMmpB,SAASwL,gBACpB,EAAK30B,MAAMmpB,SAASyL,aAAc,CAAEC,WAAW,M,EAGjDC,iBAAmB,WACjB,EAAK90B,MAAMmpB,SAAS4L,iB,EAGtBC,gBAAkB,SAACzpB,GACjBA,EAAEga,iBAEG,EAAK0P,cACR,EAAKA,YAAc,KAGuB,IAAxC,EAAKA,YAAYn4B,QAAQyO,EAAEhC,SAC7B,EAAK0rB,YAAYzsB,KAAK+C,EAAEhC,QAGtBgC,EAAE2pB,cAAgBh4B,MAAMgiB,KAAK3T,EAAE2pB,aAAaC,OAAO/C,SAAS,UAAY,EAAKpyB,MAAMm0B,eACrF,EAAKlW,SAAS,CAAEqW,cAAc,K,EAIlCc,eAAiB,SAAC7pB,GAChB,GAAI,EAAK8pB,mBAAmB9pB,EAAE2pB,cAAe,OAAO,EAEpD3pB,EAAEga,iBACFha,EAAEia,kBAEF,IACEja,EAAE2pB,aAAaI,WAAa,OAC5B,MAAOnsB,IAIT,OAAO,G,EAGTosB,WAAa,SAAChqB,GACR,EAAK8pB,mBAAmB9pB,EAAE2pB,gBAE9B3pB,EAAEga,iBAEF,EAAKtH,SAAS,CAAEqW,cAAc,IAC9B,EAAKW,YAAc,GAEf1pB,EAAE2pB,cAAgB3pB,EAAE2pB,aAAaM,MAAM36B,QAAU,GAAK,EAAKmF,MAAMm0B,eACnE,EAAKn0B,MAAMmpB,SAASsM,cAAclqB,EAAE2pB,aAAaM,U,EAIrDE,gBAAkB,SAACnqB,GACjBA,EAAEga,iBACFha,EAAEia,kBAEF,EAAKyP,YAAc,EAAKA,YAAYlsB,QAAO,SAAA4sB,GAAE,OAAIA,IAAOpqB,EAAEhC,QAAU,EAAK0P,KAAKkP,SAASwN,MAEnF,EAAKV,YAAYp6B,OAAS,GAI9B,EAAKojB,SAAS,CAAEqW,cAAc,K,EAGhCe,mBAAqB,SAACH,GACpB,OAAQA,GAAkG,IAAlFh4B,MAAMgiB,KAAKgW,EAAaC,OAAOpsB,QAAO,SAACqb,GAAD,MAAmB,eAATA,KAAuBvpB,Q,EAGjG+6B,iBAAmB,WACjB,EAAK3X,SAAS,CAAEqW,cAAc,K,EAGhCuB,+BAAiC,YAAe,IAAZC,EAAW,EAAXA,KAChB,aAAdA,EAAK1R,KACP,EAAK5P,QAAQ8I,OAAOX,QAAQnU,KAAKstB,EAAKt6B,MAEtCyR,QAAQ8oB,KAAK,wBAAyBD,EAAK1R,O,EAI/CsH,mBAAqB,KAAS,WAC5B,EAAK1rB,MAAMmpB,SAAS6M,kBACnB,IAAK,CACNC,UAAU,I,EAGZC,aAAe,WACb,IAAMpC,EAASqC,eAEXrC,IAAW,EAAK9zB,MAAM8zB,QACxB,EAAKpI,mBAAmB0K,SACxB,EAAKp2B,MAAMmpB,SAASkN,aAAavC,KAEjC,EAAKpI,sB,EAiDTnE,OAAS,SAAAtT,GACP,EAAKgF,KAAOhF,G,EAGdqiB,gBAAkB,SAAA/qB,GAChBA,EAAEga,iBAEF,IAAM9C,EAAU,EAAKxJ,KAAK6S,cAAc,+CAEpCrJ,GACFA,EAAQ8T,S,EAIZC,mBAAqB,SAAAjrB,GACnBA,EAAEga,iBAEF,IAAM9C,EAAU,EAAKxJ,KAAK6S,cAAc,kBAEpCrJ,GACFA,EAAQ8T,S,EAIZE,qBAAuB,SAAAlrB,GACrB,EAAK+qB,gBAAgB/qB,GACrB,EAAKvL,MAAMmpB,SAASuN,kB,EAGtBC,kCAAoC,SAAAprB,GAClCA,EAAEga,iBACF,EAAKvlB,MAAMmpB,SAASyN,iB,EAGtBC,wBAA0B,SAAAtrB,GACxB,IAAMxO,EAAkB,EAARwO,EAAEhF,IAAW,EACvB7C,EAAS,EAAKuV,KAAK6S,cAAV,qBAA6C/uB,EAA7C,KACf,GAAK2G,EAAL,CACA,IAAMozB,EAAYpzB,EAAOooB,cAAc,eAEvC,GAAIgL,EAAW,CACb,IAAM5qB,EAAS4qB,EAAUhL,cAAc,cAEnC5f,IACE4qB,EAAUC,UAAY7qB,EAAO8qB,WAC/B9qB,EAAO+qB,gBAAe,GAExB/qB,EAAOqqB,Y,EAKbW,iBAAmB,WACb9nB,OAAOuN,SAAqC,IAA1BvN,OAAOuN,QAAQ9hB,OACnC,EAAK2Z,QAAQ8I,OAAOX,QAAQnU,KAAK,KAEjC,EAAKgM,QAAQ8I,OAAOX,QAAQwa,U,EAIhCC,cAAgB,SAAAnjB,GACd,EAAKojB,QAAUpjB,G,EAGjBqjB,uBAAyB,WACc,wBAAjC,EAAKt3B,MAAM4N,SAASgP,SACtB,EAAKpI,QAAQ8I,OAAOX,QAAQwa,SAE5B,EAAK3iB,QAAQ8I,OAAOX,QAAQnU,KAAK,wB,EAIrC+uB,qBAAuB,WACrB,EAAK/iB,QAAQ8I,OAAOX,QAAQnU,KAAK,oB,EAGnCgvB,8BAAgC,WAC9B,EAAKhjB,QAAQ8I,OAAOX,QAAQnU,KAAK,mB,EAGnCivB,sBAAwB,WACtB,EAAKjjB,QAAQ8I,OAAOX,QAAQnU,KAAK,4B,EAGnCkvB,0BAA4B,WAC1B,EAAKljB,QAAQ8I,OAAOX,QAAQnU,KAAK,sB,EAGnCmvB,uBAAyB,WACvB,EAAKnjB,QAAQ8I,OAAOX,QAAQnU,KAAK,sB,EAGnCovB,sBAAwB,WACtB,EAAKpjB,QAAQ8I,OAAOX,QAAQnU,KAAK,qB,EAGnCqvB,2BAA6B,WAC3B,EAAKrjB,QAAQ8I,OAAOX,QAAQnU,KAAK,gB,EAGnCsvB,uBAAyB,WACvB,EAAKtjB,QAAQ8I,OAAOX,QAAQnU,KAAK,Y,EAGnCuvB,wBAA0B,WACxB,EAAKvjB,QAAQ8I,OAAOX,QAAQnU,KAA5B,aAA8C4e,O,EAGhD4Q,wBAA0B,WACxB,EAAKxjB,QAAQ8I,OAAOX,QAAQnU,KAAK,Y,EAGnCyvB,sBAAwB,WACtB,EAAKzjB,QAAQ8I,OAAOX,QAAQnU,KAAK,W,EAGnC0vB,yBAA2B,WACzB,EAAK1jB,QAAQ8I,OAAOX,QAAQnU,KAAK,qB,8CAlKnCkZ,kBAAA,WAAsB,IAAD,OACnBtS,OAAOsW,iBAAiB,QAAShmB,KAAKg1B,mBAAmB,GACzDtlB,OAAOsW,iBAAiB,OAAQhmB,KAAKo1B,kBAAkB,GACvD1lB,OAAOsW,iBAAiB,eAAgBhmB,KAAK60B,oBAAoB,GACjEnlB,OAAOsW,iBAAiB,SAAUhmB,KAAKw2B,aAAc,CAAE1J,SAAS,IAEhE3L,SAAS6E,iBAAiB,YAAahmB,KAAKs1B,iBAAiB,GAC7DnU,SAAS6E,iBAAiB,WAAYhmB,KAAK01B,gBAAgB,GAC3DvU,SAAS6E,iBAAiB,OAAQhmB,KAAK61B,YAAY,GACnD1U,SAAS6E,iBAAiB,YAAahmB,KAAKg2B,iBAAiB,GAC7D7U,SAAS6E,iBAAiB,UAAWhmB,KAAKy4B,eAAe,GAErD,kBAAoBnd,WACtBA,UAAUK,cAAcqK,iBAAiB,UAAWhmB,KAAKm2B,gCAIvDn2B,KAAKM,MAAMq0B,cACb30B,KAAK8U,QAAQ8I,OAAOX,QAAQhgB,QAAQ,UACpC+C,KAAKM,MAAMmpB,UDpWoB,SAAAA,GACnCA,EAASiP,aAAc,CAAC,uBAAwBnI,KAChD9G,EAASkP,oBCqWP34B,KAAKM,MAAMmpB,SAASmP,gBACpB54B,KAAKM,MAAMmpB,SAASoP,gBACpB74B,KAAKM,MAAMmpB,SAASqP,eACpBC,YAAW,kBAAM,EAAKz4B,MAAMmpB,SAASuP,kBAAiB,KAEtDh5B,KAAK23B,QAAQsB,cAAcC,aAAe,SAACrtB,EAAGkX,GAC5C,MAAO,CAAC,WAAY,SAAU,SAAS2P,SAAS3P,EAAQoW,W,EAI5Dza,qBAAA,WACEhP,OAAOuW,oBAAoB,QAASjmB,KAAKg1B,mBACzCtlB,OAAOuW,oBAAoB,OAAQjmB,KAAKo1B,kBACxC1lB,OAAOuW,oBAAoB,eAAgBjmB,KAAK60B,oBAChDnlB,OAAOuW,oBAAoB,SAAUjmB,KAAKw2B,cAE1CrV,SAAS8E,oBAAoB,YAAajmB,KAAKs1B,iBAC/CnU,SAAS8E,oBAAoB,WAAYjmB,KAAK01B,gBAC9CvU,SAAS8E,oBAAoB,OAAQjmB,KAAK61B,YAC1C1U,SAAS8E,oBAAoB,YAAajmB,KAAKg2B,iBAC/C7U,SAAS8E,oBAAoB,UAAWjmB,KAAKy4B,gB,EA2H/C9Z,OAAA,WACE,IAAQiW,EAAiB50B,KAAK+c,MAAtB6X,aACR,EAAwE50B,KAAKM,MAArE4Y,EAAR,EAAQA,SAAUmb,EAAlB,EAAkBA,YAAanmB,EAA/B,EAA+BA,SAAUwmB,EAAzC,EAAyCA,mBAAoBN,EAA7D,EAA6DA,OAEvDgF,EAAW,CACf1I,KAAM1wB,KAAK43B,uBACXjH,IAAK3wB,KAAK42B,gBACVtgB,OAAQtW,KAAK82B,mBACblG,SAAU5wB,KAAK+2B,qBACflG,sBAAuB7wB,KAAKi3B,kCAC5BnG,YAAa9wB,KAAKm3B,wBAClB7F,KAAMtxB,KAAKw3B,iBACXjG,SAAUvxB,KAAK63B,qBACfrG,kBAAmBxxB,KAAK83B,8BACxBrG,UAAWzxB,KAAK+3B,sBAChBrG,cAAe1xB,KAAKg4B,0BACpBrG,WAAY3xB,KAAKi4B,uBACjBrG,UAAW5xB,KAAKk4B,sBAChBrG,eAAgB7xB,KAAKm4B,2BACrBrG,WAAY9xB,KAAKo4B,uBACjBrG,YAAa/xB,KAAKq4B,wBAClBrG,YAAahyB,KAAKs4B,wBAClBrG,UAAWjyB,KAAKu4B,sBAChBrG,aAAclyB,KAAKw4B,0BAGrB,OACE,kBAAC,UAAD,CAAS/H,OAAQA,GAAQ2I,SAAUA,EAAUtR,IAAK9nB,KAAK03B,cAAe2B,OAAQ3pB,OAAQ4pB,SAAO,GAC3F,yBAAKxV,UAAWyV,IAAW,KAAM,CAAE,eAAgBlF,IAAgBvM,IAAK9nB,KAAK6nB,OAAQxB,MAAO,CAAEmT,cAAe9E,EAAqB,OAAS,OACzI,YAAC,GAAD,CAAsBxmB,SAAUA,EAAUskB,OAAmB,WAAX4B,GAAkC,kBAAXA,QAAzE,EACGlb,GAGS,WAAXkb,GAAuB,YAAC,GAAD,IACxB,YAAC,KAAD,IACA,YAAC,KAAD,CAAqBtQ,UAAU,gBAC/B,YAAC,KAAD,IACA,YAAC,GAAD,CAAY8B,OAAQgP,EAAc7O,QAAS/lB,KAAKk2B,mBAChD,YAAC,GAAD,O,GApVOtR,IAAMC,e,GAEd5F,aAAe,CACpBrB,OAAQoG,IAAUjF,OAAOC,Y,gFCzMRya,G,oJAMnB1c,MAAQ,CACN2c,UAAU,EACVC,kBAAcj5B,EACdk5B,gBAAYl5B,EACZm5B,sBAAkBn5B,EAClBo5B,oBAAgBp5B,G,EAuBlBq5B,qBAAuB,WACrB,MAAuD,EAAKhd,MAApD4c,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,WAAYC,EAAlC,EAAkCA,iBAC5BG,EAAW7Y,SAAS/B,cAAc,YAEpC6a,EAAW,CAACN,EAAcC,GAC1BC,GACFI,EAASnxB,KAAK+wB,GAGhBG,EAASE,YAAiBD,EAASt9B,KAAK,UACxCq9B,EAAS3T,MAAM8T,SAAW,QAE1BhZ,SAASgD,KAAKiW,YAAYJ,GAE1B,IACEA,EAASK,SACTlZ,SAASmZ,YAAY,QACrB,MAAOzuB,IAHT,QAMEsV,SAASgD,KAAKoW,YAAYP,GAG5B,EAAKzb,SAAS,CAAEic,QAAQ,IACxBzB,YAAW,kBAAM,EAAKxa,SAAS,CAAEic,QAAQ,MAAU,M,8CA5CrDC,kBAAA,SAAmB/vB,EAAOgwB,GAAO,IAAD,OAC9B16B,KAAKue,SAAS,CACZmb,UAAU,EACVC,aAAcjvB,EAAM1J,WACpB44B,WAAYlvB,EAAMV,MAClB8vB,eAAgBY,GAAQA,EAAKZ,eAC7BD,sBAAkBn5B,IAGpBi6B,KAAWtwB,UAAUK,GAAOQ,MAAK,SAAChB,GAChC,EAAKqU,SAAS,CACZsb,iBAAkB3vB,EAAYtD,KAAI,SAACmE,GAAD,OAAQA,EAAG/J,cAAYrE,KAAK,WAE/D2Q,OAAM,WACP,EAAKiR,SAAS,CACZsb,sBAAkBn5B,Q,EAgCxBie,OAAA,WACE,MAA2C3e,KAAK+c,MAAxC2c,EAAR,EAAQA,SAAUc,EAAlB,EAAkBA,OAAQb,EAA1B,EAA0BA,aAE1B,IAAKD,EACH,OAAO15B,KAAKM,MAAM4Y,SAGpB,IAAM0hB,EAA0BjB,GAAgBA,EAAajH,SAAS,iBAEtE,OACE,mBAAK5O,UAAU,uBAAf,EACE,4BACE,iBAAGA,UAAU,8BAAb,EACI8W,EACA,YAAC,IAAD,CAAkBhU,GAAG,4CAA4CC,eAAe,gIAEhF,YAAC,IAAD,CAAkBD,GAAG,qCAAqCC,eAAe,4GAG7E,0BACI+T,EACA,YAAC,IAAD,CAAkBhU,GAAG,2CAA2CC,eAAe,wJAE/E,YAAC,IAAD,CAAkBD,GAAG,oCAAoCC,eAAe,sIAG5E,iBAAG/C,UAAU,+BAAb,eAAiD9c,KAAjD,MAA4D,iBAAG2jB,KAAMkQ,KAAYC,IAAI,sBAAsBjxB,OAAO,eAAtD,EAA+D,YAAC,IAAD,CAAkB+c,GAAG,uCAAuCC,eAAe,kBAAtM,MAA8N,sBAAQlC,QAAS3kB,KAAK+5B,qBAAsBjW,UAAW0W,EAAS,SAAW,SAA3E,EAA+E,YAAC,IAAD,CAAkB5T,GAAG,0CAA0CC,eAAe,sC,GAvF1VjC,IAAMC,eCWjD,GAAiCkW,uBAAzBC,GAAR,GAAQA,WAAY/W,GAApB,GAAoBA,SACpBgX,YAAcD,IAEP,IAAME,GAAQC,cACfC,GAAgBC,aAAaC,MAEnCJ,GAAMzR,SAAS2R,IACfF,GAAMzR,SAAS8R,gB,IAEMC,G,0GAMnBxZ,kBAAA,WACEhiB,KAAKy7B,WAAaP,GAAMzR,SAASiS,iB,EAGnChd,qBAAA,WACM1e,KAAKy7B,aACPz7B,KAAKy7B,aACLz7B,KAAKy7B,WAAa,O,EAItB9I,mBAAA,SAAoBC,EAApB,GAAsC,IAAb1kB,EAAY,EAAZA,SACvB,OAAOA,EAAS6O,QAAU8V,MAAqB3kB,EAAS6O,QAAU+V,M,EAGpEnU,OAAA,WACE,IAAQgd,EAAW37B,KAAKM,MAAhBq7B,OAER,OACE,YAAC,IAAD,CAAcA,OAAQA,EAAQ1X,SAAUA,SAAxC,EACE,YAAC,WAAD,CAAUiX,MAAOA,SAAjB,EACE,YAAC,GAAD,UACE,YAAC,EAAD,CAAeU,SAAS,aAAxB,EACE,YAAC,IAAD,CAAejJ,mBAAoB3yB,KAAK2yB,yBAAxC,EACE,YAACnN,EAAA,EAAD,CAAO1pB,KAAK,IAAIopB,UAAWiP,W,GA9BLvP,IAAMC,e,6BCnBtCgX,GAAOzuB,EAAQ,KA4BN0uB,UA1Bf,WAGE,GAFAD,GAAK3uB,MAAM,UAEPwC,OAAOuN,SAAWA,QAAQ8e,aAAc,CAC1C,MAAmCrsB,OAAOxB,SACpCpS,EADN,EAAQohB,SAAR,EAAkB5G,OAAlB,EAA0BuK,KAEpB,eAAgB3R,KAAKpT,IACzBmhB,QAAQ8e,aAAa,KAAM5a,SAASsC,MAApC,OAAkD3nB,GAItDkgC,oBAAM,WACJ,IAAMC,EAAY9a,SAAS+a,eAAe,YACpC57B,EAAQkF,KAAKgF,MAAMyxB,EAAUE,aAAa,eAEhDC,KAASzd,OAAO,kBAAC,GAAare,GAAW27B,GACzCf,GAAMzR,SAAS4S,eAGbjvB,EAAQ,KAA0BqO,UAClCyf,GAAMzR,SAAS6S,OAEjBT,GAAKzgB,KAAK,gB","file":"js/application-5b6f69ae580f317c4b6b.chunk.js","sourcesContent":["/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\n\nexports.getArg = getArg;\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n\n  if (!match) {\n    return null;\n  }\n\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\n\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n\n  url += '//';\n\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port;\n  }\n\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n\n  return url;\n}\n\nexports.urlGenerate = urlGenerate;\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\n\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n\n    path = url.path;\n  }\n\n  var isAbsolute = exports.isAbsolute(path);\n  var parts = path.split(/\\/+/);\n\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n\n  return path;\n}\n\nexports.normalize = normalize;\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\n\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  } // `join(foo, '//www.example.org')`\n\n\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  } // `join('http://', 'www.example.com')`\n\n\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/' ? aPath : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n\n  return joined;\n}\n\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || !!aPath.match(urlRegexp);\n};\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\n\n\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, ''); // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n\n  var level = 0;\n\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n\n    if (index < 0) {\n      return aPath;\n    } // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n\n\n    aRoot = aRoot.slice(0, index);\n\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  } // Make sure we add a \"../\" for each component we removed from the root.\n\n\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\n\nexports.relative = relative;\n\nvar supportsNullProto = function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}();\n\nfunction identity(s) {\n  return s;\n}\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\n\n\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\n\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\n\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9\n  /* \"__proto__\".length */\n  ) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95\n  /* '_' */\n  || s.charCodeAt(length - 2) !== 95\n  /* '_' */\n  || s.charCodeAt(length - 3) !== 111\n  /* 'o' */\n  || s.charCodeAt(length - 4) !== 116\n  /* 't' */\n  || s.charCodeAt(length - 5) !== 111\n  /* 'o' */\n  || s.charCodeAt(length - 6) !== 114\n  /* 'r' */\n  || s.charCodeAt(length - 7) !== 112\n  /* 'p' */\n  || s.charCodeAt(length - 8) !== 95\n  /* '_' */\n  || s.charCodeAt(length - 9) !== 95\n  /* '_' */\n  ) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36\n    /* '$' */\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\n\n\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = mappingA.source - mappingB.source;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\n\nexports.compareByOriginalPositions = compareByOriginalPositions;\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\n\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = mappingA.source - mappingB.source;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return mappingA.name - mappingB.name;\n}\n\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\n\n\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\n\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('stackframe', [], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.StackFrame = factory();\n  }\n})(this, function () {\n  'use strict';\n\n  function _isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n  }\n\n  function _capitalize(str) {\n    return str.charAt(0).toUpperCase() + str.substring(1);\n  }\n\n  function _getter(p) {\n    return function () {\n      return this[p];\n    };\n  }\n\n  var booleanProps = ['isConstructor', 'isEval', 'isNative', 'isToplevel'];\n  var numericProps = ['columnNumber', 'lineNumber'];\n  var stringProps = ['fileName', 'functionName', 'source'];\n  var arrayProps = ['args'];\n  var objectProps = ['evalOrigin'];\n  var props = booleanProps.concat(numericProps, stringProps, arrayProps, objectProps);\n\n  function StackFrame(obj) {\n    if (!obj) return;\n\n    for (var i = 0; i < props.length; i++) {\n      if (obj[props[i]] !== undefined) {\n        this['set' + _capitalize(props[i])](obj[props[i]]);\n      }\n    }\n  }\n\n  StackFrame.prototype = {\n    getArgs: function getArgs() {\n      return this.args;\n    },\n    setArgs: function setArgs(v) {\n      if (Object.prototype.toString.call(v) !== '[object Array]') {\n        throw new TypeError('Args must be an Array');\n      }\n\n      this.args = v;\n    },\n    getEvalOrigin: function getEvalOrigin() {\n      return this.evalOrigin;\n    },\n    setEvalOrigin: function setEvalOrigin(v) {\n      if (v instanceof StackFrame) {\n        this.evalOrigin = v;\n      } else if (v instanceof Object) {\n        this.evalOrigin = new StackFrame(v);\n      } else {\n        throw new TypeError('Eval Origin must be an Object or StackFrame');\n      }\n    },\n    toString: function toString() {\n      var fileName = this.getFileName() || '';\n      var lineNumber = this.getLineNumber() || '';\n      var columnNumber = this.getColumnNumber() || '';\n      var functionName = this.getFunctionName() || '';\n\n      if (this.getIsEval()) {\n        if (fileName) {\n          return '[eval] (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n        }\n\n        return '[eval]:' + lineNumber + ':' + columnNumber;\n      }\n\n      if (functionName) {\n        return functionName + ' (' + fileName + ':' + lineNumber + ':' + columnNumber + ')';\n      }\n\n      return fileName + ':' + lineNumber + ':' + columnNumber;\n    }\n  };\n\n  StackFrame.fromString = function StackFrame$$fromString(str) {\n    var argsStartIndex = str.indexOf('(');\n    var argsEndIndex = str.lastIndexOf(')');\n    var functionName = str.substring(0, argsStartIndex);\n    var args = str.substring(argsStartIndex + 1, argsEndIndex).split(',');\n    var locationString = str.substring(argsEndIndex + 1);\n\n    if (locationString.indexOf('@') === 0) {\n      var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, '');\n      var fileName = parts[1];\n      var lineNumber = parts[2];\n      var columnNumber = parts[3];\n    }\n\n    return new StackFrame({\n      functionName: functionName,\n      args: args || undefined,\n      fileName: fileName,\n      lineNumber: lineNumber || undefined,\n      columnNumber: columnNumber || undefined\n    });\n  };\n\n  for (var i = 0; i < booleanProps.length; i++) {\n    StackFrame.prototype['get' + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\n\n    StackFrame.prototype['set' + _capitalize(booleanProps[i])] = function (p) {\n      return function (v) {\n        this[p] = Boolean(v);\n      };\n    }(booleanProps[i]);\n  }\n\n  for (var j = 0; j < numericProps.length; j++) {\n    StackFrame.prototype['get' + _capitalize(numericProps[j])] = _getter(numericProps[j]);\n\n    StackFrame.prototype['set' + _capitalize(numericProps[j])] = function (p) {\n      return function (v) {\n        if (!_isNumber(v)) {\n          throw new TypeError(p + ' must be a Number');\n        }\n\n        this[p] = Number(v);\n      };\n    }(numericProps[j]);\n  }\n\n  for (var k = 0; k < stringProps.length; k++) {\n    StackFrame.prototype['get' + _capitalize(stringProps[k])] = _getter(stringProps[k]);\n\n    StackFrame.prototype['set' + _capitalize(stringProps[k])] = function (p) {\n      return function (v) {\n        this[p] = String(v);\n      };\n    }(stringProps[k]);\n  }\n\n  return StackFrame;\n});","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar base64VLQ = require('./base64-vlq');\n\nvar util = require('./util');\n\nvar ArraySet = require('./array-set').ArraySet;\n\nvar MappingList = require('./mapping-list').MappingList;\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\n\n\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\n\nSourceMapGenerator.fromSourceMap = function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n  var sourceRoot = aSourceMapConsumer.sourceRoot;\n  var generator = new SourceMapGenerator({\n    file: aSourceMapConsumer.file,\n    sourceRoot: sourceRoot\n  });\n  aSourceMapConsumer.eachMapping(function (mapping) {\n    var newMapping = {\n      generated: {\n        line: mapping.generatedLine,\n        column: mapping.generatedColumn\n      }\n    };\n\n    if (mapping.source != null) {\n      newMapping.source = mapping.source;\n\n      if (sourceRoot != null) {\n        newMapping.source = util.relative(sourceRoot, newMapping.source);\n      }\n\n      newMapping.original = {\n        line: mapping.originalLine,\n        column: mapping.originalColumn\n      };\n\n      if (mapping.name != null) {\n        newMapping.name = mapping.name;\n      }\n    }\n\n    generator.addMapping(newMapping);\n  });\n  aSourceMapConsumer.sources.forEach(function (sourceFile) {\n    var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n\n    if (content != null) {\n      generator.setSourceContent(sourceFile, content);\n    }\n  });\n  return generator;\n};\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\n\n\nSourceMapGenerator.prototype.addMapping = function SourceMapGenerator_addMapping(aArgs) {\n  var generated = util.getArg(aArgs, 'generated');\n  var original = util.getArg(aArgs, 'original', null);\n  var source = util.getArg(aArgs, 'source', null);\n  var name = util.getArg(aArgs, 'name', null);\n\n  if (!this._skipValidation) {\n    this._validateMapping(generated, original, source, name);\n  }\n\n  if (source != null) {\n    source = String(source);\n\n    if (!this._sources.has(source)) {\n      this._sources.add(source);\n    }\n  }\n\n  if (name != null) {\n    name = String(name);\n\n    if (!this._names.has(name)) {\n      this._names.add(name);\n    }\n  }\n\n  this._mappings.add({\n    generatedLine: generated.line,\n    generatedColumn: generated.column,\n    originalLine: original != null && original.line,\n    originalColumn: original != null && original.column,\n    source: source,\n    name: name\n  });\n};\n/**\n * Set the source content for a source file.\n */\n\n\nSourceMapGenerator.prototype.setSourceContent = function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n  var source = aSourceFile;\n\n  if (this._sourceRoot != null) {\n    source = util.relative(this._sourceRoot, source);\n  }\n\n  if (aSourceContent != null) {\n    // Add the source content to the _sourcesContents map.\n    // Create a new _sourcesContents map if the property is null.\n    if (!this._sourcesContents) {\n      this._sourcesContents = Object.create(null);\n    }\n\n    this._sourcesContents[util.toSetString(source)] = aSourceContent;\n  } else if (this._sourcesContents) {\n    // Remove the source file from the _sourcesContents map.\n    // If the _sourcesContents map is empty, set the property to null.\n    delete this._sourcesContents[util.toSetString(source)];\n\n    if (Object.keys(this._sourcesContents).length === 0) {\n      this._sourcesContents = null;\n    }\n  }\n};\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\n\n\nSourceMapGenerator.prototype.applySourceMap = function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n  var sourceFile = aSourceFile; // If aSourceFile is omitted, we will use the file property of the SourceMap\n\n  if (aSourceFile == null) {\n    if (aSourceMapConsumer.file == null) {\n      throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' + 'or the source map\\'s \"file\" property. Both were omitted.');\n    }\n\n    sourceFile = aSourceMapConsumer.file;\n  }\n\n  var sourceRoot = this._sourceRoot; // Make \"sourceFile\" relative if an absolute Url is passed.\n\n  if (sourceRoot != null) {\n    sourceFile = util.relative(sourceRoot, sourceFile);\n  } // Applying the SourceMap can add and remove items from the sources and\n  // the names array.\n\n\n  var newSources = new ArraySet();\n  var newNames = new ArraySet(); // Find mappings for the \"sourceFile\"\n\n  this._mappings.unsortedForEach(function (mapping) {\n    if (mapping.source === sourceFile && mapping.originalLine != null) {\n      // Check if it can be mapped by the source map, then update the mapping.\n      var original = aSourceMapConsumer.originalPositionFor({\n        line: mapping.originalLine,\n        column: mapping.originalColumn\n      });\n\n      if (original.source != null) {\n        // Copy mapping\n        mapping.source = original.source;\n\n        if (aSourceMapPath != null) {\n          mapping.source = util.join(aSourceMapPath, mapping.source);\n        }\n\n        if (sourceRoot != null) {\n          mapping.source = util.relative(sourceRoot, mapping.source);\n        }\n\n        mapping.originalLine = original.line;\n        mapping.originalColumn = original.column;\n\n        if (original.name != null) {\n          mapping.name = original.name;\n        }\n      }\n    }\n\n    var source = mapping.source;\n\n    if (source != null && !newSources.has(source)) {\n      newSources.add(source);\n    }\n\n    var name = mapping.name;\n\n    if (name != null && !newNames.has(name)) {\n      newNames.add(name);\n    }\n  }, this);\n\n  this._sources = newSources;\n  this._names = newNames; // Copy sourcesContents of applied map.\n\n  aSourceMapConsumer.sources.forEach(function (sourceFile) {\n    var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n\n    if (content != null) {\n      if (aSourceMapPath != null) {\n        sourceFile = util.join(aSourceMapPath, sourceFile);\n      }\n\n      if (sourceRoot != null) {\n        sourceFile = util.relative(sourceRoot, sourceFile);\n      }\n\n      this.setSourceContent(sourceFile, content);\n    }\n  }, this);\n};\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\n\n\nSourceMapGenerator.prototype._validateMapping = function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource, aName) {\n  if (aGenerated && 'line' in aGenerated && 'column' in aGenerated && aGenerated.line > 0 && aGenerated.column >= 0 && !aOriginal && !aSource && !aName) {\n    // Case 1.\n    return;\n  } else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated && aOriginal && 'line' in aOriginal && 'column' in aOriginal && aGenerated.line > 0 && aGenerated.column >= 0 && aOriginal.line > 0 && aOriginal.column >= 0 && aSource) {\n    // Cases 2 and 3.\n    return;\n  } else {\n    throw new Error('Invalid mapping: ' + JSON.stringify({\n      generated: aGenerated,\n      source: aSource,\n      original: aOriginal,\n      name: aName\n    }));\n  }\n};\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\n\n\nSourceMapGenerator.prototype._serializeMappings = function SourceMapGenerator_serializeMappings() {\n  var previousGeneratedColumn = 0;\n  var previousGeneratedLine = 1;\n  var previousOriginalColumn = 0;\n  var previousOriginalLine = 0;\n  var previousName = 0;\n  var previousSource = 0;\n  var result = '';\n  var next;\n  var mapping;\n  var nameIdx;\n  var sourceIdx;\n\n  var mappings = this._mappings.toArray();\n\n  for (var i = 0, len = mappings.length; i < len; i++) {\n    mapping = mappings[i];\n    next = '';\n\n    if (mapping.generatedLine !== previousGeneratedLine) {\n      previousGeneratedColumn = 0;\n\n      while (mapping.generatedLine !== previousGeneratedLine) {\n        next += ';';\n        previousGeneratedLine++;\n      }\n    } else {\n      if (i > 0) {\n        if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n          continue;\n        }\n\n        next += ',';\n      }\n    }\n\n    next += base64VLQ.encode(mapping.generatedColumn - previousGeneratedColumn);\n    previousGeneratedColumn = mapping.generatedColumn;\n\n    if (mapping.source != null) {\n      sourceIdx = this._sources.indexOf(mapping.source);\n      next += base64VLQ.encode(sourceIdx - previousSource);\n      previousSource = sourceIdx; // lines are stored 0-based in SourceMap spec version 3\n\n      next += base64VLQ.encode(mapping.originalLine - 1 - previousOriginalLine);\n      previousOriginalLine = mapping.originalLine - 1;\n      next += base64VLQ.encode(mapping.originalColumn - previousOriginalColumn);\n      previousOriginalColumn = mapping.originalColumn;\n\n      if (mapping.name != null) {\n        nameIdx = this._names.indexOf(mapping.name);\n        next += base64VLQ.encode(nameIdx - previousName);\n        previousName = nameIdx;\n      }\n    }\n\n    result += next;\n  }\n\n  return result;\n};\n\nSourceMapGenerator.prototype._generateSourcesContent = function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n  return aSources.map(function (source) {\n    if (!this._sourcesContents) {\n      return null;\n    }\n\n    if (aSourceRoot != null) {\n      source = util.relative(aSourceRoot, source);\n    }\n\n    var key = util.toSetString(source);\n    return Object.prototype.hasOwnProperty.call(this._sourcesContents, key) ? this._sourcesContents[key] : null;\n  }, this);\n};\n/**\n * Externalize the source map.\n */\n\n\nSourceMapGenerator.prototype.toJSON = function SourceMapGenerator_toJSON() {\n  var map = {\n    version: this._version,\n    sources: this._sources.toArray(),\n    names: this._names.toArray(),\n    mappings: this._serializeMappings()\n  };\n\n  if (this._file != null) {\n    map.file = this._file;\n  }\n\n  if (this._sourceRoot != null) {\n    map.sourceRoot = this._sourceRoot;\n  }\n\n  if (this._sourcesContents) {\n    map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n  }\n\n  return map;\n};\n/**\n * Render the source map being generated to a string.\n */\n\n\nSourceMapGenerator.prototype.toString = function SourceMapGenerator_toString() {\n  return JSON.stringify(this.toJSON());\n};\n\nexports.SourceMapGenerator = SourceMapGenerator;","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\nvar base64 = require('./base64'); // A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\n\nvar VLQ_BASE_SHIFT = 5; // binary: 100000\n\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT; // binary: 011111\n\nvar VLQ_BASE_MASK = VLQ_BASE - 1; // binary: 100000\n\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\n\nfunction toVLQSigned(aValue) {\n  return aValue < 0 ? (-aValue << 1) + 1 : (aValue << 1) + 0;\n}\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\n\n\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative ? -shifted : shifted;\n}\n/**\n * Returns the base 64 VLQ encoded value.\n */\n\n\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\n\n\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar util = require('./util');\n\nvar has = Object.prototype.hasOwnProperty;\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\n\nfunction ArraySet() {\n  this._array = [];\n  this._set = Object.create(null);\n}\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\n\n\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n\n  return set;\n};\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\n\n\nArraySet.prototype.size = function ArraySet_size() {\n  return Object.getOwnPropertyNames(this._set).length;\n};\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\n\n\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = util.toSetString(aStr);\n  var isDuplicate = has.call(this._set, sStr);\n  var idx = this._array.length;\n\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n\n  if (!isDuplicate) {\n    this._set[sStr] = idx;\n  }\n};\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\n\n\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  var sStr = util.toSetString(aStr);\n  return has.call(this._set, sStr);\n};\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\n\n\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  var sStr = util.toSetString(aStr);\n\n  if (has.call(this._set, sStr)) {\n    return this._set[sStr];\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\n\n\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n\n  throw new Error('No element indexed by ' + aIdx);\n};\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\n\n\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('stacktrace', ['error-stack-parser', 'stack-generator', 'stacktrace-gps'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('error-stack-parser'), require('stack-generator'), require('stacktrace-gps'));\n  } else {\n    root.StackTrace = factory(root.ErrorStackParser, root.StackGenerator, root.StackTraceGPS);\n  }\n})(this, function StackTrace(ErrorStackParser, StackGenerator, StackTraceGPS) {\n  var _options = {\n    filter: function filter(stackframe) {\n      // Filter out stackframes for this library by default\n      return (stackframe.functionName || '').indexOf('StackTrace$$') === -1 && (stackframe.functionName || '').indexOf('ErrorStackParser$$') === -1 && (stackframe.functionName || '').indexOf('StackTraceGPS$$') === -1 && (stackframe.functionName || '').indexOf('StackGenerator$$') === -1;\n    },\n    sourceCache: {}\n  };\n\n  var _generateError = function StackTrace$$GenerateError() {\n    try {\n      // Error must be thrown to get stack in IE\n      throw new Error();\n    } catch (err) {\n      return err;\n    }\n  };\n  /**\n   * Merge 2 given Objects. If a conflict occurs the second object wins.\n   * Does not do deep merges.\n   *\n   * @param {Object} first base object\n   * @param {Object} second overrides\n   * @returns {Object} merged first and second\n   * @private\n   */\n\n\n  function _merge(first, second) {\n    var target = {};\n    [first, second].forEach(function (obj) {\n      for (var prop in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n          target[prop] = obj[prop];\n        }\n      }\n\n      return target;\n    });\n    return target;\n  }\n\n  function _isShapedLikeParsableError(err) {\n    return err.stack || err['opera#sourceloc'];\n  }\n\n  function _filtered(stackframes, filter) {\n    if (typeof filter === 'function') {\n      return stackframes.filter(filter);\n    }\n\n    return stackframes;\n  }\n\n  return {\n    /**\n     * Get a backtrace from invocation point.\n     *\n     * @param {Object} opts\n     * @returns {Array} of StackFrame\n     */\n    get: function StackTrace$$get(opts) {\n      var err = _generateError();\n\n      return _isShapedLikeParsableError(err) ? this.fromError(err, opts) : this.generateArtificially(opts);\n    },\n\n    /**\n     * Get a backtrace from invocation point.\n     * IMPORTANT: Does not handle source maps or guess function names!\n     *\n     * @param {Object} opts\n     * @returns {Array} of StackFrame\n     */\n    getSync: function StackTrace$$getSync(opts) {\n      opts = _merge(_options, opts);\n\n      var err = _generateError();\n\n      var stack = _isShapedLikeParsableError(err) ? ErrorStackParser.parse(err) : StackGenerator.backtrace(opts);\n      return _filtered(stack, opts.filter);\n    },\n\n    /**\n     * Given an error object, parse it.\n     *\n     * @param {Error} error object\n     * @param {Object} opts\n     * @returns {Promise} for Array[StackFrame}\n     */\n    fromError: function StackTrace$$fromError(error, opts) {\n      opts = _merge(_options, opts);\n      var gps = new StackTraceGPS(opts);\n      return new Promise(function (resolve) {\n        var stackframes = _filtered(ErrorStackParser.parse(error), opts.filter);\n\n        resolve(Promise.all(stackframes.map(function (sf) {\n          return new Promise(function (resolve) {\n            function resolveOriginal() {\n              resolve(sf);\n            }\n\n            gps.pinpoint(sf).then(resolve, resolveOriginal)['catch'](resolveOriginal);\n          });\n        })));\n      }.bind(this));\n    },\n\n    /**\n     * Use StackGenerator to generate a backtrace.\n     *\n     * @param {Object} opts\n     * @returns {Promise} of Array[StackFrame]\n     */\n    generateArtificially: function StackTrace$$generateArtificially(opts) {\n      opts = _merge(_options, opts);\n      var stackFrames = StackGenerator.backtrace(opts);\n\n      if (typeof opts.filter === 'function') {\n        stackFrames = stackFrames.filter(opts.filter);\n      }\n\n      return Promise.resolve(stackFrames);\n    },\n\n    /**\n     * Given a function, wrap it such that invocations trigger a callback that\n     * is called with a stack trace.\n     *\n     * @param {Function} fn to be instrumented\n     * @param {Function} callback function to call with a stack trace on invocation\n     * @param {Function} errback optional function to call with error if unable to get stack trace.\n     * @param {Object} thisArg optional context object (e.g. window)\n     */\n    instrument: function StackTrace$$instrument(fn, callback, errback, thisArg) {\n      if (typeof fn !== 'function') {\n        throw new Error('Cannot instrument non-function object');\n      } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n        // Already instrumented, return given Function\n        return fn;\n      }\n\n      var instrumented = function StackTrace$$instrumented() {\n        try {\n          this.get().then(callback, errback)['catch'](errback);\n          return fn.apply(thisArg || this, arguments);\n        } catch (e) {\n          if (_isShapedLikeParsableError(e)) {\n            this.fromError(e).then(callback, errback)['catch'](errback);\n          }\n\n          throw e;\n        }\n      }.bind(this);\n\n      instrumented.__stacktraceOriginalFn = fn;\n      return instrumented;\n    },\n\n    /**\n     * Given a function that has been instrumented,\n     * revert the function to it's original (non-instrumented) state.\n     *\n     * @param {Function} fn to de-instrument\n     */\n    deinstrument: function StackTrace$$deinstrument(fn) {\n      if (typeof fn !== 'function') {\n        throw new Error('Cannot de-instrument non-function object');\n      } else if (typeof fn.__stacktraceOriginalFn === 'function') {\n        return fn.__stacktraceOriginalFn;\n      } else {\n        // Function not instrumented, return original\n        return fn;\n      }\n    },\n\n    /**\n     * Given an error message and Array of StackFrames, serialize and POST to given URL.\n     *\n     * @param {Array} stackframes\n     * @param {String} url\n     * @param {String} errorMsg\n     * @param {Object} requestOptions\n     */\n    report: function StackTrace$$report(stackframes, url, errorMsg, requestOptions) {\n      return new Promise(function (resolve, reject) {\n        var req = new XMLHttpRequest();\n        req.onerror = reject;\n\n        req.onreadystatechange = function onreadystatechange() {\n          if (req.readyState === 4) {\n            if (req.status >= 200 && req.status < 400) {\n              resolve(req.responseText);\n            } else {\n              reject(new Error('POST to ' + url + ' failed with status: ' + req.status));\n            }\n          }\n        };\n\n        req.open('post', url); // Set request headers\n\n        req.setRequestHeader('Content-Type', 'application/json');\n\n        if (requestOptions && typeof requestOptions.headers === 'object') {\n          var headers = requestOptions.headers;\n\n          for (var header in headers) {\n            if (Object.prototype.hasOwnProperty.call(headers, header)) {\n              req.setRequestHeader(header, headers[header]);\n            }\n          }\n        }\n\n        var reportPayload = {\n          stack: stackframes\n        };\n\n        if (errorMsg !== undefined && errorMsg !== null) {\n          reportPayload.message = errorMsg;\n        }\n\n        req.send(JSON.stringify(reportPayload));\n      });\n    }\n  };\n});","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n'use strict';\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function warning() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function warning(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.length < 10 || /^[s\\W]*$/.test(format)) {\n      throw new Error('The warning format should be able to uniquely identify this ' + 'warning. Please, use a more descriptive format than: ' + format);\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    }\n  };\n}\n\nmodule.exports = warning;","import './public-path';\nimport loadPolyfills from '../mastodon/load_polyfills';\nimport { start } from '../mastodon/common';\n\nstart();\n\nloadPolyfills().then(() => {\n  require('../mastodon/main').default();\n}).catch(e => {\n  console.error(e);\n});\n","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('error-stack-parser', ['stackframe'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('stackframe'));\n  } else {\n    root.ErrorStackParser = factory(root.StackFrame);\n  }\n})(this, function ErrorStackParser(StackFrame) {\n  'use strict';\n\n  var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\n  var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\n  var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\n  return {\n    /**\n     * Given an Error object, extract the most information from it.\n     *\n     * @param {Error} error object\n     * @return {Array} of StackFrames\n     */\n    parse: function ErrorStackParser$$parse(error) {\n      if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\n        return this.parseOpera(error);\n      } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n        return this.parseV8OrIE(error);\n      } else if (error.stack) {\n        return this.parseFFOrSafari(error);\n      } else {\n        throw new Error('Cannot parse given Error object');\n      }\n    },\n    // Separate line and column numbers from a string of the form: (URI:Line:Column)\n    extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\n      // Fail-fast but return locations like \"(native)\"\n      if (urlLike.indexOf(':') === -1) {\n        return [urlLike];\n      }\n\n      var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n      var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\n      return [parts[1], parts[2] || undefined, parts[3] || undefined];\n    },\n    parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\n      var filtered = error.stack.split('\\n').filter(function (line) {\n        return !!line.match(CHROME_IE_STACK_REGEXP);\n      }, this);\n      return filtered.map(function (line) {\n        if (line.indexOf('(eval ') > -1) {\n          // Throw away eval information until we implement stacktrace.js/stackframe#8\n          line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(\\),.*$)/g, '');\n        }\n\n        var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '('); // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\n        // case it has spaces in it, as the string is split on \\s+ later on\n\n        var location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/); // remove the parenthesized location from the line, if it was matched\n\n        sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\n        var tokens = sanitizedLine.split(/\\s+/).slice(1); // if a location was matched, pass it to extractLocation() otherwise pop the last token\n\n        var locationParts = this.extractLocation(location ? location[1] : tokens.pop());\n        var functionName = tokens.join(' ') || undefined;\n        var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\n        return new StackFrame({\n          functionName: functionName,\n          fileName: fileName,\n          lineNumber: locationParts[1],\n          columnNumber: locationParts[2],\n          source: line\n        });\n      }, this);\n    },\n    parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\n      var filtered = error.stack.split('\\n').filter(function (line) {\n        return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n      }, this);\n      return filtered.map(function (line) {\n        // Throw away eval information until we implement stacktrace.js/stackframe#8\n        if (line.indexOf(' > eval') > -1) {\n          line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\n        }\n\n        if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\n          // Safari eval frames only have function names and nothing else\n          return new StackFrame({\n            functionName: line\n          });\n        } else {\n          var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n          var matches = line.match(functionNameRegex);\n          var functionName = matches && matches[1] ? matches[1] : undefined;\n          var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\n          return new StackFrame({\n            functionName: functionName,\n            fileName: locationParts[0],\n            lineNumber: locationParts[1],\n            columnNumber: locationParts[2],\n            source: line\n          });\n        }\n      }, this);\n    },\n    parseOpera: function ErrorStackParser$$parseOpera(e) {\n      if (!e.stacktrace || e.message.indexOf('\\n') > -1 && e.message.split('\\n').length > e.stacktrace.split('\\n').length) {\n        return this.parseOpera9(e);\n      } else if (!e.stack) {\n        return this.parseOpera10(e);\n      } else {\n        return this.parseOpera11(e);\n      }\n    },\n    parseOpera9: function ErrorStackParser$$parseOpera9(e) {\n      var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n      var lines = e.message.split('\\n');\n      var result = [];\n\n      for (var i = 2, len = lines.length; i < len; i += 2) {\n        var match = lineRE.exec(lines[i]);\n\n        if (match) {\n          result.push(new StackFrame({\n            fileName: match[2],\n            lineNumber: match[1],\n            source: lines[i]\n          }));\n        }\n      }\n\n      return result;\n    },\n    parseOpera10: function ErrorStackParser$$parseOpera10(e) {\n      var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n      var lines = e.stacktrace.split('\\n');\n      var result = [];\n\n      for (var i = 0, len = lines.length; i < len; i += 2) {\n        var match = lineRE.exec(lines[i]);\n\n        if (match) {\n          result.push(new StackFrame({\n            functionName: match[3] || undefined,\n            fileName: match[2],\n            lineNumber: match[1],\n            source: lines[i]\n          }));\n        }\n      }\n\n      return result;\n    },\n    // Opera 10.65+ Error.stack very similar to FF/Safari\n    parseOpera11: function ErrorStackParser$$parseOpera11(error) {\n      var filtered = error.stack.split('\\n').filter(function (line) {\n        return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n      }, this);\n      return filtered.map(function (line) {\n        var tokens = line.split('@');\n        var locationParts = this.extractLocation(tokens.pop());\n        var functionCall = tokens.shift() || '';\n        var functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, '$2').replace(/\\([^)]*\\)/g, '') || undefined;\n        var argsRaw;\n\n        if (functionCall.match(/\\(([^)]*)\\)/)) {\n          argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\n        }\n\n        var args = argsRaw === undefined || argsRaw === '[arguments not available]' ? undefined : argsRaw.split(',');\n        return new StackFrame({\n          functionName: functionName,\n          args: args,\n          fileName: locationParts[0],\n          lineNumber: locationParts[1],\n          columnNumber: locationParts[2],\n          source: line\n        });\n      }, this);\n    }\n  };\n});","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('stack-generator', ['stackframe'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('stackframe'));\n  } else {\n    root.StackGenerator = factory(root.StackFrame);\n  }\n})(this, function (StackFrame) {\n  return {\n    backtrace: function StackGenerator$$backtrace(opts) {\n      var stack = [];\n      var maxStackSize = 10;\n\n      if (typeof opts === 'object' && typeof opts.maxStackSize === 'number') {\n        maxStackSize = opts.maxStackSize;\n      }\n\n      var curr = arguments.callee;\n\n      while (curr && stack.length < maxStackSize && curr['arguments']) {\n        // Allow V8 optimizations\n        var args = new Array(curr['arguments'].length);\n\n        for (var i = 0; i < args.length; ++i) {\n          args[i] = curr['arguments'][i];\n        }\n\n        if (/function(?:\\s+([\\w$]+))+\\s*\\(/.test(curr.toString())) {\n          stack.push(new StackFrame({\n            functionName: RegExp.$1 || undefined,\n            args: args\n          }));\n        } else {\n          stack.push(new StackFrame({\n            args: args\n          }));\n        }\n\n        try {\n          curr = curr.caller;\n        } catch (e) {\n          break;\n        }\n      }\n\n      return stack;\n    }\n  };\n});","(function (root, factory) {\n  'use strict'; // Universal Module Definition (UMD) to support AMD, CommonJS/Node.js, Rhino, and browsers.\n\n  /* istanbul ignore next */\n\n  if (typeof define === 'function' && define.amd) {\n    define('stacktrace-gps', ['source-map', 'stackframe'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('source-map/lib/source-map-consumer'), require('stackframe'));\n  } else {\n    root.StackTraceGPS = factory(root.SourceMap || root.sourceMap, root.StackFrame);\n  }\n})(this, function (SourceMap, StackFrame) {\n  'use strict';\n  /**\n   * Make a X-Domain request to url and callback.\n   *\n   * @param {String} url\n   * @returns {Promise} with response text if fulfilled\n   */\n\n  function _xdr(url) {\n    return new Promise(function (resolve, reject) {\n      var req = new XMLHttpRequest();\n      req.open('get', url);\n      req.onerror = reject;\n\n      req.onreadystatechange = function onreadystatechange() {\n        if (req.readyState === 4) {\n          if (req.status >= 200 && req.status < 300 || url.substr(0, 7) === 'file://' && req.responseText) {\n            resolve(req.responseText);\n          } else {\n            reject(new Error('HTTP status: ' + req.status + ' retrieving ' + url));\n          }\n        }\n      };\n\n      req.send();\n    });\n  }\n  /**\n   * Convert a Base64-encoded string into its original representation.\n   * Used for inline sourcemaps.\n   *\n   * @param {String} b64str Base-64 encoded string\n   * @returns {String} original representation of the base64-encoded string.\n   */\n\n\n  function _atob(b64str) {\n    if (typeof window !== 'undefined' && window.atob) {\n      return window.atob(b64str);\n    } else {\n      throw new Error('You must supply a polyfill for window.atob in this environment');\n    }\n  }\n\n  function _parseJson(string) {\n    if (typeof JSON !== 'undefined' && JSON.parse) {\n      return JSON.parse(string);\n    } else {\n      throw new Error('You must supply a polyfill for JSON.parse in this environment');\n    }\n  }\n\n  function _findFunctionName(source, lineNumber\n  /*, columnNumber*/\n  ) {\n    var syntaxes = [// {name} = function ({args}) TODO args capture\n    /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/, // function {name}({args}) m[1]=name m[2]=args\n    /function\\s+([^('\"`]*?)\\s*\\(([^)]*)\\)/, // {name} = eval()\n    /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/, // fn_name() {\n    /\\b(?!(?:if|for|switch|while|with|catch)\\b)(?:(?:static)\\s+)?(\\S+)\\s*\\(.*?\\)\\s*\\{/, // {name} = () => {\n    /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*\\(.*?\\)\\s*=>/];\n    var lines = source.split('\\n'); // Walk backwards in the source lines until we find the line which matches one of the patterns above\n\n    var code = '';\n    var maxLines = Math.min(lineNumber, 20);\n\n    for (var i = 0; i < maxLines; ++i) {\n      // lineNo is 1-based, source[] is 0-based\n      var line = lines[lineNumber - i - 1];\n      var commentPos = line.indexOf('//');\n\n      if (commentPos >= 0) {\n        line = line.substr(0, commentPos);\n      }\n\n      if (line) {\n        code = line + code;\n        var len = syntaxes.length;\n\n        for (var index = 0; index < len; index++) {\n          var m = syntaxes[index].exec(code);\n\n          if (m && m[1]) {\n            return m[1];\n          }\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  function _ensureSupportedEnvironment() {\n    if (typeof Object.defineProperty !== 'function' || typeof Object.create !== 'function') {\n      throw new Error('Unable to consume source maps in older browsers');\n    }\n  }\n\n  function _ensureStackFrameIsLegit(stackframe) {\n    if (typeof stackframe !== 'object') {\n      throw new TypeError('Given StackFrame is not an object');\n    } else if (typeof stackframe.fileName !== 'string') {\n      throw new TypeError('Given file name is not a String');\n    } else if (typeof stackframe.lineNumber !== 'number' || stackframe.lineNumber % 1 !== 0 || stackframe.lineNumber < 1) {\n      throw new TypeError('Given line number must be a positive integer');\n    } else if (typeof stackframe.columnNumber !== 'number' || stackframe.columnNumber % 1 !== 0 || stackframe.columnNumber < 0) {\n      throw new TypeError('Given column number must be a non-negative integer');\n    }\n\n    return true;\n  }\n\n  function _findSourceMappingURL(source) {\n    var sourceMappingUrlRegExp = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/mg;\n    var lastSourceMappingUrl;\n    var matchSourceMappingUrl; // eslint-disable-next-line no-cond-assign\n\n    while (matchSourceMappingUrl = sourceMappingUrlRegExp.exec(source)) {\n      lastSourceMappingUrl = matchSourceMappingUrl[1];\n    }\n\n    if (lastSourceMappingUrl) {\n      return lastSourceMappingUrl;\n    } else {\n      throw new Error('sourceMappingURL not found');\n    }\n  }\n\n  function _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache) {\n    return new Promise(function (resolve, reject) {\n      var loc = sourceMapConsumer.originalPositionFor({\n        line: stackframe.lineNumber,\n        column: stackframe.columnNumber\n      });\n\n      if (loc.source) {\n        // cache mapped sources\n        var mappedSource = sourceMapConsumer.sourceContentFor(loc.source);\n\n        if (mappedSource) {\n          sourceCache[loc.source] = mappedSource;\n        }\n\n        resolve( // given stackframe and source location, update stackframe\n        new StackFrame({\n          functionName: loc.name || stackframe.functionName,\n          args: stackframe.args,\n          fileName: loc.source,\n          lineNumber: loc.line,\n          columnNumber: loc.column\n        }));\n      } else {\n        reject(new Error('Could not get original source for given stackframe and source map'));\n      }\n    });\n  }\n  /**\n   * @constructor\n   * @param {Object} opts\n   *      opts.sourceCache = {url: \"Source String\"} => preload source cache\n   *      opts.sourceMapConsumerCache = {/path/file.js.map: SourceMapConsumer}\n   *      opts.offline = True to prevent network requests.\n   *              Best effort without sources or source maps.\n   *      opts.ajax = Promise returning function to make X-Domain requests\n   */\n\n\n  return function StackTraceGPS(opts) {\n    if (!(this instanceof StackTraceGPS)) {\n      return new StackTraceGPS(opts);\n    }\n\n    opts = opts || {};\n    this.sourceCache = opts.sourceCache || {};\n    this.sourceMapConsumerCache = opts.sourceMapConsumerCache || {};\n    this.ajax = opts.ajax || _xdr;\n    this._atob = opts.atob || _atob;\n\n    this._get = function _get(location) {\n      return new Promise(function (resolve, reject) {\n        var isDataUrl = location.substr(0, 5) === 'data:';\n\n        if (this.sourceCache[location]) {\n          resolve(this.sourceCache[location]);\n        } else if (opts.offline && !isDataUrl) {\n          reject(new Error('Cannot make network requests in offline mode'));\n        } else {\n          if (isDataUrl) {\n            // data URLs can have parameters.\n            // see http://tools.ietf.org/html/rfc2397\n            var supportedEncodingRegexp = /^data:application\\/json;([\\w=:\"-]+;)*base64,/;\n            var match = location.match(supportedEncodingRegexp);\n\n            if (match) {\n              var sourceMapStart = match[0].length;\n              var encodedSource = location.substr(sourceMapStart);\n\n              var source = this._atob(encodedSource);\n\n              this.sourceCache[location] = source;\n              resolve(source);\n            } else {\n              reject(new Error('The encoding of the inline sourcemap is not supported'));\n            }\n          } else {\n            var xhrPromise = this.ajax(location, {\n              method: 'get'\n            }); // Cache the Promise to prevent duplicate in-flight requests\n\n            this.sourceCache[location] = xhrPromise;\n            xhrPromise.then(resolve, reject);\n          }\n        }\n      }.bind(this));\n    };\n    /**\n     * Creating SourceMapConsumers is expensive, so this wraps the creation of a\n     * SourceMapConsumer in a per-instance cache.\n     *\n     * @param {String} sourceMappingURL = URL to fetch source map from\n     * @param {String} defaultSourceRoot = Default source root for source map if undefined\n     * @returns {Promise} that resolves a SourceMapConsumer\n     */\n\n\n    this._getSourceMapConsumer = function _getSourceMapConsumer(sourceMappingURL, defaultSourceRoot) {\n      return new Promise(function (resolve) {\n        if (this.sourceMapConsumerCache[sourceMappingURL]) {\n          resolve(this.sourceMapConsumerCache[sourceMappingURL]);\n        } else {\n          var sourceMapConsumerPromise = new Promise(function (resolve, reject) {\n            return this._get(sourceMappingURL).then(function (sourceMapSource) {\n              if (typeof sourceMapSource === 'string') {\n                sourceMapSource = _parseJson(sourceMapSource.replace(/^\\)\\]\\}'/, ''));\n              }\n\n              if (typeof sourceMapSource.sourceRoot === 'undefined') {\n                sourceMapSource.sourceRoot = defaultSourceRoot;\n              }\n\n              resolve(new SourceMap.SourceMapConsumer(sourceMapSource));\n            }, reject);\n          }.bind(this));\n          this.sourceMapConsumerCache[sourceMappingURL] = sourceMapConsumerPromise;\n          resolve(sourceMapConsumerPromise);\n        }\n      }.bind(this));\n    };\n    /**\n     * Given a StackFrame, enhance function name and use source maps for a\n     * better StackFrame.\n     *\n     * @param {StackFrame} stackframe object\n     * @returns {Promise} that resolves with with source-mapped StackFrame\n     */\n\n\n    this.pinpoint = function StackTraceGPS$$pinpoint(stackframe) {\n      return new Promise(function (resolve, reject) {\n        this.getMappedLocation(stackframe).then(function (mappedStackFrame) {\n          function resolveMappedStackFrame() {\n            resolve(mappedStackFrame);\n          }\n\n          this.findFunctionName(mappedStackFrame).then(resolve, resolveMappedStackFrame) // eslint-disable-next-line no-unexpected-multiline\n          ['catch'](resolveMappedStackFrame);\n        }.bind(this), reject);\n      }.bind(this));\n    };\n    /**\n     * Given a StackFrame, guess function name from location information.\n     *\n     * @param {StackFrame} stackframe\n     * @returns {Promise} that resolves with enhanced StackFrame.\n     */\n\n\n    this.findFunctionName = function StackTraceGPS$$findFunctionName(stackframe) {\n      return new Promise(function (resolve, reject) {\n        _ensureStackFrameIsLegit(stackframe);\n\n        this._get(stackframe.fileName).then(function getSourceCallback(source) {\n          var lineNumber = stackframe.lineNumber;\n          var columnNumber = stackframe.columnNumber;\n\n          var guessedFunctionName = _findFunctionName(source, lineNumber, columnNumber); // Only replace functionName if we found something\n\n\n          if (guessedFunctionName) {\n            resolve(new StackFrame({\n              functionName: guessedFunctionName,\n              args: stackframe.args,\n              fileName: stackframe.fileName,\n              lineNumber: lineNumber,\n              columnNumber: columnNumber\n            }));\n          } else {\n            resolve(stackframe);\n          }\n        }, reject)['catch'](reject);\n      }.bind(this));\n    };\n    /**\n     * Given a StackFrame, seek source-mapped location and return new enhanced StackFrame.\n     *\n     * @param {StackFrame} stackframe\n     * @returns {Promise} that resolves with enhanced StackFrame.\n     */\n\n\n    this.getMappedLocation = function StackTraceGPS$$getMappedLocation(stackframe) {\n      return new Promise(function (resolve, reject) {\n        _ensureSupportedEnvironment();\n\n        _ensureStackFrameIsLegit(stackframe);\n\n        var sourceCache = this.sourceCache;\n        var fileName = stackframe.fileName;\n\n        this._get(fileName).then(function (source) {\n          var sourceMappingURL = _findSourceMappingURL(source);\n\n          var isDataUrl = sourceMappingURL.substr(0, 5) === 'data:';\n          var defaultSourceRoot = fileName.substring(0, fileName.lastIndexOf('/') + 1);\n\n          if (sourceMappingURL[0] !== '/' && !isDataUrl && !/^https?:\\/\\/|^\\/\\//i.test(sourceMappingURL)) {\n            sourceMappingURL = defaultSourceRoot + sourceMappingURL;\n          }\n\n          return this._getSourceMapConsumer(sourceMappingURL, defaultSourceRoot).then(function (sourceMapConsumer) {\n            return _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache).then(resolve)['catch'](function () {\n              resolve(stackframe);\n            });\n          });\n        }.bind(this), reject)['catch'](reject);\n      }.bind(this));\n    };\n  };\n});","/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\n\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\n\n\nexports.decode = function (charCode) {\n  var bigA = 65; // 'A'\n\n  var bigZ = 90; // 'Z'\n\n  var littleA = 97; // 'a'\n\n  var littleZ = 122; // 'z'\n\n  var zero = 48; // '0'\n\n  var nine = 57; // '9'\n\n  var plus = 43; // '+'\n\n  var slash = 47; // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52; // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n\n  if (bigA <= charCode && charCode <= bigZ) {\n    return charCode - bigA;\n  } // 26 - 51: abcdefghijklmnopqrstuvwxyz\n\n\n  if (littleA <= charCode && charCode <= littleZ) {\n    return charCode - littleA + littleOffset;\n  } // 52 - 61: 0123456789\n\n\n  if (zero <= charCode && charCode <= nine) {\n    return charCode - zero + numberOffset;\n  } // 62: +\n\n\n  if (charCode == plus) {\n    return 62;\n  } // 63: /\n\n\n  if (charCode == slash) {\n    return 63;\n  } // Invalid base64 digit.\n\n\n  return -1;\n};","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar util = require('./util');\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\n\n\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA || util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\n\n\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true; // Serves as infimum\n\n  this._last = {\n    generatedLine: -1,\n    generatedColumn: 0\n  };\n}\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\n\n\nMappingList.prototype.unsortedForEach = function MappingList_forEach(aCallback, aThisArg) {\n  this._array.forEach(aCallback, aThisArg);\n};\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\n\n\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n\n    this._array.push(aMapping);\n  }\n};\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\n\n\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n\n    this._sorted = true;\n  }\n\n  return this._array;\n};\n\nexports.MappingList = MappingList;","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar util = require('./util');\n\nvar binarySearch = require('./binary-search');\n\nvar ArraySet = require('./array-set').ArraySet;\n\nvar base64VLQ = require('./base64-vlq');\n\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  return sourceMap.sections != null ? new IndexedSourceMapConsumer(sourceMap) : new BasicSourceMapConsumer(sourceMap);\n}\n\nSourceMapConsumer.fromSourceMap = function (aSourceMap) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap);\n};\n/**\n * The version of the source mapping spec that we are consuming.\n */\n\n\nSourceMapConsumer.prototype._version = 3; // `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  get: function get() {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  get: function get() {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator = function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n  var c = aStr.charAt(index);\n  return c === \";\" || c === \",\";\n};\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\n\n\nSourceMapConsumer.prototype._parseMappings = function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n  throw new Error(\"Subclasses must implement _parseMappings\");\n};\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\n\nSourceMapConsumer.prototype.eachMapping = function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n  var context = aContext || null;\n  var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n  var mappings;\n\n  switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n  }\n\n  var sourceRoot = this.sourceRoot;\n  mappings.map(function (mapping) {\n    var source = mapping.source === null ? null : this._sources.at(mapping.source);\n\n    if (source != null && sourceRoot != null) {\n      source = util.join(sourceRoot, source);\n    }\n\n    return {\n      source: source,\n      generatedLine: mapping.generatedLine,\n      generatedColumn: mapping.generatedColumn,\n      originalLine: mapping.originalLine,\n      originalColumn: mapping.originalColumn,\n      name: mapping.name === null ? null : this._names.at(mapping.name)\n    };\n  }, this).forEach(aCallback, context);\n};\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: Optional. the column number in the original source.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\n\n\nSourceMapConsumer.prototype.allGeneratedPositionsFor = function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n  var line = util.getArg(aArgs, 'line'); // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n  // returns the index of the closest mapping less than the needle. By\n  // setting needle.originalColumn to 0, we thus find the last mapping for\n  // the given line, provided such a mapping exists.\n\n  var needle = {\n    source: util.getArg(aArgs, 'source'),\n    originalLine: line,\n    originalColumn: util.getArg(aArgs, 'column', 0)\n  };\n\n  if (this.sourceRoot != null) {\n    needle.source = util.relative(this.sourceRoot, needle.source);\n  }\n\n  if (!this._sources.has(needle.source)) {\n    return [];\n  }\n\n  needle.source = this._sources.indexOf(needle.source);\n  var mappings = [];\n\n  var index = this._findMapping(needle, this._originalMappings, \"originalLine\", \"originalColumn\", util.compareByOriginalPositions, binarySearch.LEAST_UPPER_BOUND);\n\n  if (index >= 0) {\n    var mapping = this._originalMappings[index];\n\n    if (aArgs.column === undefined) {\n      var originalLine = mapping.originalLine; // Iterate until either we run out of mappings, or we run into\n      // a mapping for a different line than the one we found. Since\n      // mappings are sorted, this is guaranteed to find all mappings for\n      // the line we found.\n\n      while (mapping && mapping.originalLine === originalLine) {\n        mappings.push({\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        });\n        mapping = this._originalMappings[++index];\n      }\n    } else {\n      var originalColumn = mapping.originalColumn; // Iterate until either we run out of mappings, or we run into\n      // a mapping for a different line than the one we were searching for.\n      // Since mappings are sorted, this is guaranteed to find all mappings for\n      // the line we are searching for.\n\n      while (mapping && mapping.originalLine === line && mapping.originalColumn == originalColumn) {\n        mappings.push({\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        });\n        mapping = this._originalMappings[++index];\n      }\n    }\n  }\n\n  return mappings;\n};\n\nexports.SourceMapConsumer = SourceMapConsumer;\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The only parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\n\nfunction BasicSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources'); // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null); // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  sources = sources.map(String) // Some source maps produce relative source paths like \"./foo.js\" instead of\n  // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n  // See bugzil.la/1090768.\n  .map(util.normalize) // Always ensure that absolute sources are internally stored relative to\n  // the source root, if the source root is absolute. Not doing this would\n  // be particularly problematic when the source root is a prefix of the\n  // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n  .map(function (source) {\n    return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source) ? util.relative(sourceRoot, source) : source;\n  }); // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @returns BasicSourceMapConsumer\n */\n\nBasicSourceMapConsumer.fromSourceMap = function SourceMapConsumer_fromSourceMap(aSourceMap) {\n  var smc = Object.create(BasicSourceMapConsumer.prototype);\n  var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n  var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n  smc.sourceRoot = aSourceMap._sourceRoot;\n  smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(), smc.sourceRoot);\n  smc.file = aSourceMap._file; // Because we are modifying the entries (by converting string sources and\n  // names to indices into the sources and names ArraySets), we have to make\n  // a copy of the entry or else bad things happen. Shared mutable state\n  // strikes again! See github issue #191.\n\n  var generatedMappings = aSourceMap._mappings.toArray().slice();\n\n  var destGeneratedMappings = smc.__generatedMappings = [];\n  var destOriginalMappings = smc.__originalMappings = [];\n\n  for (var i = 0, length = generatedMappings.length; i < length; i++) {\n    var srcMapping = generatedMappings[i];\n    var destMapping = new Mapping();\n    destMapping.generatedLine = srcMapping.generatedLine;\n    destMapping.generatedColumn = srcMapping.generatedColumn;\n\n    if (srcMapping.source) {\n      destMapping.source = sources.indexOf(srcMapping.source);\n      destMapping.originalLine = srcMapping.originalLine;\n      destMapping.originalColumn = srcMapping.originalColumn;\n\n      if (srcMapping.name) {\n        destMapping.name = names.indexOf(srcMapping.name);\n      }\n\n      destOriginalMappings.push(destMapping);\n    }\n\n    destGeneratedMappings.push(destMapping);\n  }\n\n  quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n  return smc;\n};\n/**\n * The version of the source mapping spec that we are consuming.\n */\n\n\nBasicSourceMapConsumer.prototype._version = 3;\n/**\n * The list of original sources.\n */\n\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function get() {\n    return this._sources.toArray().map(function (s) {\n      return this.sourceRoot != null ? util.join(this.sourceRoot, s) : s;\n    }, this);\n  }\n});\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\n\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\n\n\nBasicSourceMapConsumer.prototype._parseMappings = function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n  var generatedLine = 1;\n  var previousGeneratedColumn = 0;\n  var previousOriginalLine = 0;\n  var previousOriginalColumn = 0;\n  var previousSource = 0;\n  var previousName = 0;\n  var length = aStr.length;\n  var index = 0;\n  var cachedSegments = {};\n  var temp = {};\n  var originalMappings = [];\n  var generatedMappings = [];\n  var mapping, str, segment, end, value;\n\n  while (index < length) {\n    if (aStr.charAt(index) === ';') {\n      generatedLine++;\n      index++;\n      previousGeneratedColumn = 0;\n    } else if (aStr.charAt(index) === ',') {\n      index++;\n    } else {\n      mapping = new Mapping();\n      mapping.generatedLine = generatedLine; // Because each offset is encoded relative to the previous one,\n      // many segments often have the same encoding. We can exploit this\n      // fact by caching the parsed variable length fields of each segment,\n      // allowing us to avoid a second parse if we encounter the same\n      // segment again.\n\n      for (end = index; end < length; end++) {\n        if (this._charIsMappingSeparator(aStr, end)) {\n          break;\n        }\n      }\n\n      str = aStr.slice(index, end);\n      segment = cachedSegments[str];\n\n      if (segment) {\n        index += str.length;\n      } else {\n        segment = [];\n\n        while (index < end) {\n          base64VLQ.decode(aStr, index, temp);\n          value = temp.value;\n          index = temp.rest;\n          segment.push(value);\n        }\n\n        if (segment.length === 2) {\n          throw new Error('Found a source, but no line and column');\n        }\n\n        if (segment.length === 3) {\n          throw new Error('Found a source and line, but no column');\n        }\n\n        cachedSegments[str] = segment;\n      } // Generated column.\n\n\n      mapping.generatedColumn = previousGeneratedColumn + segment[0];\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (segment.length > 1) {\n        // Original source.\n        mapping.source = previousSource + segment[1];\n        previousSource += segment[1]; // Original line.\n\n        mapping.originalLine = previousOriginalLine + segment[2];\n        previousOriginalLine = mapping.originalLine; // Lines are stored 0-based\n\n        mapping.originalLine += 1; // Original column.\n\n        mapping.originalColumn = previousOriginalColumn + segment[3];\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (segment.length > 4) {\n          // Original name.\n          mapping.name = previousName + segment[4];\n          previousName += segment[4];\n        }\n      }\n\n      generatedMappings.push(mapping);\n\n      if (typeof mapping.originalLine === 'number') {\n        originalMappings.push(mapping);\n      }\n    }\n  }\n\n  quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n  this.__generatedMappings = generatedMappings;\n  quickSort(originalMappings, util.compareByOriginalPositions);\n  this.__originalMappings = originalMappings;\n};\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\n\n\nBasicSourceMapConsumer.prototype._findMapping = function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName, aColumnName, aComparator, aBias) {\n  // To return the position we are searching for, we must first find the\n  // mapping for the given position and then return the opposite position it\n  // points to. Because the mappings are sorted, we can use binary search to\n  // find the best mapping.\n  if (aNeedle[aLineName] <= 0) {\n    throw new TypeError('Line must be greater than or equal to 1, got ' + aNeedle[aLineName]);\n  }\n\n  if (aNeedle[aColumnName] < 0) {\n    throw new TypeError('Column must be greater than or equal to 0, got ' + aNeedle[aColumnName]);\n  }\n\n  return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n};\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\n\n\nBasicSourceMapConsumer.prototype.computeColumnSpans = function SourceMapConsumer_computeColumnSpans() {\n  for (var index = 0; index < this._generatedMappings.length; ++index) {\n    var mapping = this._generatedMappings[index]; // Mappings do not contain a field for the last generated columnt. We\n    // can come up with an optimistic estimate, however, by assuming that\n    // mappings are contiguous (i.e. given two consecutive mappings, the\n    // first mapping ends where the second one starts).\n\n    if (index + 1 < this._generatedMappings.length) {\n      var nextMapping = this._generatedMappings[index + 1];\n\n      if (mapping.generatedLine === nextMapping.generatedLine) {\n        mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n        continue;\n      }\n    } // The last mapping for each line spans the entire line.\n\n\n    mapping.lastGeneratedColumn = Infinity;\n  }\n};\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\n\n\nBasicSourceMapConsumer.prototype.originalPositionFor = function SourceMapConsumer_originalPositionFor(aArgs) {\n  var needle = {\n    generatedLine: util.getArg(aArgs, 'line'),\n    generatedColumn: util.getArg(aArgs, 'column')\n  };\n\n  var index = this._findMapping(needle, this._generatedMappings, \"generatedLine\", \"generatedColumn\", util.compareByGeneratedPositionsDeflated, util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND));\n\n  if (index >= 0) {\n    var mapping = this._generatedMappings[index];\n\n    if (mapping.generatedLine === needle.generatedLine) {\n      var source = util.getArg(mapping, 'source', null);\n\n      if (source !== null) {\n        source = this._sources.at(source);\n\n        if (this.sourceRoot != null) {\n          source = util.join(this.sourceRoot, source);\n        }\n      }\n\n      var name = util.getArg(mapping, 'name', null);\n\n      if (name !== null) {\n        name = this._names.at(name);\n      }\n\n      return {\n        source: source,\n        line: util.getArg(mapping, 'originalLine', null),\n        column: util.getArg(mapping, 'originalColumn', null),\n        name: name\n      };\n    }\n  }\n\n  return {\n    source: null,\n    line: null,\n    column: null,\n    name: null\n  };\n};\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\n\n\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources = function BasicSourceMapConsumer_hasContentsOfAllSources() {\n  if (!this.sourcesContent) {\n    return false;\n  }\n\n  return this.sourcesContent.length >= this._sources.size() && !this.sourcesContent.some(function (sc) {\n    return sc == null;\n  });\n};\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\n\n\nBasicSourceMapConsumer.prototype.sourceContentFor = function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n  if (!this.sourcesContent) {\n    return null;\n  }\n\n  if (this.sourceRoot != null) {\n    aSource = util.relative(this.sourceRoot, aSource);\n  }\n\n  if (this._sources.has(aSource)) {\n    return this.sourcesContent[this._sources.indexOf(aSource)];\n  }\n\n  var url;\n\n  if (this.sourceRoot != null && (url = util.urlParse(this.sourceRoot))) {\n    // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n    // many users. We can help them out when they expect file:// URIs to\n    // behave like it would if they were running a local HTTP server. See\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n    var fileUriAbsPath = aSource.replace(/^file:\\/\\//, \"\");\n\n    if (url.scheme == \"file\" && this._sources.has(fileUriAbsPath)) {\n      return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];\n    }\n\n    if ((!url.path || url.path == \"/\") && this._sources.has(\"/\" + aSource)) {\n      return this.sourcesContent[this._sources.indexOf(\"/\" + aSource)];\n    }\n  } // This function is used recursively from\n  // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n  // don't want to throw if we can't find the source - we just want to\n  // return null, so we provide a flag to exit gracefully.\n\n\n  if (nullOnMissing) {\n    return null;\n  } else {\n    throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n  }\n};\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\n\n\nBasicSourceMapConsumer.prototype.generatedPositionFor = function SourceMapConsumer_generatedPositionFor(aArgs) {\n  var source = util.getArg(aArgs, 'source');\n\n  if (this.sourceRoot != null) {\n    source = util.relative(this.sourceRoot, source);\n  }\n\n  if (!this._sources.has(source)) {\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  }\n\n  source = this._sources.indexOf(source);\n  var needle = {\n    source: source,\n    originalLine: util.getArg(aArgs, 'line'),\n    originalColumn: util.getArg(aArgs, 'column')\n  };\n\n  var index = this._findMapping(needle, this._originalMappings, \"originalLine\", \"originalColumn\", util.compareByOriginalPositions, util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND));\n\n  if (index >= 0) {\n    var mapping = this._originalMappings[index];\n\n    if (mapping.source === needle.source) {\n      return {\n        line: util.getArg(mapping, 'generatedLine', null),\n        column: util.getArg(mapping, 'generatedColumn', null),\n        lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n      };\n    }\n  }\n\n  return {\n    line: null,\n    column: null,\n    lastColumn: null\n  };\n};\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The only parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\n\nfunction IndexedSourceMapConsumer(aSourceMap) {\n  var sourceMap = aSourceMap;\n\n  if (typeof aSourceMap === 'string') {\n    sourceMap = JSON.parse(aSourceMap.replace(/^\\)\\]\\}'/, ''));\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line || offsetLine === lastOffset.line && offsetColumn < lastOffset.column) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n\n    lastOffset = offset;\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'))\n    };\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n/**\n * The version of the source mapping spec that we are consuming.\n */\n\nIndexedSourceMapConsumer.prototype._version = 3;\n/**\n * The list of original sources.\n */\n\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function get() {\n    var sources = [];\n\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n\n    return sources;\n  }\n});\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.\n *   - column: The column number in the generated source.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.\n *   - column: The column number in the original source, or null.\n *   - name: The original identifier, or null.\n */\n\nIndexedSourceMapConsumer.prototype.originalPositionFor = function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n  var needle = {\n    generatedLine: util.getArg(aArgs, 'line'),\n    generatedColumn: util.getArg(aArgs, 'column')\n  }; // Find the section containing the generated position we're trying to map\n  // to an original position.\n\n  var sectionIndex = binarySearch.search(needle, this._sections, function (needle, section) {\n    var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n\n    if (cmp) {\n      return cmp;\n    }\n\n    return needle.generatedColumn - section.generatedOffset.generatedColumn;\n  });\n  var section = this._sections[sectionIndex];\n\n  if (!section) {\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  }\n\n  return section.consumer.originalPositionFor({\n    line: needle.generatedLine - (section.generatedOffset.generatedLine - 1),\n    column: needle.generatedColumn - (section.generatedOffset.generatedLine === needle.generatedLine ? section.generatedOffset.generatedColumn - 1 : 0),\n    bias: aArgs.bias\n  });\n};\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\n\n\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources = function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n  return this._sections.every(function (s) {\n    return s.consumer.hasContentsOfAllSources();\n  });\n};\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\n\n\nIndexedSourceMapConsumer.prototype.sourceContentFor = function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n  for (var i = 0; i < this._sections.length; i++) {\n    var section = this._sections[i];\n    var content = section.consumer.sourceContentFor(aSource, true);\n\n    if (content) {\n      return content;\n    }\n  }\n\n  if (nullOnMissing) {\n    return null;\n  } else {\n    throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n  }\n};\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.\n *   - column: The column number in the original source.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.\n *   - column: The column number in the generated source, or null.\n */\n\n\nIndexedSourceMapConsumer.prototype.generatedPositionFor = function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n  for (var i = 0; i < this._sections.length; i++) {\n    var section = this._sections[i]; // Only consider this section if the requested source is in the list of\n    // sources of the consumer.\n\n    if (section.consumer.sources.indexOf(util.getArg(aArgs, 'source')) === -1) {\n      continue;\n    }\n\n    var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n\n    if (generatedPosition) {\n      var ret = {\n        line: generatedPosition.line + (section.generatedOffset.generatedLine - 1),\n        column: generatedPosition.column + (section.generatedOffset.generatedLine === generatedPosition.line ? section.generatedOffset.generatedColumn - 1 : 0)\n      };\n      return ret;\n    }\n  }\n\n  return {\n    line: null,\n    column: null\n  };\n};\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\n\n\nIndexedSourceMapConsumer.prototype._parseMappings = function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n  this.__generatedMappings = [];\n  this.__originalMappings = [];\n\n  for (var i = 0; i < this._sections.length; i++) {\n    var section = this._sections[i];\n    var sectionMappings = section.consumer._generatedMappings;\n\n    for (var j = 0; j < sectionMappings.length; j++) {\n      var mapping = sectionMappings[j];\n\n      var source = section.consumer._sources.at(mapping.source);\n\n      if (section.consumer.sourceRoot !== null) {\n        source = util.join(section.consumer.sourceRoot, source);\n      }\n\n      this._sources.add(source);\n\n      source = this._sources.indexOf(source);\n\n      var name = section.consumer._names.at(mapping.name);\n\n      this._names.add(name);\n\n      name = this._names.indexOf(name); // The mappings coming from the consumer for the section have\n      // generated positions relative to the start of the section, so we\n      // need to offset them to be relative to the start of the concatenated\n      // generated file.\n\n      var adjustedMapping = {\n        source: source,\n        generatedLine: mapping.generatedLine + (section.generatedOffset.generatedLine - 1),\n        generatedColumn: mapping.generatedColumn + (section.generatedOffset.generatedLine === mapping.generatedLine ? section.generatedOffset.generatedColumn - 1 : 0),\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: name\n      };\n\n      this.__generatedMappings.push(adjustedMapping);\n\n      if (typeof adjustedMapping.originalLine === 'number') {\n        this.__originalMappings.push(adjustedMapping);\n      }\n    }\n  }\n\n  quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n  quickSort(this.__originalMappings, util.compareByOriginalPositions);\n};\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\n\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  } else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    } // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n\n\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  } else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    } // we are in termination case (3) or (2) and return the appropriate thing.\n\n\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\n\n\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack, aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n\n  if (index < 0) {\n    return -1;\n  } // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n\n\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n\n    --index;\n  }\n\n  return index;\n};","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\n\n\nfunction randomIntInRange(low, high) {\n  return Math.round(low + Math.random() * (high - low));\n}\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\n\n\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r]; // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1; // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\n\n\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};","/* -*- Mode: js; js-indent-level: 2; -*- */\n\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\n\nvar util = require('./util'); // Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\n\n\nvar REGEX_NEWLINE = /(\\r?\\n)/; // Newline character code for charCodeAt() comparisons\n\nvar NEWLINE_CODE = 10; // Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\n\nvar isSourceNode = \"$$$isSourceNode$$$\";\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\n\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\n\n\nSourceNode.fromStringWithSourceMap = function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n  // The SourceNode we want to fill with the generated code\n  // and the SourceMap\n  var node = new SourceNode(); // All even indices of this array are one line of the generated code,\n  // while all odd indices are the newlines between two adjacent lines\n  // (since `REGEX_NEWLINE` captures its match).\n  // Processed fragments are removed from this array, by calling `shiftNextLine`.\n\n  var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n\n  var shiftNextLine = function shiftNextLine() {\n    var lineContents = remainingLines.shift(); // The last line of a file might not have a newline.\n\n    var newLine = remainingLines.shift() || \"\";\n    return lineContents + newLine;\n  }; // We need to remember the position of \"remainingLines\"\n\n\n  var lastGeneratedLine = 1,\n      lastGeneratedColumn = 0; // The generate SourceNodes we need a code range.\n  // To extract it current and last mapping is used.\n  // Here we store the last mapping.\n\n  var lastMapping = null;\n  aSourceMapConsumer.eachMapping(function (mapping) {\n    if (lastMapping !== null) {\n      // We add the code from \"lastMapping\" to \"mapping\":\n      // First check if there is a new line in between.\n      if (lastGeneratedLine < mapping.generatedLine) {\n        // Associate first line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n        lastGeneratedLine++;\n        lastGeneratedColumn = 0; // The remaining code is added without mapping\n      } else {\n        // There is no new line in between.\n        // Associate the code between \"lastGeneratedColumn\" and\n        // \"mapping.generatedColumn\" with \"lastMapping\"\n        var nextLine = remainingLines[0];\n        var code = nextLine.substr(0, mapping.generatedColumn - lastGeneratedColumn);\n        remainingLines[0] = nextLine.substr(mapping.generatedColumn - lastGeneratedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n        addMappingWithCode(lastMapping, code); // No more remaining code, continue\n\n        lastMapping = mapping;\n        return;\n      }\n    } // We add the generated code until the first mapping\n    // to the SourceNode without any mapping.\n    // Each line is added as separate string.\n\n\n    while (lastGeneratedLine < mapping.generatedLine) {\n      node.add(shiftNextLine());\n      lastGeneratedLine++;\n    }\n\n    if (lastGeneratedColumn < mapping.generatedColumn) {\n      var nextLine = remainingLines[0];\n      node.add(nextLine.substr(0, mapping.generatedColumn));\n      remainingLines[0] = nextLine.substr(mapping.generatedColumn);\n      lastGeneratedColumn = mapping.generatedColumn;\n    }\n\n    lastMapping = mapping;\n  }, this); // We have processed all mappings.\n\n  if (remainingLines.length > 0) {\n    if (lastMapping) {\n      // Associate the remaining code in the current line with \"lastMapping\"\n      addMappingWithCode(lastMapping, shiftNextLine());\n    } // and add the remaining lines without any mapping\n\n\n    node.add(remainingLines.join(\"\"));\n  } // Copy sourcesContent into SourceNode\n\n\n  aSourceMapConsumer.sources.forEach(function (sourceFile) {\n    var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n\n    if (content != null) {\n      if (aRelativePath != null) {\n        sourceFile = util.join(aRelativePath, sourceFile);\n      }\n\n      node.setSourceContent(sourceFile, content);\n    }\n  });\n  return node;\n\n  function addMappingWithCode(mapping, code) {\n    if (mapping === null || mapping.source === undefined) {\n      node.add(code);\n    } else {\n      var source = aRelativePath ? util.join(aRelativePath, mapping.source) : mapping.source;\n      node.add(new SourceNode(mapping.originalLine, mapping.originalColumn, source, code, mapping.name));\n    }\n  }\n};\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\n\n\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  } else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  } else {\n    throw new TypeError(\"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk);\n  }\n\n  return this;\n};\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\n\n\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length - 1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  } else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  } else {\n    throw new TypeError(\"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk);\n  }\n\n  return this;\n};\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\n\n\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    } else {\n      if (chunk !== '') {\n        aFn(chunk, {\n          source: this.source,\n          line: this.line,\n          column: this.column,\n          name: this.name\n        });\n      }\n    }\n  }\n};\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\n\n\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n\n  if (len > 0) {\n    newChildren = [];\n\n    for (i = 0; i < len - 1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n\n  return this;\n};\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\n\n\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  } else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  } else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n\n  return this;\n};\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\n\n\nSourceNode.prototype.setSourceContent = function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n  this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n};\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\n\n\nSourceNode.prototype.walkSourceContents = function SourceNode_walkSourceContents(aFn) {\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    if (this.children[i][isSourceNode]) {\n      this.children[i].walkSourceContents(aFn);\n    }\n  }\n\n  var sources = Object.keys(this.sourceContents);\n\n  for (var i = 0, len = sources.length; i < len; i++) {\n    aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n  }\n};\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\n\n\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\n\n\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n\n    if (original.source !== null && original.line !== null && original.column !== null) {\n      if (lastOriginalSource !== original.source || lastOriginalLine !== original.line || lastOriginalColumn !== original.column || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0; // Mappings end at eol\n\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n  return {\n    code: generated.code,\n    map: map\n  };\n};\n\nexports.SourceNode = SourceNode;","//\n// Tools for performance debugging, only enabled in development mode.\n// Open up Chrome Dev Tools, then Timeline, then User Timing to see output.\n// Also see config/webpack/loaders/mark.js for the webpack loader marks.\n//\n\nlet marky;\n\nif (process.env.NODE_ENV === 'development') {\n  if (typeof performance !== 'undefined' && performance.setResourceTimingBufferSize) {\n    // Increase Firefox's performance entry limit; otherwise it's capped to 150.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1331135\n    performance.setResourceTimingBufferSize(Infinity);\n  }\n  marky = require('marky');\n  // allows us to easily do e.g. ReactPerf.printWasted() while debugging\n  //window.ReactPerf = require('react-addons-perf');\n  //window.ReactPerf.start();\n}\n\nexport function start(name) {\n  if (process.env.NODE_ENV === 'development') {\n    marky.mark(name);\n  }\n}\n\nexport function stop(name) {\n  if (process.env.NODE_ENV === 'development') {\n    marky.stop(name);\n  }\n}\n","var appCacheIframe;\n\nfunction hasSW() {\n  return 'serviceWorker' in navigator && (window.location.protocol === 'https:' || window.location.hostname === 'localhost' || window.location.hostname.indexOf('127.') === 0);\n}\n\nfunction install(options) {\n  options || (options = {});\n\n  if (hasSW()) {\n    var registration = navigator.serviceWorker.register(\"/sw.js\", {});\n    return;\n  }\n}\n\nfunction applyUpdate(callback, errback) {}\n\nfunction update() {\n  if (hasSW()) {\n    navigator.serviceWorker.getRegistration().then(function (registration) {\n      if (!registration) return;\n      return registration.update();\n    });\n  }\n}\n\nexports.install = install;\nexports.applyUpdate = applyUpdate;\nexports.update = update;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport warning from \"warning\";\nimport invariant from \"invariant\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n/**\n * The public API for putting history on context.\n */\n\nvar Router = function (_React$Component) {\n  _inherits(Router, _React$Component);\n\n  function Router() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Router);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      match: _this.computeMatch(_this.props.history.location.pathname)\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Router.prototype.getChildContext = function getChildContext() {\n    return {\n      router: _extends({}, this.context.router, {\n        history: this.props.history,\n        route: {\n          location: this.props.history.location,\n          match: this.state.match\n        }\n      })\n    };\n  };\n\n  Router.prototype.computeMatch = function computeMatch(pathname) {\n    return {\n      path: \"/\",\n      url: \"/\",\n      params: {},\n      isExact: pathname === \"/\"\n    };\n  };\n\n  Router.prototype.componentWillMount = function componentWillMount() {\n    var _this2 = this;\n\n    var _props = this.props,\n        children = _props.children,\n        history = _props.history;\n    invariant(children == null || React.Children.count(children) === 1, \"A <Router> may have only one child element\"); // Do this here so we can setState when a <Redirect> changes the\n    // location in componentWillMount. This happens e.g. when doing\n    // server rendering using a <StaticRouter>.\n\n    this.unlisten = history.listen(function () {\n      _this2.setState({\n        match: _this2.computeMatch(history.location.pathname)\n      });\n    });\n  };\n\n  Router.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    warning(this.props.history === nextProps.history, \"You cannot change <Router history>\");\n  };\n\n  Router.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unlisten();\n  };\n\n  Router.prototype.render = function render() {\n    var children = this.props.children;\n    return children ? React.Children.only(children) : null;\n  };\n\n  return Router;\n}(React.Component);\n\nRouter.propTypes = {\n  history: PropTypes.object.isRequired,\n  children: PropTypes.node\n};\nRouter.contextTypes = {\n  router: PropTypes.object\n};\nRouter.childContextTypes = {\n  router: PropTypes.object.isRequired\n};\nexport default Router;","// Written in this round about way for babel-transform-imports\nimport Router from \"react-router/es/Router\";\nexport default Router;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport warning from \"warning\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { createBrowserHistory as createHistory } from \"history\";\nimport Router from \"./Router\";\n/**\n * The public API for a <Router> that uses HTML5 history.\n */\n\nvar BrowserRouter = function (_React$Component) {\n  _inherits(BrowserRouter, _React$Component);\n\n  function BrowserRouter() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, BrowserRouter);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.history = createHistory(_this.props), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  BrowserRouter.prototype.componentWillMount = function componentWillMount() {\n    warning(!this.props.history, \"<BrowserRouter> ignores the history prop. To use a custom history, \" + \"use `import { Router }` instead of `import { BrowserRouter as Router }`.\");\n  };\n\n  BrowserRouter.prototype.render = function render() {\n    return /*#__PURE__*/React.createElement(Router, {\n      history: this.history,\n      children: this.props.children\n    });\n  };\n\n  return BrowserRouter;\n}(React.Component);\n\nexport default BrowserRouter;","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n} // About 1.5x faster than the two-arg version of Array#splice()\n\n\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n} // This implementation is based heavily on node's url.parse\n\n\nfunction resolvePathname(to) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n  var hasTrailingSlash = void 0;\n\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }\n  if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n  var result = fromParts.join('/');\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n  return result;\n}\n\nexport default resolvePathname;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nfunction valueEqual(a, b) {\n  if (a === b) return true;\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return valueEqual(item, b[index]);\n    });\n  }\n\n  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n  if (aType !== bType) return false;\n\n  if (aType === 'object') {\n    var aValue = a.valueOf();\n    var bValue = b.valueOf();\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) return false;\n    return aKeys.every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport { parsePath } from './PathUtils';\nexport var createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n};\nexport var locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n};","export var addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\nexport var stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\nexport var hasBasename = function hasBasename(path, prefix) {\n  return new RegExp('^' + prefix + '(\\\\/|\\\\?|#|$)', 'i').test(path);\n};\nexport var stripBasename = function stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n};\nexport var stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\nexport var parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\nexport var createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n  return path;\n};","export var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nexport var addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\nexport var removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\nexport var getConfirmation = function getConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nexport var supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n};\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nexport var supportsPopStateOnHashChange = function supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nexport var supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nexport var isExtraneousPopstateEvent = function isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n};","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport warning from 'warning';\nimport invariant from 'invariant';\nimport { createLocation } from './LocationUtils';\nimport { addLeadingSlash, stripTrailingSlash, hasBasename, stripBasename, createPath } from './PathUtils';\nimport createTransitionManager from './createTransitionManager';\nimport { canUseDOM, addEventListener, removeEventListener, getConfirmation, supportsHistory, supportsPopStateOnHashChange, isExtraneousPopstateEvent } from './DOMUtils';\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar getHistoryState = function getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n};\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nvar createBrowserHistory = function createBrowserHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  invariant(canUseDOM, 'Browser history needs a DOM');\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props$forceRefresh = props.forceRefresh,\n      forceRefresh = _props$forceRefresh === undefined ? false : _props$forceRefresh,\n      _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  var getDOMLocation = function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var transitionManager = createTransitionManager();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var handlePopState = function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  };\n\n  var handleHashChange = function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  };\n\n  var forceNextPop = false;\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  };\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  var createHref = function createHref(location) {\n    return basename + createPath(location);\n  };\n\n  var push = function push(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history');\n        window.location.href = href;\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history');\n        window.location.replace(href);\n      }\n    });\n  };\n\n  var go = function go(n) {\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      addEventListener(window, PopStateEvent, handlePopState);\n      if (needsHashChangeListener) addEventListener(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      removeEventListener(window, PopStateEvent, handlePopState);\n      if (needsHashChangeListener) removeEventListener(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n};\n\nexport default createBrowserHistory;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport warning from 'warning';\nimport invariant from 'invariant';\nimport { createLocation, locationsAreEqual } from './LocationUtils';\nimport { addLeadingSlash, stripLeadingSlash, stripTrailingSlash, hasBasename, stripBasename, createPath } from './PathUtils';\nimport createTransitionManager from './createTransitionManager';\nimport { canUseDOM, addEventListener, removeEventListener, getConfirmation, supportsGoWithoutReloadUsingHash } from './DOMUtils';\nvar HashChangeEvent = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nvar getHashPath = function getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n};\n\nvar pushHashPath = function pushHashPath(path) {\n  return window.location.hash = path;\n};\n\nvar replaceHashPath = function replaceHashPath(path) {\n  var hashIndex = window.location.href.indexOf('#');\n  window.location.replace(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\n};\n\nvar createHashHistory = function createHashHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  invariant(canUseDOM, 'Hash history needs a DOM');\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props$getUserConfirm = props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === undefined ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = props.hashType,\n      hashType = _props$hashType === undefined ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  var getDOMLocation = function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".');\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  };\n\n  var transitionManager = createTransitionManager();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  var handleHashChange = function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  };\n\n  var handlePop = function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  };\n\n  var revertPop = function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }; // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  var createHref = function createHref(location) {\n    return '#' + encodePath(basename + createPath(location));\n  };\n\n  var push = function push(path, state) {\n    warning(state === undefined, 'Hash history cannot push state; it is ignored');\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex === -1 ? 0 : prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack');\n        setState();\n      }\n    });\n  };\n\n  var replace = function replace(path, state) {\n    warning(state === undefined, 'Hash history cannot replace state; it is ignored');\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  };\n\n  var go = function go(n) {\n    warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser');\n    globalHistory.go(n);\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var listenerCount = 0;\n\n  var checkDOMListeners = function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1) {\n      addEventListener(window, HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      removeEventListener(window, HashChangeEvent, handleHashChange);\n    }\n  };\n\n  var isBlocked = false;\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  };\n\n  var listen = function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  };\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n};\n\nexport default createHashHistory;","var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nimport warning from 'warning';\nimport { createPath } from './PathUtils';\nimport { createLocation } from './LocationUtils';\nimport createTransitionManager from './createTransitionManager';\n\nvar clamp = function clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n};\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nvar createMemoryHistory = function createMemoryHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var getUserConfirmation = props.getUserConfirmation,\n      _props$initialEntries = props.initialEntries,\n      initialEntries = _props$initialEntries === undefined ? ['/'] : _props$initialEntries,\n      _props$initialIndex = props.initialIndex,\n      initialIndex = _props$initialIndex === undefined ? 0 : _props$initialIndex,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  var push = function push(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  };\n\n  var replace = function replace(path, state) {\n    warning(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  };\n\n  var go = function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var canGo = function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  };\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return transitionManager.setPrompt(prompt);\n  };\n\n  var listen = function listen(listener) {\n    return transitionManager.appendListener(listener);\n  };\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n};\n\nexport default createMemoryHistory;","import pathToRegexp from \"path-to-regexp\";\nvar patternCache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\n\nvar compileGenerator = function compileGenerator(pattern) {\n  var cacheKey = pattern;\n  var cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n  if (cache[pattern]) return cache[pattern];\n  var compiledGenerator = pathToRegexp.compile(pattern);\n\n  if (cacheCount < cacheLimit) {\n    cache[pattern] = compiledGenerator;\n    cacheCount++;\n  }\n\n  return compiledGenerator;\n};\n/**\n * Public API for generating a URL pathname from a pattern and parameters.\n */\n\n\nvar generatePath = function generatePath() {\n  var pattern = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"/\";\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (pattern === \"/\") {\n    return pattern;\n  }\n\n  var generator = compileGenerator(pattern);\n  return generator(params, {\n    pretty: true\n  });\n};\n\nexport default generatePath;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport warning from \"warning\";\nimport invariant from \"invariant\";\nimport { createLocation, locationsAreEqual } from \"history\";\nimport generatePath from \"./generatePath\";\n/**\n * The public API for updating the location programmatically\n * with a component.\n */\n\nvar Redirect = function (_React$Component) {\n  _inherits(Redirect, _React$Component);\n\n  function Redirect() {\n    _classCallCheck(this, Redirect);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Redirect.prototype.isStatic = function isStatic() {\n    return this.context.router && this.context.router.staticContext;\n  };\n\n  Redirect.prototype.componentWillMount = function componentWillMount() {\n    invariant(this.context.router, \"You should not use <Redirect> outside a <Router>\");\n    if (this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidMount = function componentDidMount() {\n    if (!this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var prevTo = createLocation(prevProps.to);\n    var nextTo = createLocation(this.props.to);\n\n    if (locationsAreEqual(prevTo, nextTo)) {\n      warning(false, \"You tried to redirect to the same route you're currently on: \" + (\"\\\"\" + nextTo.pathname + nextTo.search + \"\\\"\"));\n      return;\n    }\n\n    this.perform();\n  };\n\n  Redirect.prototype.computeTo = function computeTo(_ref) {\n    var computedMatch = _ref.computedMatch,\n        to = _ref.to;\n\n    if (computedMatch) {\n      if (typeof to === \"string\") {\n        return generatePath(to, computedMatch.params);\n      } else {\n        return _extends({}, to, {\n          pathname: generatePath(to.pathname, computedMatch.params)\n        });\n      }\n    }\n\n    return to;\n  };\n\n  Redirect.prototype.perform = function perform() {\n    var history = this.context.router.history;\n    var push = this.props.push;\n    var to = this.computeTo(this.props);\n\n    if (push) {\n      history.push(to);\n    } else {\n      history.replace(to);\n    }\n  };\n\n  Redirect.prototype.render = function render() {\n    return null;\n  };\n\n  return Redirect;\n}(React.Component);\n\nRedirect.propTypes = {\n  computedMatch: PropTypes.object,\n  // private, from <Switch>\n  push: PropTypes.bool,\n  from: PropTypes.string,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired\n};\nRedirect.defaultProps = {\n  push: false\n};\nRedirect.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired\n    }).isRequired,\n    staticContext: PropTypes.object\n  }).isRequired\n};\nexport default Redirect;","// Written in this round about way for babel-transform-imports\nimport Redirect from \"react-router/es/Redirect\";\nexport default Redirect;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport warning from \"warning\";\nimport invariant from \"invariant\";\nimport matchPath from \"./matchPath\";\n/**\n * The public API for rendering the first <Route> that matches.\n */\n\nvar Switch = function (_React$Component) {\n  _inherits(Switch, _React$Component);\n\n  function Switch() {\n    _classCallCheck(this, Switch);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Switch.prototype.componentWillMount = function componentWillMount() {\n    invariant(this.context.router, \"You should not use <Switch> outside a <Router>\");\n  };\n\n  Switch.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    warning(!(nextProps.location && !this.props.location), '<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.');\n    warning(!(!nextProps.location && this.props.location), '<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.');\n  };\n\n  Switch.prototype.render = function render() {\n    var route = this.context.router.route;\n    var children = this.props.children;\n    var location = this.props.location || route.location;\n    var match = void 0,\n        child = void 0;\n    React.Children.forEach(children, function (element) {\n      if (match == null && /*#__PURE__*/React.isValidElement(element)) {\n        var _element$props = element.props,\n            pathProp = _element$props.path,\n            exact = _element$props.exact,\n            strict = _element$props.strict,\n            sensitive = _element$props.sensitive,\n            from = _element$props.from;\n        var path = pathProp || from;\n        child = element;\n        match = matchPath(location.pathname, {\n          path: path,\n          exact: exact,\n          strict: strict,\n          sensitive: sensitive\n        }, route.match);\n      }\n    });\n    return match ? /*#__PURE__*/React.cloneElement(child, {\n      location: location,\n      computedMatch: match\n    }) : null;\n  };\n\n  return Switch;\n}(React.Component);\n\nSwitch.contextTypes = {\n  router: PropTypes.shape({\n    route: PropTypes.object.isRequired\n  }).isRequired\n};\nexport default Switch;","// Written in this round about way for babel-transform-imports\nimport Switch from \"react-router/es/Switch\";\nexport default Switch;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Column from '../../../components/column';\nimport ColumnHeader from '../../../components/column_header';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\n\nexport default class ColumnLoading extends ImmutablePureComponent {\n\n  static propTypes = {\n    title: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n    icon: PropTypes.string,\n  };\n\n  static defaultProps = {\n    title: '',\n    icon: '',\n  };\n\n  render() {\n    let { title, icon } = this.props;\n    return (\n      <Column>\n        <ColumnHeader icon={icon} title={title} multiColumn={false} focusable={false} placeholder />\n        <div className='scrollable' />\n      </Column>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl } from 'react-intl';\n\nimport Column from './column';\nimport ColumnHeader from './column_header';\nimport ColumnBackButtonSlim from '../../../components/column_back_button_slim';\nimport IconButton from '../../../components/icon_button';\n\nconst messages = defineMessages({\n  title: { id: 'bundle_column_error.title', defaultMessage: 'Network error' },\n  body: { id: 'bundle_column_error.body', defaultMessage: 'Something went wrong while loading this component.' },\n  retry: { id: 'bundle_column_error.retry', defaultMessage: 'Try again' },\n});\n\nclass BundleColumnError extends React.PureComponent {\n\n  static propTypes = {\n    onRetry: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  }\n\n  handleRetry = () => {\n    this.props.onRetry();\n  }\n\n  render () {\n    const { intl: { formatMessage } } = this.props;\n\n    return (\n      <Column>\n        <ColumnHeader icon='exclamation-circle' type={formatMessage(messages.title)} />\n        <ColumnBackButtonSlim />\n        <div className='error-column'>\n          <IconButton title={formatMessage(messages.retry)} icon='refresh' onClick={this.handleRetry} size={64} />\n          {formatMessage(messages.body)}\n        </div>\n      </Column>\n    );\n  }\n\n}\n\nexport default injectIntl(BundleColumnError);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Switch, Route } from 'react-router-dom';\n\nimport ColumnLoading from '../components/column_loading';\nimport BundleColumnError from '../components/bundle_column_error';\nimport BundleContainer from '../containers/bundle_container';\n\n// Small wrapper to pass multiColumn to the route components\nexport class WrappedSwitch extends React.PureComponent {\n\n  render () {\n    const { multiColumn, children } = this.props;\n\n    return (\n      <Switch>\n        {React.Children.map(children, child => React.cloneElement(child, { multiColumn }))}\n      </Switch>\n    );\n  }\n\n}\n\nWrappedSwitch.propTypes = {\n  multiColumn: PropTypes.bool,\n  children: PropTypes.node,\n};\n\n// Small Wrapper to extract the params from the route and pass\n// them to the rendered component, together with the content to\n// be rendered inside (the children)\nexport class WrappedRoute extends React.Component {\n\n  static propTypes = {\n    component: PropTypes.func.isRequired,\n    content: PropTypes.node,\n    multiColumn: PropTypes.bool,\n    componentParams: PropTypes.object,\n  };\n\n  static defaultProps = {\n    componentParams: {},\n  };\n\n  renderComponent = ({ match }) => {\n    const { component, content, multiColumn, componentParams } = this.props;\n\n    return (\n      <BundleContainer fetchComponent={component} loading={this.renderLoading} error={this.renderError}>\n        {Component => <Component params={match.params} multiColumn={multiColumn} {...componentParams}>{content}</Component>}\n      </BundleContainer>\n    );\n  }\n\n  renderLoading = () => {\n    return <ColumnLoading />;\n  }\n\n  renderError = (props) => {\n    return <BundleColumnError {...props} />;\n  }\n\n  render () {\n    const { component: Component, content, ...rest } = this.props;\n\n    return <Route {...rest} render={this.renderComponent} />;\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Motion from '../../ui/util/optional_motion';\nimport spring from 'react-motion/lib/spring';\nimport { FormattedMessage } from 'react-intl';\n\nexport default class UploadArea extends React.PureComponent {\n\n  static propTypes = {\n    active: PropTypes.bool,\n    onClose: PropTypes.func,\n  };\n\n  handleKeyUp = (e) => {\n    const keyCode = e.keyCode;\n    if (this.props.active) {\n      switch(keyCode) {\n      case 27:\n        e.preventDefault();\n        e.stopPropagation();\n        this.props.onClose();\n        break;\n      }\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('keyup', this.handleKeyUp, false);\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('keyup', this.handleKeyUp);\n  }\n\n  render () {\n    const { active } = this.props;\n\n    return (\n      <Motion defaultStyle={{ backgroundOpacity: 0, backgroundScale: 0.95 }} style={{ backgroundOpacity: spring(active ? 1 : 0, { stiffness: 150, damping: 15 }), backgroundScale: spring(active ? 1 : 0.95, { stiffness: 200, damping: 3 }) }}>\n        {({ backgroundOpacity, backgroundScale }) => (\n          <div className='upload-area' style={{ visibility: active ? 'visible' : 'hidden', opacity: backgroundOpacity }}>\n            <div className='upload-area__drop'>\n              <div className='upload-area__background' style={{ transform: `scale(${backgroundScale})` }} />\n              <div className='upload-area__content'><FormattedMessage id='upload_area.title' defaultMessage='Drag & drop to upload' /></div>\n            </div>\n          </div>\n        )}\n      </Motion>\n    );\n  }\n\n}\n","import { connect } from 'react-redux';\nimport IconWithBadge from 'mastodon/components/icon_with_badge';\n\nconst mapStateToProps = state => ({\n  count: state.getIn(['notifications', 'unread']),\n  id: 'bell',\n});\n\nexport default connect(mapStateToProps)(IconWithBadge);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { injectIntl } from 'react-intl';\nimport { debounce } from 'lodash';\nimport { isUserTouching } from '../../../is_mobile';\nimport NotificationsCounterIcon from './notifications_counter_icon';\nimport IconSvg from 'mastodon/components/icon_svg';\nimport { connect } from 'react-redux';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport { List as ImmutableList } from 'immutable';\n\nconst mapStateToProps = state => {\n  const me = state.getIn(['meta', 'me']);\n\n  return {\n    account: state.getIn(['accounts', me]),\n  }\n}\n\nexport const links = [\n  <NavLink className='tabs-bar__link' to='/timelines/home' data-preview-title-id='column.home' data-preview-icon='home' ><IconSvg id='home' /></NavLink>,\n  <NavLink className='tabs-bar__link' to='/notifications' data-preview-title-id='column.notifications' data-preview-icon='bell' ><NotificationsCounterIcon id='notification' /></NavLink>,\n  <NavLink className='tabs-bar__link optional' to='/search' data-preview-title-id='tabs_bar.search' data-preview-icon='bell' ><IconSvg id='search' /></NavLink>,\n];\n\nexport function getIndex (path) {\n  return links.findIndex(link => link.props.to === path);\n}\n\nexport function getLink (index) {\n  return links[index].props.to;\n}\n\nexport default @withRouter @injectIntl @connect(mapStateToProps)\nclass TabsBar extends React.PureComponent {\n  \n  static propTypes = {\n    account: ImmutablePropTypes.map.isRequired,\n    intl: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n  }\n\n  componentDidMount() {\n      this.links = ImmutableList(links).push(<NavLink className='tabs-bar__link' to={`/accounts/${this.props.account.get('id')}`} data-preview-title-id='getting_started.heading' data-preview-icon='bars' ><IconSvg id='profile'  /></NavLink>);\n  }\n\n  setRef = ref => {\n    this.node = ref;\n  }\n\n  handleClick = (e) => {\n    // Only apply optimization for touch devices, which we assume are slower\n    // We thus avoid the 250ms delay for non-touch devices and the lag for touch devices\n    if (isUserTouching()) {\n      e.preventDefault();\n      e.persist();\n\n      requestAnimationFrame(() => {\n        const tabs = Array(...this.node.querySelectorAll('.tabs-bar__link'));\n        const currentTab = tabs.find(tab => tab.classList.contains('active'));\n        const nextTab = tabs.find(tab => tab.contains(e.target));\n        const nodeChildren = Array(...this.node.childNodes)\n        const nextTabIndex = nodeChildren.indexOf(nextTab)\n        const nextTabComponent = this.links.get(nextTabIndex)\n        const { props: { to } } = nextTabComponent;\n\n        if (currentTab !== nextTab) {\n          if (currentTab) {\n            currentTab.classList.remove('active');\n          }\n\n          const listener = debounce(() => {\n            nextTab.removeEventListener('transitionend', listener);\n            this.props.history.push(to);\n          }, 50);\n\n          nextTab.addEventListener('transitionend', listener);\n          nextTab.classList.add('active');\n        }\n      });\n    }\n\n  }\n\n  render () {\n    const { intl: { formatMessage } } = this.props;\n    const currentPathname = this.props.location.pathname;\n    if (!this.links) return null;\n    return (\n      <div className='tabs-bar__wrapper'>\n        <nav className='tabs-bar' ref={this.setRef}>\n          {this.links.map(link => React.cloneElement(\n            link,\n            { key: link.props.to, onClick: this.handleClick, 'aria-label': formatMessage({ id: link.props['data-preview-title-id'] }) },\n            [React.cloneElement(link.props.children, {key: link.props.to, svg: link.props.children.props.id + (currentPathname == link.props.to ? '-active' : '')})]\n          ))}\n\n        </nav>\n      </div>\n    );\n  }\n\n}\n// svg={this.props.svg + (this.props.active ? \"-active\" : \"\")}","import React from 'react';\n\nconst LogoFull = () => (\n  <svg viewBox='0 0 309.39 93.93' className='logo'>\n    <use xlinkHref='#mastodon-svg-logo-full' />\n  </svg>\n);\n\nexport default LogoFull;\n","import React from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { injectIntl } from 'react-intl';\n\nimport LogoFull from 'mastodon/components/logo_full';\n\n\nexport default @injectIntl\n@withRouter\nclass Header extends React.PureComponent {\n\n  render() {\n\n    return (\n      <div className='header__wrapper'>\n        <div className=\"logo-wrapper\">\n          <NavLink className='logo-link' to='/timelines/home' data-preview-title-id='column.home' data-preview-icon='home' ><LogoFull /></NavLink>\n        </div>\n        <div id='tabs-bar__portal' />\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\n\nconst DrawerLoading = () => (\n  <div className='drawer'>\n    <div className='drawer__pager'>\n      <div className='drawer__inner' />\n    </div>\n  </div>\n);\n\nexport default DrawerLoading;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport SearchContainer from 'mastodon/features/compose/containers/search_container';\nimport ComposeFormContainer from 'mastodon/features/compose/containers/compose_form_container';\nimport NavigationContainer from 'mastodon/features/compose/containers/navigation_container';\nimport LinkFooter from './link_footer';\nimport { changeComposing } from 'mastodon/actions/compose';\n\nexport default @connect()\nclass ComposePanel extends React.PureComponent {\n\n  static propTypes = {\n    dispatch: PropTypes.func.isRequired,\n  };\n\n  onFocus = () => {\n    this.props.dispatch(changeComposing(true));\n  }\n\n  onBlur = () => {\n    this.props.dispatch(changeComposing(false));\n  }\n\n  render() {\n    return (\n      <div className='compose-panel' onFocus={this.onFocus}>\n        <SearchContainer openInRoute />\n        <NavigationContainer onClose={this.onBlur} />\n        <ComposeFormContainer singleColumn />\n        <LinkFooter withHotkeys />\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { fetchFollowRequests } from 'mastodon/actions/accounts';\nimport { connect } from 'react-redux';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport IconWithBadge from 'mastodon/components/icon_with_badge';\nimport { List as ImmutableList } from 'immutable';\nimport { FormattedMessage } from 'react-intl';\n\nconst mapStateToProps = state => ({\n  count: state.getIn(['user_lists', 'follow_requests', 'items'], ImmutableList()).size,\n});\n\nexport default @withRouter\n@connect(mapStateToProps)\nclass FollowRequestsNavLink extends React.Component {\n\n  static propTypes = {\n    dispatch: PropTypes.func.isRequired,\n    count: PropTypes.number.isRequired,\n  };\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n\n    dispatch(fetchFollowRequests());\n  }\n\n  render () {\n    const { count } = this.props;\n\n    if (count === 0) {\n      return null;\n    }\n\n    return <NavLink className='column-link column-link--transparent' to='/follow_requests'><IconWithBadge className='column-link__icon' id='user-plus' count={count} /><FormattedMessage id='navigation_bar.follow_requests' defaultMessage='Follow Requests' /></NavLink>;\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { fetchLists } from 'mastodon/actions/lists';\nimport { connect } from 'react-redux';\nimport { createSelector } from 'reselect';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport Icon from 'mastodon/components/icon';\n\nconst getOrderedLists = createSelector([state => state.get('lists')], lists => {\n  if (!lists) {\n    return lists;\n  }\n\n  return lists.toList().filter(item => !!item).sort((a, b) => a.get('title').localeCompare(b.get('title'))).take(4);\n});\n\nconst mapStateToProps = state => ({\n  lists: getOrderedLists(state),\n});\n\nexport default @withRouter\n@connect(mapStateToProps)\nclass ListPanel extends ImmutablePureComponent {\n\n  static propTypes = {\n    dispatch: PropTypes.func.isRequired,\n    lists: ImmutablePropTypes.list,\n  };\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n    dispatch(fetchLists());\n  }\n\n  render () {\n    const { lists } = this.props;\n\n    if (!lists || lists.isEmpty()) {\n      return null;\n    }\n\n    return (\n      <div>\n        <hr />\n\n        {lists.map(list => (\n          <NavLink key={list.get('id')} className='column-link column-link--transparent' strict to={`/timelines/list/${list.get('id')}`}><Icon className='column-link__icon' id='list-ul' fixedWidth />{list.get('title')}</NavLink>\n        ))}\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport { NavLink, withRouter } from 'react-router-dom';\nimport { FormattedMessage } from 'react-intl';\nimport Icon from 'mastodon/components/icon';\nimport { profile_directory, showTrends } from 'mastodon/initial_state';\nimport NotificationsCounterIcon from './notifications_counter_icon';\nimport FollowRequestsNavLink from './follow_requests_nav_link';\nimport ListPanel from './list_panel';\nimport TrendsContainer from 'mastodon/features/getting_started/containers/trends_container';\nimport LogoFull from 'mastodon/components/logo_full';\n\nconst NavigationPanel = () => (\n  <div className='navigation-panel'>\n    <NavLink className='column-link column-link--transparent logo-link' to='/timelines/home' data-preview-title-id='column.home' data-preview-icon='home' ><LogoFull /></NavLink>\n    <NavLink className='column-link column-link--transparent' to='/timelines/home' data-preview-title-id='column.home' data-preview-icon='home' ><Icon className='column-link__icon' id='home' fixedWidth /><FormattedMessage id='tabs_bar.home' defaultMessage='Home' /></NavLink>\n    <NavLink className='column-link column-link--transparent' to='/notifications' data-preview-title-id='column.notifications' data-preview-icon='bell' ><NotificationsCounterIcon className='column-link__icon' /><FormattedMessage id='tabs_bar.notifications' defaultMessage='Notifications' /></NavLink>\n    <FollowRequestsNavLink />\n    <NavLink className='column-link column-link--transparent' to='/timelines/direct'><Icon className='column-link__icon' id='envelope' fixedWidth /><FormattedMessage id='navigation_bar.direct' defaultMessage='Direct Messages' /></NavLink>\n\n\n    <a className='column-link column-link--transparent' href='/settings/preferences'><Icon className='column-link__icon' id='cog' fixedWidth /><FormattedMessage id='navigation_bar.preferences' defaultMessage='Profile Settings' /></a>\n    <a className='column-link column-link--transparent' href='/relationships'><Icon className='column-link__icon' id='users' fixedWidth /><FormattedMessage id='navigation_bar.follows_and_followers' defaultMessage='Following' /></a>\n\n    {showTrends && <div className='flex-spacer' />}\n    {showTrends && <TrendsContainer />}\n  </div>\n);\n\nexport default withRouter(NavigationPanel);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\n\nimport ReactSwipeableViews from 'react-swipeable-views';\nimport TabsBar, { links, getIndex, getLink } from './tabs_bar';\nimport Header from './header';\n\nimport { Link } from 'react-router-dom';\n\nimport { disableSwiping } from 'mastodon/initial_state';\n\nimport BundleContainer from '../containers/bundle_container';\nimport ColumnLoading from './column_loading';\nimport DrawerLoading from './drawer_loading';\nimport BundleColumnError from './bundle_column_error';\n\nimport {\n  Compose,\n  Notifications,\n  HomeTimeline,\n  CommunityTimeline,\n  PublicTimeline,\n  HashtagTimeline,\n  DirectTimeline,\n  FavouritedStatuses,\n  BookmarkedStatuses,\n  ListTimeline,\n  Directory,\n} from '../../ui/util/async-components';\nimport Icon from 'mastodon/components/icon';\nimport ComposePanel from './compose_panel';\nimport NavigationPanel from './navigation_panel';\n\nimport { supportsPassiveEvents } from 'detect-passive-events';\nimport { scrollRight } from '../../../scroll';\n\nimport PostIcon from 'images/icons/post.png';\n\nconst componentMap = {\n  'COMPOSE': Compose,\n  'HOME': HomeTimeline,\n  'NOTIFICATIONS': Notifications,\n  'PUBLIC': PublicTimeline,\n  'REMOTE': PublicTimeline,\n  'COMMUNITY': CommunityTimeline,\n  'HASHTAG': HashtagTimeline,\n  'DIRECT': DirectTimeline,\n  'FAVOURITES': FavouritedStatuses,\n  'BOOKMARKS': BookmarkedStatuses,\n  'LIST': ListTimeline,\n  'DIRECTORY': Directory,\n};\n\nconst messages = defineMessages({\n  publish: { id: 'compose_form.publish', defaultMessage: 'Toot' },\n});\n\nconst shouldHideFAB = path => path.match(/^\\/statuses\\/|^\\/search|^\\/getting-started|^\\/start/);\n\nexport default @(component => injectIntl(component, { withRef: true }))\nclass ColumnsArea extends ImmutablePureComponent {\n\n  static contextTypes = {\n    router: PropTypes.object.isRequired,\n  };\n\n  static propTypes = {\n    intl: PropTypes.object.isRequired,\n    columns: ImmutablePropTypes.list.isRequired,\n    isModalOpen: PropTypes.bool.isRequired,\n    singleColumn: PropTypes.bool,\n    children: PropTypes.node,\n  };\n\n   // Corresponds to (max-width: 600px + (285px * 1) + (10px * 1)) in SCSS\n   mediaQuery = 'matchMedia' in window && window.matchMedia('(max-width: 895px)');\n\n  state = {\n    shouldAnimate: false,\n    renderComposePanel: !(this.mediaQuery && this.mediaQuery.matches),\n  }\n\n  componentWillReceiveProps() {\n    if (typeof this.pendingIndex !== 'number' && this.lastIndex !== getIndex(this.context.router.history.location.pathname)) {\n      this.setState({ shouldAnimate: false });\n    }\n  }\n\n  componentDidMount() {\n    if (!this.props.singleColumn) {\n      this.node.addEventListener('wheel', this.handleWheel, supportsPassiveEvents ? { passive: true } : false);\n    }\n\n    if (this.mediaQuery) {\n      if (this.mediaQuery.addEventListener) {\n        this.mediaQuery.addEventListener('change', this.handleLayoutChange);\n      } else {\n        this.mediaQuery.addListener(this.handleLayoutChange);\n      }\n      this.setState({ renderComposePanel: !this.mediaQuery.matches });\n    }\n\n    this.lastIndex   = getIndex(this.context.router.history.location.pathname);\n    this.isRtlLayout = document.getElementsByTagName('body')[0].classList.contains('rtl');\n\n    this.setState({ shouldAnimate: true });\n  }\n\n  componentWillUpdate(nextProps) {\n    if (this.props.singleColumn !== nextProps.singleColumn && nextProps.singleColumn) {\n      this.node.removeEventListener('wheel', this.handleWheel);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.singleColumn !== prevProps.singleColumn && !this.props.singleColumn) {\n      this.node.addEventListener('wheel', this.handleWheel, supportsPassiveEvents ? { passive: true } : false);\n    }\n\n    const newIndex = getIndex(this.context.router.history.location.pathname);\n\n    if (this.lastIndex !== newIndex) {\n      this.lastIndex = newIndex;\n      this.setState({ shouldAnimate: true });\n    }\n  }\n\n  componentWillUnmount () {\n    if (!this.props.singleColumn) {\n      this.node.removeEventListener('wheel', this.handleWheel);\n    }\n\n    if (this.mediaQuery) {\n      if (this.mediaQuery.removeEventListener) {\n        this.mediaQuery.removeEventListener('change', this.handleLayoutChange);\n      } else {\n        this.mediaQuery.removeListener(this.handleLayouteChange);\n      }\n    }\n  }\n\n  handleChildrenContentChange() {\n    if (!this.props.singleColumn) {\n      const modifier = this.isRtlLayout ? -1 : 1;\n      this._interruptScrollAnimation = scrollRight(this.node, (this.node.scrollWidth - window.innerWidth) * modifier);\n    }\n  }\n\n  handleLayoutChange = (e) => {\n    this.setState({ renderComposePanel: !e.matches });\n  }\n\n  handleSwipe = (index) => {\n    this.pendingIndex = index;\n\n    const nextLinkTranslationId = links[index].props['data-preview-title-id'];\n    const currentLinkSelector = '.tabs-bar__link.active';\n    const nextLinkSelector = `.tabs-bar__link[data-preview-title-id=\"${nextLinkTranslationId}\"]`;\n\n    // HACK: Remove the active class from the current link and set it to the next one\n    // React-router does this for us, but too late, feeling laggy.\n    document.querySelector(currentLinkSelector).classList.remove('active');\n    document.querySelector(nextLinkSelector).classList.add('active');\n\n    if (!this.state.shouldAnimate && typeof this.pendingIndex === 'number') {\n      this.context.router.history.push(getLink(this.pendingIndex));\n      this.pendingIndex = null;\n    }\n  }\n\n  handleAnimationEnd = () => {\n    if (typeof this.pendingIndex === 'number') {\n      this.context.router.history.push(getLink(this.pendingIndex));\n      this.pendingIndex = null;\n    }\n  }\n\n  handleWheel = () => {\n    if (typeof this._interruptScrollAnimation !== 'function') {\n      return;\n    }\n\n    this._interruptScrollAnimation();\n  }\n\n  setRef = (node) => {\n    this.node = node;\n  }\n\n  renderView = (link, index) => {\n    const columnIndex = getIndex(this.context.router.history.location.pathname);\n    const title = this.props.intl.formatMessage({ id: link.props['data-preview-title-id'] });\n    const icon = link.props['data-preview-icon'];\n\n    const view = (index === columnIndex) ?\n      React.cloneElement(this.props.children) :\n      <ColumnLoading title={title} icon={icon} />;\n\n    return (\n      <div className='columns-area columns-area--mobile' key={index}>\n        {view}\n      </div>\n    );\n  }\n\n  renderLoading = columnId => () => {\n    return columnId === 'COMPOSE' ? <DrawerLoading /> : <ColumnLoading />;\n  }\n\n  renderError = (props) => {\n    return <BundleColumnError {...props} />;\n  }\n\n  render () {\n    const { columns, children, singleColumn, isModalOpen, intl } = this.props;\n    const { shouldAnimate, renderComposePanel } = this.state;\n\n    const columnIndex = getIndex(this.context.router.history.location.pathname);\n\n    if (singleColumn) {\n      const floatingActionButton = shouldHideFAB(this.context.router.history.location.pathname) ? null : <Link key='floating-action-button' to='/statuses/new' className='floating-action-button' aria-label={intl.formatMessage(messages.publish)}><img src={PostIcon} /></Link>;\n\n      const content = columnIndex !== -1 ? (\n        <ReactSwipeableViews key='content' hysteresis={0.2} threshold={15} index={columnIndex} onChangeIndex={this.handleSwipe} onTransitionEnd={this.handleAnimationEnd} animateTransitions={shouldAnimate} springConfig={{ duration: '400ms', delay: '0s', easeFunction: 'ease' }} style={{ height: '100%' }} disabled={disableSwiping}>\n          {links.map(this.renderView)}\n        </ReactSwipeableViews>\n      ) : (\n        <div key='content' className='columns-area columns-area--mobile'>{children}</div>\n      );\n\n      return (\n        <div className='columns-area__panels'>\n          <div className='columns-area__panels__pane columns-area__panels__pane--compositional'>\n            <div className='columns-area__panels__pane__inner'>\n              {renderComposePanel && <ComposePanel />}\n            </div>\n          </div>\n\n          <div className='columns-area__panels__main'>\n            <Header />\n            {content}\n            <TabsBar key='tabs' />\n          </div>\n\n          <div className='columns-area__panels__pane columns-area__panels__pane--start columns-area__panels__pane--navigational'>\n            <div className='columns-area__panels__pane__inner'>\n              <NavigationPanel />\n            </div>\n          </div>\n\n          {floatingActionButton}\n        </div>\n      );\n    }\n\n    return (\n      <div className={`columns-area ${ isModalOpen ? 'unscrollable' : '' }`} ref={this.setRef}>\n        {columns.map(column => {\n          const params = column.get('params', null) === null ? null : column.get('params').toJS();\n          const other  = params && params.other ? params.other : {};\n\n          return (\n            <BundleContainer key={column.get('uuid')} fetchComponent={componentMap[column.get('id')]} loading={this.renderLoading(column.get('id'))} error={this.renderError}>\n              {SpecificComponent => <SpecificComponent columnId={column.get('uuid')} params={params} multiColumn {...other} />}\n            </BundleContainer>\n          );\n        })}\n\n        {React.Children.map(children, child => React.cloneElement(child, { multiColumn: true }))}\n      </div>\n    );\n  }\n\n}\n","import { connect } from 'react-redux';\nimport ColumnsArea from '../components/columns_area';\n\nconst mapStateToProps = state => ({\n  columns: state.getIn(['settings', 'columns']),\n  isModalOpen: !!state.get('modal').modalType,\n});\n\nexport default connect(mapStateToProps, null, null, { forwardRef: true })(ColumnsArea);\n","import { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { title } from 'mastodon/initial_state';\n\nconst mapStateToProps = state => ({\n  unread: state.getIn(['missed_updates', 'unread']),\n});\n\nexport default @connect(mapStateToProps)\nclass DocumentTitle extends PureComponent {\n\n  static propTypes = {\n    unread: PropTypes.number.isRequired,\n  };\n\n  componentDidMount () {\n    this._sideEffects();\n  }\n\n  componentDidUpdate() {\n    this._sideEffects();\n  }\n\n  _sideEffects () {\n    const { unread } = this.props;\n\n    if (unread > 99) {\n      document.title = `(*) ${title}`;\n    } else if (unread > 0) {\n      document.title = `(${unread}) ${title}`;\n    } else {\n      document.title = title;\n    }\n  }\n\n  render () {\n    return null;\n  }\n\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport ImmutablePropTypes from 'react-immutable-proptypes';\nimport PropTypes from 'prop-types';\nimport IconButton from 'mastodon/components/icon_button';\nimport { Link } from 'react-router-dom';\nimport Avatar from 'mastodon/components/avatar';\nimport DisplayName from 'mastodon/components/display_name';\nimport { defineMessages, injectIntl } from 'react-intl';\n\nconst messages = defineMessages({\n  close: { id: 'lightbox.close', defaultMessage: 'Close' },\n});\n\nconst mapStateToProps = (state, { accountId }) => ({\n  account: state.getIn(['accounts', accountId]),\n});\n\nexport default @connect(mapStateToProps)\n@injectIntl\nclass Header extends ImmutablePureComponent {\n\n  static propTypes = {\n    accountId: PropTypes.string.isRequired,\n    statusId: PropTypes.string.isRequired,\n    account: ImmutablePropTypes.map.isRequired,\n    onClose: PropTypes.func.isRequired,\n    intl: PropTypes.object.isRequired,\n  };\n\n  render () {\n    const { account, statusId, onClose, intl } = this.props;\n\n    return (\n      <div className='picture-in-picture__header'>\n        <Link to={`/statuses/${statusId}`} className='picture-in-picture__header__account'>\n          <Avatar account={account} size={36} />\n          <DisplayName account={account} />\n        </Link>\n\n        <IconButton icon='times' onClick={onClose} title={intl.formatMessage(messages.close)} />\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Video from 'mastodon/features/video';\nimport Audio from 'mastodon/features/audio';\nimport { removePictureInPicture } from 'mastodon/actions/picture_in_picture';\nimport Header from './components/header';\nimport Footer from './components/footer';\n\nconst mapStateToProps = state => ({\n  ...state.get('picture_in_picture'),\n});\n\nexport default @connect(mapStateToProps)\nclass PictureInPicture extends React.Component {\n\n  static propTypes = {\n    statusId: PropTypes.string,\n    accountId: PropTypes.string,\n    type: PropTypes.string,\n    src: PropTypes.string,\n    muted: PropTypes.bool,\n    volume: PropTypes.number,\n    currentTime: PropTypes.number,\n    poster: PropTypes.string,\n    backgroundColor: PropTypes.string,\n    foregroundColor: PropTypes.string,\n    accentColor: PropTypes.string,\n    dispatch: PropTypes.func.isRequired,\n  };\n\n  handleClose = () => {\n    const { dispatch } = this.props;\n    dispatch(removePictureInPicture());\n  }\n\n  render () {\n    const { type, src, currentTime, accountId, statusId } = this.props;\n\n    if (!currentTime) {\n      return null;\n    }\n\n    let player;\n\n    if (type === 'video') {\n      player = (\n        <Video\n          src={src}\n          currentTime={this.props.currentTime}\n          volume={this.props.volume}\n          muted={this.props.muted}\n          autoPlay\n          inline\n          alwaysVisible\n        />\n      );\n    } else if (type === 'audio') {\n      player = (\n        <Audio\n          src={src}\n          currentTime={this.props.currentTime}\n          volume={this.props.volume}\n          muted={this.props.muted}\n          poster={this.props.poster}\n          backgroundColor={this.props.backgroundColor}\n          foregroundColor={this.props.foregroundColor}\n          accentColor={this.props.accentColor}\n          autoPlay\n        />\n      );\n    }\n\n    return (\n      <div className='picture-in-picture'>\n        <Header accountId={accountId} statusId={statusId} onClose={this.handleClose} />\n\n        {player}\n\n        <Footer statusId={statusId} />\n      </div>\n    );\n  }\n\n}\n","import { changeSetting, saveSettings } from './settings';\n\nexport const INTRODUCTION_VERSION = 20181216044202;\n\nexport const closeOnboarding = () => dispatch => {\n  dispatch(changeSetting(['introductionVersion'], INTRODUCTION_VERSION));\n  dispatch(saveSettings());\n};\n","import classNames from 'classnames';\nimport React from 'react';\nimport { HotKeys } from 'react-hotkeys';\nimport { defineMessages, injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport NotificationsContainer from './containers/notifications_container';\nimport LoadingBarContainer from './containers/loading_bar_container';\nimport ModalContainer from './containers/modal_container';\nimport { layoutFromWindow } from 'mastodon/is_mobile';\nimport { debounce } from 'lodash';\nimport { uploadCompose, resetCompose, changeComposeSpoilerness } from '../../actions/compose';\nimport { expandHomeTimeline } from '../../actions/timelines';\nimport { expandNotifications } from '../../actions/notifications';\nimport { fetchFilters } from '../../actions/filters';\nimport { clearHeight } from '../../actions/height_cache';\nimport { focusApp, unfocusApp, changeLayout } from 'mastodon/actions/app';\nimport { synchronouslySubmitMarkers, submitMarkers, fetchMarkers } from 'mastodon/actions/markers';\nimport { WrappedSwitch, WrappedRoute } from './util/react_router_helpers';\nimport UploadArea from './components/upload_area';\nimport ColumnsAreaContainer from './containers/columns_area_container';\nimport DocumentTitle from './components/document_title';\nimport PictureInPicture from 'mastodon/features/picture_in_picture';\nimport {\n  Compose,\n  Status,\n  GettingStarted,\n  KeyboardShortcuts,\n  PublicTimeline,\n  CommunityTimeline,\n  AccountTimeline,\n  AccountGallery,\n  HomeTimeline,\n  Followers,\n  Following,\n  Reblogs,\n  Favourites,\n  DirectTimeline,\n  HashtagTimeline,\n  Notifications,\n  FollowRequests,\n  GenericNotFound,\n  FavouritedStatuses,\n  BookmarkedStatuses,\n  ListTimeline,\n  Blocks,\n  DomainBlocks,\n  Mutes,\n  PinnedStatuses,\n  Lists,\n  Search,\n  Directory,\n  FollowRecommendations,\n} from './util/async-components';\nimport { me } from '../../initial_state';\nimport { previewState as previewMediaState } from './components/media_modal';\nimport { previewState as previewVideoState } from './components/video_modal';\nimport { closeOnboarding, INTRODUCTION_VERSION } from 'mastodon/actions/onboarding';\n\n// Dummy import, to make sure that <Status /> ends up in the application bundle.\n// Without this it ends up in ~8 very commonly used bundles.\nimport '../../components/status';\n\nconst messages = defineMessages({\n  beforeUnload: { id: 'ui.beforeunload', defaultMessage: 'Your draft will be lost if you leave Mastodon.' },\n});\n\nconst mapStateToProps = state => ({\n  layout: state.getIn(['meta', 'layout']),\n  isComposing: state.getIn(['compose', 'is_composing']),\n  hasComposingText: state.getIn(['compose', 'text']).trim().length !== 0,\n  hasMediaAttachments: state.getIn(['compose', 'media_attachments']).size > 0,\n  canUploadMore: !state.getIn(['compose', 'media_attachments']).some(x => ['audio', 'video'].includes(x.get('type'))) && state.getIn(['compose', 'media_attachments']).size < 4,\n  dropdownMenuIsOpen: state.getIn(['dropdown_menu', 'openId']) !== null,\n  firstLaunch: state.getIn(['settings', 'introductionVersion'], 0) < INTRODUCTION_VERSION,\n});\n\nconst keyMap = {\n  help: '?',\n  new: 'n',\n  search: 's',\n  forceNew: 'option+n',\n  toggleComposeSpoilers: 'option+x',\n  focusColumn: ['1', '2', '3', '4', '5', '6', '7', '8', '9'],\n  reply: 'r',\n  favourite: 'f',\n  boost: 'b',\n  mention: 'm',\n  open: ['enter', 'o'],\n  openProfile: 'p',\n  moveDown: ['down', 'j'],\n  moveUp: ['up', 'k'],\n  back: 'backspace',\n  goToHome: 'g h',\n  goToNotifications: 'g n',\n  goToLocal: 'g l',\n  goToFederated: 'g t',\n  goToDirect: 'g d',\n  goToStart: 'g s',\n  goToFavourites: 'g f',\n  goToPinned: 'g p',\n  goToProfile: 'g u',\n  goToBlocked: 'g b',\n  goToMuted: 'g m',\n  goToRequests: 'g r',\n  toggleHidden: 'x',\n  toggleSensitive: 'h',\n  openMedia: 'e',\n};\n\nclass SwitchingColumnsArea extends React.PureComponent {\n\n  static propTypes = {\n    children: PropTypes.node,\n    location: PropTypes.object,\n    mobile: PropTypes.bool,\n  };\n\n  componentWillMount () {\n    if (this.props.mobile) {\n      document.body.classList.toggle('layout-single-column', true);\n      document.body.classList.toggle('layout-multiple-columns', false);\n    } else {\n      document.body.classList.toggle('layout-single-column', false);\n      document.body.classList.toggle('layout-multiple-columns', true);\n    }\n  }\n\n  componentDidUpdate (prevProps) {\n    if (![this.props.location.pathname, '/'].includes(prevProps.location.pathname)) {\n      this.node.handleChildrenContentChange();\n    }\n\n    if (prevProps.mobile !== this.props.mobile) {\n      document.body.classList.toggle('layout-single-column', this.props.mobile);\n      document.body.classList.toggle('layout-multiple-columns', !this.props.mobile);\n    }\n  }\n\n  shouldUpdateScroll (_, { location }) {\n    return location.state !== previewMediaState && location.state !== previewVideoState;\n  }\n\n  setRef = c => {\n    if (c) {\n      this.node = c.getWrappedInstance();\n    }\n  }\n\n  render () {\n    const { children, mobile } = this.props;\n    const redirect = mobile ? <Redirect from='/' to='/timelines/home' exact /> : <Redirect from='/' to='/getting-started' exact />;\n\n    return (\n      <ColumnsAreaContainer ref={this.setRef} singleColumn={mobile}>\n        <WrappedSwitch>\n          {redirect}\n          <WrappedRoute path='/getting-started' component={GettingStarted} content={children} />\n          <WrappedRoute path='/keyboard-shortcuts' component={KeyboardShortcuts} content={children} />\n          <WrappedRoute path='/timelines/home' component={HomeTimeline} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/timelines/public' exact component={PublicTimeline} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/timelines/public/local' exact component={CommunityTimeline} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/timelines/direct' component={DirectTimeline} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/timelines/tag/:id' component={HashtagTimeline} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/timelines/list/:id' component={ListTimeline} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n\n          <WrappedRoute path='/notifications' component={Notifications} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/favourites' component={FavouritedStatuses} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/bookmarks' component={BookmarkedStatuses} content={children} />\n          <WrappedRoute path='/pinned' component={PinnedStatuses} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n\n          <WrappedRoute path='/start' component={FollowRecommendations} content={children} />\n          <WrappedRoute path='/search' component={Search} content={children} />\n          <WrappedRoute path='/directory' component={Directory} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n\n          <WrappedRoute path='/statuses/new' component={Compose} content={children} />\n          <WrappedRoute path='/statuses/:statusId' exact component={Status} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/statuses/:statusId/reblogs' component={Reblogs} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/statuses/:statusId/favourites' component={Favourites} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n\n          <WrappedRoute path='/accounts/:accountId' exact component={AccountTimeline} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/accounts/:accountId/with_replies' component={AccountTimeline} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll, withReplies: true }} />\n          <WrappedRoute path='/accounts/:accountId/followers' component={Followers} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/accounts/:accountId/following' component={Following} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/accounts/:accountId/media' component={AccountGallery} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n\n          <WrappedRoute path='/follow_requests' component={FollowRequests} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/blocks' component={Blocks} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/domain_blocks' component={DomainBlocks} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/mutes' component={Mutes} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n          <WrappedRoute path='/lists' component={Lists} content={children} componentParams={{ shouldUpdateScroll: this.shouldUpdateScroll }} />\n\n          <WrappedRoute component={GenericNotFound} content={children} />\n        </WrappedSwitch>\n      </ColumnsAreaContainer>\n    );\n  }\n\n}\n\nexport default @connect(mapStateToProps)\n@injectIntl\n@withRouter\nclass UI extends React.PureComponent {\n\n  static contextTypes = {\n    router: PropTypes.object.isRequired,\n  };\n\n  static propTypes = {\n    dispatch: PropTypes.func.isRequired,\n    children: PropTypes.node,\n    isComposing: PropTypes.bool,\n    hasComposingText: PropTypes.bool,\n    hasMediaAttachments: PropTypes.bool,\n    canUploadMore: PropTypes.bool,\n    location: PropTypes.object,\n    intl: PropTypes.object.isRequired,\n    dropdownMenuIsOpen: PropTypes.bool,\n    layout: PropTypes.string.isRequired,\n    firstLaunch: PropTypes.bool,\n  };\n\n  state = {\n    draggingOver: false,\n  };\n\n  handleBeforeUnload = e => {\n    const { intl, dispatch, isComposing, hasComposingText, hasMediaAttachments } = this.props;\n\n    dispatch(synchronouslySubmitMarkers());\n\n    if (isComposing && (hasComposingText || hasMediaAttachments)) {\n      e.preventDefault();\n      // Setting returnValue to any string causes confirmation dialog.\n      // Many browsers no longer display this text to users,\n      // but we set user-friendly message for other browsers, e.g. Edge.\n      e.returnValue = intl.formatMessage(messages.beforeUnload);\n    }\n  }\n\n  handleWindowFocus = () => {\n    this.props.dispatch(focusApp());\n    this.props.dispatch(submitMarkers({ immediate: true }));\n  }\n\n  handleWindowBlur = () => {\n    this.props.dispatch(unfocusApp());\n  }\n\n  handleDragEnter = (e) => {\n    e.preventDefault();\n\n    if (!this.dragTargets) {\n      this.dragTargets = [];\n    }\n\n    if (this.dragTargets.indexOf(e.target) === -1) {\n      this.dragTargets.push(e.target);\n    }\n\n    if (e.dataTransfer && Array.from(e.dataTransfer.types).includes('Files') && this.props.canUploadMore) {\n      this.setState({ draggingOver: true });\n    }\n  }\n\n  handleDragOver = (e) => {\n    if (this.dataTransferIsText(e.dataTransfer)) return false;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    try {\n      e.dataTransfer.dropEffect = 'copy';\n    } catch (err) {\n\n    }\n\n    return false;\n  }\n\n  handleDrop = (e) => {\n    if (this.dataTransferIsText(e.dataTransfer)) return;\n\n    e.preventDefault();\n\n    this.setState({ draggingOver: false });\n    this.dragTargets = [];\n\n    if (e.dataTransfer && e.dataTransfer.files.length >= 1 && this.props.canUploadMore) {\n      this.props.dispatch(uploadCompose(e.dataTransfer.files));\n    }\n  }\n\n  handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.dragTargets = this.dragTargets.filter(el => el !== e.target && this.node.contains(el));\n\n    if (this.dragTargets.length > 0) {\n      return;\n    }\n\n    this.setState({ draggingOver: false });\n  }\n\n  dataTransferIsText = (dataTransfer) => {\n    return (dataTransfer && Array.from(dataTransfer.types).filter((type) => type === 'text/plain').length === 1);\n  }\n\n  closeUploadModal = () => {\n    this.setState({ draggingOver: false });\n  }\n\n  handleServiceWorkerPostMessage = ({ data }) => {\n    if (data.type === 'navigate') {\n      this.context.router.history.push(data.path);\n    } else {\n      console.warn('Unknown message type:', data.type);\n    }\n  }\n\n  handleLayoutChange = debounce(() => {\n    this.props.dispatch(clearHeight()); // The cached heights are no longer accurate, invalidate\n  }, 500, {\n    trailing: true,\n  });\n\n  handleResize = () => {\n    const layout = layoutFromWindow();\n\n    if (layout !== this.props.layout) {\n      this.handleLayoutChange.cancel();\n      this.props.dispatch(changeLayout(layout));\n    } else {\n      this.handleLayoutChange();\n    }\n  }\n\n  componentDidMount () {\n    window.addEventListener('focus', this.handleWindowFocus, false);\n    window.addEventListener('blur', this.handleWindowBlur, false);\n    window.addEventListener('beforeunload', this.handleBeforeUnload, false);\n    window.addEventListener('resize', this.handleResize, { passive: true });\n\n    document.addEventListener('dragenter', this.handleDragEnter, false);\n    document.addEventListener('dragover', this.handleDragOver, false);\n    document.addEventListener('drop', this.handleDrop, false);\n    document.addEventListener('dragleave', this.handleDragLeave, false);\n    document.addEventListener('dragend', this.handleDragEnd, false);\n\n    if ('serviceWorker' in  navigator) {\n      navigator.serviceWorker.addEventListener('message', this.handleServiceWorkerPostMessage);\n    }\n\n    // On first launch, redirect to the follow recommendations page\n    if (this.props.firstLaunch) {\n      this.context.router.history.replace('/start');\n      this.props.dispatch(closeOnboarding());\n    }\n\n    this.props.dispatch(fetchMarkers());\n    this.props.dispatch(expandHomeTimeline());\n    this.props.dispatch(expandNotifications());\n    setTimeout(() => this.props.dispatch(fetchFilters()), 500);\n\n    this.hotkeys.__mousetrap__.stopCallback = (e, element) => {\n      return ['TEXTAREA', 'SELECT', 'INPUT'].includes(element.tagName);\n    };\n  }\n\n  componentWillUnmount () {\n    window.removeEventListener('focus', this.handleWindowFocus);\n    window.removeEventListener('blur', this.handleWindowBlur);\n    window.removeEventListener('beforeunload', this.handleBeforeUnload);\n    window.removeEventListener('resize', this.handleResize);\n\n    document.removeEventListener('dragenter', this.handleDragEnter);\n    document.removeEventListener('dragover', this.handleDragOver);\n    document.removeEventListener('drop', this.handleDrop);\n    document.removeEventListener('dragleave', this.handleDragLeave);\n    document.removeEventListener('dragend', this.handleDragEnd);\n  }\n\n  setRef = c => {\n    this.node = c;\n  }\n\n  handleHotkeyNew = e => {\n    e.preventDefault();\n\n    const element = this.node.querySelector('.compose-form__autosuggest-wrapper textarea');\n\n    if (element) {\n      element.focus();\n    }\n  }\n\n  handleHotkeySearch = e => {\n    e.preventDefault();\n\n    const element = this.node.querySelector('.search__input');\n\n    if (element) {\n      element.focus();\n    }\n  }\n\n  handleHotkeyForceNew = e => {\n    this.handleHotkeyNew(e);\n    this.props.dispatch(resetCompose());\n  }\n\n  handleHotkeyToggleComposeSpoilers = e => {\n    e.preventDefault();\n    this.props.dispatch(changeComposeSpoilerness());\n  }\n\n  handleHotkeyFocusColumn = e => {\n    const index  = (e.key * 1) + 1; // First child is drawer, skip that\n    const column = this.node.querySelector(`.column:nth-child(${index})`);\n    if (!column) return;\n    const container = column.querySelector('.scrollable');\n\n    if (container) {\n      const status = container.querySelector('.focusable');\n\n      if (status) {\n        if (container.scrollTop > status.offsetTop) {\n          status.scrollIntoView(true);\n        }\n        status.focus();\n      }\n    }\n  }\n\n  handleHotkeyBack = () => {\n    if (window.history && window.history.length === 1) {\n      this.context.router.history.push('/');\n    } else {\n      this.context.router.history.goBack();\n    }\n  }\n\n  setHotkeysRef = c => {\n    this.hotkeys = c;\n  }\n\n  handleHotkeyToggleHelp = () => {\n    if (this.props.location.pathname === '/keyboard-shortcuts') {\n      this.context.router.history.goBack();\n    } else {\n      this.context.router.history.push('/keyboard-shortcuts');\n    }\n  }\n\n  handleHotkeyGoToHome = () => {\n    this.context.router.history.push('/timelines/home');\n  }\n\n  handleHotkeyGoToNotifications = () => {\n    this.context.router.history.push('/notifications');\n  }\n\n  handleHotkeyGoToLocal = () => {\n    this.context.router.history.push('/timelines/public/local');\n  }\n\n  handleHotkeyGoToFederated = () => {\n    this.context.router.history.push('/timelines/public');\n  }\n\n  handleHotkeyGoToDirect = () => {\n    this.context.router.history.push('/timelines/direct');\n  }\n\n  handleHotkeyGoToStart = () => {\n    this.context.router.history.push('/getting-started');\n  }\n\n  handleHotkeyGoToFavourites = () => {\n    this.context.router.history.push('/favourites');\n  }\n\n  handleHotkeyGoToPinned = () => {\n    this.context.router.history.push('/pinned');\n  }\n\n  handleHotkeyGoToProfile = () => {\n    this.context.router.history.push(`/accounts/${me}`);\n  }\n\n  handleHotkeyGoToBlocked = () => {\n    this.context.router.history.push('/blocks');\n  }\n\n  handleHotkeyGoToMuted = () => {\n    this.context.router.history.push('/mutes');\n  }\n\n  handleHotkeyGoToRequests = () => {\n    this.context.router.history.push('/follow_requests');\n  }\n\n  render () {\n    const { draggingOver } = this.state;\n    const { children, isComposing, location, dropdownMenuIsOpen, layout } = this.props;\n\n    const handlers = {\n      help: this.handleHotkeyToggleHelp,\n      new: this.handleHotkeyNew,\n      search: this.handleHotkeySearch,\n      forceNew: this.handleHotkeyForceNew,\n      toggleComposeSpoilers: this.handleHotkeyToggleComposeSpoilers,\n      focusColumn: this.handleHotkeyFocusColumn,\n      back: this.handleHotkeyBack,\n      goToHome: this.handleHotkeyGoToHome,\n      goToNotifications: this.handleHotkeyGoToNotifications,\n      goToLocal: this.handleHotkeyGoToLocal,\n      goToFederated: this.handleHotkeyGoToFederated,\n      goToDirect: this.handleHotkeyGoToDirect,\n      goToStart: this.handleHotkeyGoToStart,\n      goToFavourites: this.handleHotkeyGoToFavourites,\n      goToPinned: this.handleHotkeyGoToPinned,\n      goToProfile: this.handleHotkeyGoToProfile,\n      goToBlocked: this.handleHotkeyGoToBlocked,\n      goToMuted: this.handleHotkeyGoToMuted,\n      goToRequests: this.handleHotkeyGoToRequests,\n    };\n\n    return (\n      <HotKeys keyMap={keyMap} handlers={handlers} ref={this.setHotkeysRef} attach={window} focused>\n        <div className={classNames('ui', { 'is-composing': isComposing })} ref={this.setRef} style={{ pointerEvents: dropdownMenuIsOpen ? 'none' : null }}>\n          <SwitchingColumnsArea location={location} mobile={layout === 'mobile' || layout === 'single-column'}>\n            {children}\n          </SwitchingColumnsArea>\n\n          {layout !== 'mobile' && <PictureInPicture />}\n          <NotificationsContainer />\n          <LoadingBarContainer className='loading-bar' />\n          <ModalContainer />\n          <UploadArea active={draggingOver} onClose={this.closeUploadModal} />\n          <DocumentTitle />\n        </div>\n      </HotKeys>\n    );\n  }\n\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { version, source_url } from 'mastodon/initial_state';\nimport StackTrace from 'stacktrace-js';\n\nexport default class ErrorBoundary extends React.PureComponent {\n\n  static propTypes = {\n    children: PropTypes.node,\n  };\n\n  state = {\n    hasError: false,\n    errorMessage: undefined,\n    stackTrace: undefined,\n    mappedStackTrace: undefined,\n    componentStack: undefined,\n  };\n\n  componentDidCatch (error, info) {\n    this.setState({\n      hasError: true,\n      errorMessage: error.toString(),\n      stackTrace: error.stack,\n      componentStack: info && info.componentStack,\n      mappedStackTrace: undefined,\n    });\n\n    StackTrace.fromError(error).then((stackframes) => {\n      this.setState({\n        mappedStackTrace: stackframes.map((sf) => sf.toString()).join('\\n'),\n      });\n    }).catch(() => {\n      this.setState({\n        mappedStackTrace: undefined,\n      });\n    });\n  }\n\n  handleCopyStackTrace = () => {\n    const { errorMessage, stackTrace, mappedStackTrace } = this.state;\n    const textarea = document.createElement('textarea');\n\n    let contents = [errorMessage, stackTrace];\n    if (mappedStackTrace) {\n      contents.push(mappedStackTrace);\n    }\n\n    textarea.textContent    = contents.join('\\n\\n\\n');\n    textarea.style.position = 'fixed';\n\n    document.body.appendChild(textarea);\n\n    try {\n      textarea.select();\n      document.execCommand('copy');\n    } catch (e) {\n\n    } finally {\n      document.body.removeChild(textarea);\n    }\n\n    this.setState({ copied: true });\n    setTimeout(() => this.setState({ copied: false }), 700);\n  }\n\n  render() {\n    const { hasError, copied, errorMessage } = this.state;\n\n    if (!hasError) {\n      return this.props.children;\n    }\n\n    const likelyBrowserAddonIssue = errorMessage && errorMessage.includes('NotFoundError');\n\n    return (\n      <div className='error-boundary'>\n        <div>\n          <p className='error-boundary__error'>\n            { likelyBrowserAddonIssue ? (\n              <FormattedMessage id='error.unexpected_crash.explanation_addons' defaultMessage='This page could not be displayed correctly. This error is likely caused by a browser add-on or automatic translation tools.' />\n            ) : (\n              <FormattedMessage id='error.unexpected_crash.explanation' defaultMessage='Due to a bug in our code or a browser compatibility issue, this page could not be displayed correctly.' />\n            )}\n          </p>\n          <p>\n            { likelyBrowserAddonIssue ? (\n              <FormattedMessage id='error.unexpected_crash.next_steps_addons' defaultMessage='Try disabling them and refreshing the page. If that does not help, you may still be able to use Mastodon through a different browser or native app.' />\n            ) : (\n              <FormattedMessage id='error.unexpected_crash.next_steps' defaultMessage='Try refreshing the page. If that does not help, you may still be able to use Mastodon through a different browser or native app.' />\n            )}\n          </p>\n          <p className='error-boundary__footer'>Mastodon v{version}  <a href={source_url} rel='noopener noreferrer' target='_blank'><FormattedMessage id='errors.unexpected_crash.report_issue' defaultMessage='Report issue' /></a>  <button onClick={this.handleCopyStackTrace} className={copied ? 'copied' : ''}><FormattedMessage id='errors.unexpected_crash.copy_stacktrace' defaultMessage='Copy stacktrace to clipboard' /></button></p>\n        </div>\n      </div>\n    );\n  }\n\n}\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport configureStore from '../store/configureStore';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport { ScrollContext } from 'react-router-scroll-4';\nimport UI from '../features/ui';\nimport { fetchCustomEmojis } from '../actions/custom_emojis';\nimport { hydrateStore } from '../actions/store';\nimport { connectUserStream } from '../actions/streaming';\nimport { IntlProvider, addLocaleData } from 'react-intl';\nimport { getLocale } from '../locales';\nimport { previewState as previewMediaState } from 'mastodon/features/ui/components/media_modal';\nimport { previewState as previewVideoState } from 'mastodon/features/ui/components/video_modal';\nimport initialState from '../initial_state';\nimport ErrorBoundary from '../components/error_boundary';\n\nconst { localeData, messages } = getLocale();\naddLocaleData(localeData);\n\nexport const store = configureStore();\nconst hydrateAction = hydrateStore(initialState);\n\nstore.dispatch(hydrateAction);\nstore.dispatch(fetchCustomEmojis());\n\nexport default class Mastodon extends React.PureComponent {\n\n  static propTypes = {\n    locale: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    this.disconnect = store.dispatch(connectUserStream());\n  }\n\n  componentWillUnmount () {\n    if (this.disconnect) {\n      this.disconnect();\n      this.disconnect = null;\n    }\n  }\n\n  shouldUpdateScroll (_, { location }) {\n    return location.state !== previewMediaState && location.state !== previewVideoState;\n  }\n\n  render () {\n    const { locale } = this.props;\n\n    return (\n      <IntlProvider locale={locale} messages={messages}>\n        <Provider store={store}>\n          <ErrorBoundary>\n            <BrowserRouter basename='/web'>\n              <ScrollContext shouldUpdateScroll={this.shouldUpdateScroll}>\n                <Route path='/' component={UI} />\n              </ScrollContext>\n            </BrowserRouter>\n          </ErrorBoundary>\n        </Provider>\n      </IntlProvider>\n    );\n  }\n\n}\n","import * as registerPushNotifications from './actions/push_notifications';\nimport { setupBrowserNotifications } from './actions/notifications';\nimport { default as Mastodon, store } from './containers/mastodon';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport ready from './ready';\n\nconst perf = require('./performance');\n\nfunction main() {\n  perf.start('main()');\n\n  if (window.history && history.replaceState) {\n    const { pathname, search, hash } = window.location;\n    const path = pathname + search + hash;\n    if (!(/^\\/web($|\\/)/).test(path)) {\n      history.replaceState(null, document.title, `/web${path}`);\n    }\n  }\n\n  ready(() => {\n    const mountNode = document.getElementById('mastodon');\n    const props = JSON.parse(mountNode.getAttribute('data-props'));\n\n    ReactDOM.render(<Mastodon {...props} />, mountNode);\n    store.dispatch(setupBrowserNotifications());\n    if (process.env.NODE_ENV === 'production') {\n      // avoid offline in dev mode because it's harder to debug\n      require('offline-plugin/runtime').install();\n      store.dispatch(registerPushNotifications.register());\n    }\n    perf.stop('main()');\n  });\n}\n\nexport default main;\n"],"sourceRoot":""}