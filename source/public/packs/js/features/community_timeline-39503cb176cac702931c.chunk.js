(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{849:function(n,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return P}));var o,i,c,a,l=t(0),s=t(5),d=t(1),r=t.n(d),u=t(9),m=t(3),p=t(2),h=t.n(p),y=t(810),g=t(205),f=t(202),b=t(20),M=t(123),j=t(809),O=Object(m.g)(o=function(n){function e(){return n.apply(this,arguments)||this}return Object(s.a)(e,n),e.prototype.render=function(){var n=this.props,e=n.settings,t=n.onChange;return Object(l.a)("div",{},void 0,Object(l.a)("div",{className:"column-settings__row"},void 0,Object(l.a)(j.a,{settings:e,settingPath:["other","onlyMedia"],onChange:t,label:Object(l.a)(m.b,{id:"community.column_settings.media_only",defaultMessage:"Media only"})})))},e}(r.a.PureComponent))||o,v=t(45),I=Object(u.connect)((function(n,e){var t=e.columnId,o=n.getIn(["settings","columns"]),i=o.findIndex((function(n){return n.get("uuid")===t}));return{settings:t&&i>=0?o.get(i).get("params"):n.getIn(["settings","community"])}}),(function(n,e){var t=e.columnId;return{onChange(e,o){n(t?Object(M.f)(t,e,o):Object(v.c)(["community"].concat(e),o))}}}))(O),C=t(209),w=Object(m.f)({title:{id:"column.community",defaultMessage:"Local timeline"}}),P=Object(u.connect)((function(n,e){var t=e.columnId,o=t,i=n.getIn(["settings","columns"]),c=i.findIndex((function(n){return n.get("uuid")===o})),a=t&&c>=0?i.get(c).getIn(["params","other","onlyMedia"]):n.getIn(["settings","community","other","onlyMedia"]),l=n.getIn(["timelines","community"+(a?":media":"")]);return{hasUnread:!!l&&l.get("unread")>0,onlyMedia:a}}))(i=Object(m.g)((a=c=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))||this).handlePin=function(){var n=e.props,t=n.columnId,o=n.dispatch,i=n.onlyMedia;o(t?Object(M.h)(t):Object(M.e)("COMMUNITY",{other:{onlyMedia:i}}))},e.handleMove=function(n){var t=e.props,o=t.columnId;(0,t.dispatch)(Object(M.g)(o,n))},e.handleHeaderClick=function(){e.column.scrollTop()},e.setRef=function(n){e.column=n},e.handleLoadMore=function(n){var t=e.props,o=t.dispatch,i=t.onlyMedia;o(Object(b.s)({maxId:n,onlyMedia:i}))},e}Object(s.a)(e,n);var t=e.prototype;return t.componentDidMount=function(){var n=this.props,e=n.dispatch,t=n.onlyMedia;e(Object(b.s)({onlyMedia:t})),this.disconnect=e(Object(C.a)({onlyMedia:t}))},t.componentDidUpdate=function(n){if(n.onlyMedia!==this.props.onlyMedia){var e=this.props,t=e.dispatch,o=e.onlyMedia;this.disconnect(),t(Object(b.s)({onlyMedia:o})),this.disconnect=t(Object(C.a)({onlyMedia:o}))}},t.componentWillUnmount=function(){this.disconnect&&(this.disconnect(),this.disconnect=null)},t.render=function(){var n=this.props,e=n.intl,t=n.shouldUpdateScroll,o=n.hasUnread,i=n.columnId,c=n.multiColumn,a=n.onlyMedia,s=!!i;return r.a.createElement(g.a,{bindToDocument:!c,ref:this.setRef,label:e.formatMessage(w.title)},Object(l.a)(f.a,{icon:"users",active:o,title:e.formatMessage(w.title),onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:s,multiColumn:c},void 0,Object(l.a)(I,{columnId:i})),Object(l.a)(y.a,{trackScroll:!s,scrollKey:"community_timeline-"+i,timelineId:"community"+(a?":media":""),onLoadMore:this.handleLoadMore,emptyMessage:Object(l.a)(m.b,{id:"empty_column.community",defaultMessage:"The local timeline is empty. Write something publicly to get the ball rolling!"}),shouldUpdateScroll:t,bindToDocument:!c}))},e}(r.a.PureComponent),c.contextTypes={router:h.a.object},c.defaultProps={onlyMedia:!1},i=a))||i)||i}}]);
//# sourceMappingURL=community_timeline-39503cb176cac702931c.chunk.js.map